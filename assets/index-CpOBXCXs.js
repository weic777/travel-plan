(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function H0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Op={exports:{}},Xl={};var yb;function nx(){if(yb)return Xl;yb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:s,key:u,ref:o!==void 0?o:null,props:c}}return Xl.Fragment=e,Xl.jsx=n,Xl.jsxs=n,Xl}var vb;function ix(){return vb||(vb=1,Op.exports=nx()),Op.exports}var S=ix(),Mp={exports:{}},Me={};var _b;function rx(){if(_b)return Me;_b=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function w(L){return L===null||typeof L!="object"?null:(L=E&&L[E]||L["@@iterator"],typeof L=="function"?L:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,V={};function Q(L,Z,he){this.props=L,this.context=Z,this.refs=V,this.updater=he||N}Q.prototype.isReactComponent={},Q.prototype.setState=function(L,Z){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,Z,"setState")},Q.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function J(){}J.prototype=Q.prototype;function te(L,Z,he){this.props=L,this.context=Z,this.refs=V,this.updater=he||N}var se=te.prototype=new J;se.constructor=te,j(se,Q.prototype),se.isPureReactComponent=!0;var ue=Array.isArray;function ce(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(L,Z,he){var me=he.ref;return{$$typeof:i,type:L,key:Z,ref:me!==void 0?me:null,props:he}}function P(L,Z){return I(L.type,Z,L.props)}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function B(L){var Z={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(he){return Z[he]})}var D=/\/+/g;function oe(L,Z){return typeof L=="object"&&L!==null&&L.key!=null?B(""+L.key):Z.toString(36)}function Ee(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ce,ce):(L.status="pending",L.then(function(Z){L.status==="pending"&&(L.status="fulfilled",L.value=Z)},function(Z){L.status==="pending"&&(L.status="rejected",L.reason=Z)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function K(L,Z,he,me,xe){var De=typeof L;(De==="undefined"||De==="boolean")&&(L=null);var Ue=!1;if(L===null)Ue=!0;else switch(De){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(L.$$typeof){case i:case e:Ue=!0;break;case _:return Ue=L._init,K(Ue(L._payload),Z,he,me,xe)}}if(Ue)return xe=xe(L),Ue=me===""?"."+oe(L,0):me,ue(xe)?(he="",Ue!=null&&(he=Ue.replace(D,"$&/")+"/"),K(xe,Z,he,"",function(Dn){return Dn})):xe!=null&&(M(xe)&&(xe=P(xe,he+(xe.key==null||L&&L.key===xe.key?"":(""+xe.key).replace(D,"$&/")+"/")+Ue)),Z.push(xe)),1;Ue=0;var vt=me===""?".":me+":";if(ue(L))for(var et=0;et<L.length;et++)me=L[et],De=vt+oe(me,et),Ue+=K(me,Z,he,De,xe);else if(et=w(L),typeof et=="function")for(L=et.call(L),et=0;!(me=L.next()).done;)me=me.value,De=vt+oe(me,et++),Ue+=K(me,Z,he,De,xe);else if(De==="object"){if(typeof L.then=="function")return K(Ee(L),Z,he,me,xe);throw Z=String(L),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function de(L,Z,he){if(L==null)return L;var me=[],xe=0;return K(L,me,"","",function(De){return Z.call(he,De,xe++)}),me}function le(L){if(L._status===-1){var Z=L._result;Z=Z(),Z.then(function(he){(L._status===0||L._status===-1)&&(L._status=1,L._result=he)},function(he){(L._status===0||L._status===-1)&&(L._status=2,L._result=he)}),L._status===-1&&(L._status=0,L._result=Z)}if(L._status===1)return L._result.default;throw L._result}var je=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Xe={map:de,forEach:function(L,Z,he){de(L,function(){Z.apply(this,arguments)},he)},count:function(L){var Z=0;return de(L,function(){Z++}),Z},toArray:function(L){return de(L,function(Z){return Z})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Me.Activity=v,Me.Children=Xe,Me.Component=Q,Me.Fragment=n,Me.Profiler=o,Me.PureComponent=te,Me.StrictMode=s,Me.Suspense=p,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Me.__COMPILER_RUNTIME={__proto__:null,c:function(L){return C.H.useMemoCache(L)}},Me.cache=function(L){return function(){return L.apply(null,arguments)}},Me.cacheSignal=function(){return null},Me.cloneElement=function(L,Z,he){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var me=j({},L.props),xe=L.key;if(Z!=null)for(De in Z.key!==void 0&&(xe=""+Z.key),Z)!R.call(Z,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&Z.ref===void 0||(me[De]=Z[De]);var De=arguments.length-2;if(De===1)me.children=he;else if(1<De){for(var Ue=Array(De),vt=0;vt<De;vt++)Ue[vt]=arguments[vt+2];me.children=Ue}return I(L.type,xe,me)},Me.createContext=function(L){return L={$$typeof:u,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:c,_context:L},L},Me.createElement=function(L,Z,he){var me,xe={},De=null;if(Z!=null)for(me in Z.key!==void 0&&(De=""+Z.key),Z)R.call(Z,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(xe[me]=Z[me]);var Ue=arguments.length-2;if(Ue===1)xe.children=he;else if(1<Ue){for(var vt=Array(Ue),et=0;et<Ue;et++)vt[et]=arguments[et+2];xe.children=vt}if(L&&L.defaultProps)for(me in Ue=L.defaultProps,Ue)xe[me]===void 0&&(xe[me]=Ue[me]);return I(L,De,xe)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(L){return{$$typeof:m,render:L}},Me.isValidElement=M,Me.lazy=function(L){return{$$typeof:_,_payload:{_status:-1,_result:L},_init:le}},Me.memo=function(L,Z){return{$$typeof:g,type:L,compare:Z===void 0?null:Z}},Me.startTransition=function(L){var Z=C.T,he={};C.T=he;try{var me=L(),xe=C.S;xe!==null&&xe(he,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(ce,je)}catch(De){je(De)}finally{Z!==null&&he.types!==null&&(Z.types=he.types),C.T=Z}},Me.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Me.use=function(L){return C.H.use(L)},Me.useActionState=function(L,Z,he){return C.H.useActionState(L,Z,he)},Me.useCallback=function(L,Z){return C.H.useCallback(L,Z)},Me.useContext=function(L){return C.H.useContext(L)},Me.useDebugValue=function(){},Me.useDeferredValue=function(L,Z){return C.H.useDeferredValue(L,Z)},Me.useEffect=function(L,Z){return C.H.useEffect(L,Z)},Me.useEffectEvent=function(L){return C.H.useEffectEvent(L)},Me.useId=function(){return C.H.useId()},Me.useImperativeHandle=function(L,Z,he){return C.H.useImperativeHandle(L,Z,he)},Me.useInsertionEffect=function(L,Z){return C.H.useInsertionEffect(L,Z)},Me.useLayoutEffect=function(L,Z){return C.H.useLayoutEffect(L,Z)},Me.useMemo=function(L,Z){return C.H.useMemo(L,Z)},Me.useOptimistic=function(L,Z){return C.H.useOptimistic(L,Z)},Me.useReducer=function(L,Z,he){return C.H.useReducer(L,Z,he)},Me.useRef=function(L){return C.H.useRef(L)},Me.useState=function(L){return C.H.useState(L)},Me.useSyncExternalStore=function(L,Z,he){return C.H.useSyncExternalStore(L,Z,he)},Me.useTransition=function(){return C.H.useTransition()},Me.version="19.2.0",Me}var bb;function ch(){return bb||(bb=1,Mp.exports=rx()),Mp.exports}var Y=ch();const Ot=H0(Y);var Pp={exports:{}},Ql={},Vp={exports:{}},Lp={};var Eb;function sx(){return Eb||(Eb=1,(function(i){function e(K,de){var le=K.length;K.push(de);e:for(;0<le;){var je=le-1>>>1,Xe=K[je];if(0<o(Xe,de))K[je]=de,K[le]=Xe,le=je;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var de=K[0],le=K.pop();if(le!==de){K[0]=le;e:for(var je=0,Xe=K.length,L=Xe>>>1;je<L;){var Z=2*(je+1)-1,he=K[Z],me=Z+1,xe=K[me];if(0>o(he,le))me<Xe&&0>o(xe,he)?(K[je]=xe,K[me]=le,je=me):(K[je]=he,K[Z]=le,je=Z);else if(me<Xe&&0>o(xe,le))K[je]=xe,K[me]=le,je=me;else break e}}return de}function o(K,de){var le=K.sortIndex-de.sortIndex;return le!==0?le:K.id-de.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var u=Date,m=u.now();i.unstable_now=function(){return u.now()-m}}var p=[],g=[],_=1,v=null,E=3,w=!1,N=!1,j=!1,V=!1,Q=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function se(K){for(var de=n(g);de!==null;){if(de.callback===null)s(g);else if(de.startTime<=K)s(g),de.sortIndex=de.expirationTime,e(p,de);else break;de=n(g)}}function ue(K){if(j=!1,se(K),!N)if(n(p)!==null)N=!0,ce||(ce=!0,B());else{var de=n(g);de!==null&&Ee(ue,de.startTime-K)}}var ce=!1,C=-1,R=5,I=-1;function P(){return V?!0:!(i.unstable_now()-I<R)}function M(){if(V=!1,ce){var K=i.unstable_now();I=K;var de=!0;try{e:{N=!1,j&&(j=!1,J(C),C=-1),w=!0;var le=E;try{t:{for(se(K),v=n(p);v!==null&&!(v.expirationTime>K&&P());){var je=v.callback;if(typeof je=="function"){v.callback=null,E=v.priorityLevel;var Xe=je(v.expirationTime<=K);if(K=i.unstable_now(),typeof Xe=="function"){v.callback=Xe,se(K),de=!0;break t}v===n(p)&&s(p),se(K)}else s(p);v=n(p)}if(v!==null)de=!0;else{var L=n(g);L!==null&&Ee(ue,L.startTime-K),de=!1}}break e}finally{v=null,E=le,w=!1}de=void 0}}finally{de?B():ce=!1}}}var B;if(typeof te=="function")B=function(){te(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,oe=D.port2;D.port1.onmessage=M,B=function(){oe.postMessage(null)}}else B=function(){Q(M,0)};function Ee(K,de){C=Q(function(){K(i.unstable_now())},de)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(K){switch(E){case 1:case 2:case 3:var de=3;break;default:de=E}var le=E;E=de;try{return K()}finally{E=le}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(K,de){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var le=E;E=K;try{return de()}finally{E=le}},i.unstable_scheduleCallback=function(K,de,le){var je=i.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?je+le:je):le=je,K){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=le+Xe,K={id:_++,callback:de,priorityLevel:K,startTime:le,expirationTime:Xe,sortIndex:-1},le>je?(K.sortIndex=le,e(g,K),n(p)===null&&K===n(g)&&(j?(J(C),C=-1):j=!0,Ee(ue,le-je))):(K.sortIndex=Xe,e(p,K),N||w||(N=!0,ce||(ce=!0,B()))),K},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(K){var de=E;return function(){var le=E;E=de;try{return K.apply(this,arguments)}finally{E=le}}}})(Lp)),Lp}var Tb;function ax(){return Tb||(Tb=1,Vp.exports=sx()),Vp.exports}var kp={exports:{}},dn={};var Sb;function ox(){if(Sb)return dn;Sb=1;var i=ch();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,g,_){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:p,containerInfo:g,implementation:_}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,dn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(p,g,null,_)},dn.flushSync=function(p){var g=u.T,_=s.p;try{if(u.T=null,s.p=2,p)return p()}finally{u.T=g,s.p=_,s.d.f()}},dn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},dn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},dn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,v=m(_,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:w}):_==="script"&&s.d.X(p,{crossOrigin:v,integrity:E,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},dn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},dn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,v=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},dn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},dn.requestFormReset=function(p){s.d.r(p)},dn.unstable_batchedUpdates=function(p,g){return p(g)},dn.useFormState=function(p,g,_){return u.H.useFormState(p,g,_)},dn.useFormStatus=function(){return u.H.useHostTransitionStatus()},dn.version="19.2.0",dn}var Ab;function q0(){if(Ab)return kp.exports;Ab=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),kp.exports=ox(),kp.exports}var wb;function lx(){if(wb)return Ql;wb=1;var i=ax(),e=ch(),n=q0();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function u(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),t;if(f===l)return p(h),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var b=!1,A=h.child;A;){if(A===a){b=!0,a=h,l=f;break}if(A===l){b=!0,l=h,a=f;break}A=A.sibling}if(!b){for(A=f.child;A;){if(A===a){b=!0,a=f,l=h;break}if(A===l){b=!0,l=f,a=h;break}A=A.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function _(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_(t),r!==null)return r;t=t.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),te=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case Q:return"Profiler";case V:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case te:return t.displayName||"Context";case J:return(t._context.displayName||"Context")+".Consumer";case se:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return r=t.displayName||null,r!==null?r:oe(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return oe(t(r))}catch{}}return null}var Ee=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},je=[],Xe=-1;function L(t){return{current:t}}function Z(t){0>Xe||(t.current=je[Xe],je[Xe]=null,Xe--)}function he(t,r){Xe++,je[Xe]=t.current,t.current=r}var me=L(null),xe=L(null),De=L(null),Ue=L(null);function vt(t,r){switch(he(De,r),he(xe,t),he(me,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?B_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=B_(r),t=z_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(me),he(me,t)}function et(){Z(me),Z(xe),Z(De)}function Dn(t){t.memoizedState!==null&&he(Ue,t);var r=me.current,a=z_(r,t.type);r!==a&&(he(xe,t),he(me,a))}function nr(t){xe.current===t&&(Z(me),Z(xe)),Ue.current===t&&(Z(Ue),ql._currentValue=le)}var At,bn;function qn(t){if(At===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);At=r&&r[1]||"",bn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+At+t+bn}var Ms=!1;function ir(t,r){if(!t||Ms)return"";Ms=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var F=X}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(X){F=X}t.call(ne.prototype)}}else{try{throw Error()}catch(X){F=X}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&F&&typeof X.stack=="string")return[X.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),b=f[0],A=f[1];if(b&&A){var O=b.split(`
`),q=A.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===q.length)for(l=O.length-1,h=q.length-1;1<=l&&0<=h&&O[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==q[h]){var W=`
`+O[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{Ms=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?qn(a):""}function Ps(t,r){switch(t.tag){case 26:case 27:case 5:return qn(t.type);case 16:return qn("Lazy");case 13:return t.child!==r&&r!==null?qn("Suspense Fallback"):qn("Suspense");case 19:return qn("SuspenseList");case 0:case 15:return ir(t.type,!1);case 11:return ir(t.type.render,!1);case 1:return ir(t.type,!0);case 31:return qn("Activity");default:return""}}function Vs(t){try{var r="",a=null;do r+=Ps(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,wt=i.unstable_scheduleCallback,wi=i.unstable_cancelCallback,En=i.unstable_shouldYield,Ia=i.unstable_requestPaint,Zt=i.unstable_now,rr=i.unstable_getCurrentPriorityLevel,re=i.unstable_ImmediatePriority,_e=i.unstable_UserBlockingPriority,ye=i.unstable_NormalPriority,we=i.unstable_LowPriority,We=i.unstable_IdlePriority,xt=i.log,Ls=i.unstable_setDisableYieldValue,Nn=null,en=null;function Fn(t){if(typeof xt=="function"&&Ls(t),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(Nn,t)}catch{}}var Rt=Math.clz32?Math.clz32:Gc,zc=Math.log,Da=Math.LN2;function Gc(t){return t>>>=0,t===0?32:31-(zc(t)/Da|0)|0}var xi=256,ks=262144,Mt=4194304;function Ri(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ci(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~f,l!==0?h=Ri(l):(b&=A,b!==0?h=Ri(b):a||(a=A&~t,a!==0&&(h=Ri(a))))):(A=l&~f,A!==0?h=Ri(A):b!==0?h=Ri(b):a||(a=l&~t,a!==0&&(h=Ri(a)))),h===0?0:r!==0&&r!==h&&(r&f)===0&&(f=h&-h,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:h}function ui(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Vh(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hc(){var t=Mt;return Mt<<=1,(Mt&62914560)===0&&(Mt=4194304),t}function Ii(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Us(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lh(t,r,a,l,h,f){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,O=t.expirationTimes,q=t.hiddenUpdates;for(a=b&~a;0<a;){var W=31-Rt(a),ne=1<<W;A[W]=0,O[W]=-1;var F=q[W];if(F!==null)for(q[W]=null,W=0;W<F.length;W++){var X=F[W];X!==null&&(X.lane&=-536870913)}a&=~ne}l!==0&&js(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(b&~r))}function js(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Rt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Qo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Rt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function Ko(t,r){var a=r&-r;return a=(a&42)!==0?1:Bs(a),(a&(t.suspendedLanes|r))!==0?0:a}function Bs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function sr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qc(){var t=de.p;return t!==0?t:(t=window.event,t===void 0?32:ub(t.type))}function di(t,r){var a=de.p;try{return de.p=t,r()}finally{de.p=a}}var hi=Math.random().toString(36).slice(2),Pt="__reactFiber$"+hi,$t="__reactProps$"+hi,Di="__reactContainer$"+hi,Na="__reactEvents$"+hi,kh="__reactListeners$"+hi,Fc="__reactHandles$"+hi,$c="__reactResources$"+hi,Ni="__reactMarker$"+hi;function Oa(t){delete t[Pt],delete t[$t],delete t[Na],delete t[kh],delete t[Fc]}function Oi(t){var r=t[Pt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Di]||a[Pt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=X_(t);t!==null;){if(a=t[Pt])return a;t=X_(t)}return r}t=a,a=t.parentNode}return null}function $n(t){if(t=t[Pt]||t[Di]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function On(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Mi(t){var r=t[$c];return r||(r=t[$c]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Vt(t){t[Ni]=!0}var Wo=new Set,Jo={};function Pi(t,r){Vi(t,r),Vi(t+"Capture",r)}function Vi(t,r){for(Jo[t]=r,t=0;t<r.length;t++)Wo.add(r[t])}var Zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),el={},tl={};function Yc(t){return Et.call(tl,t)?!0:Et.call(el,t)?!1:Zo.test(t)?tl[t]=!0:(el[t]=!0,!1)}function Ma(t,r,a){if(Yc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Mn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Lt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function nl(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(b){a=""+b,f.call(this,b)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function st(t){if(!t._valueTracker){var r=Pr(t)?"checked":"value";t._valueTracker=nl(t,r,""+t[r])}}function zs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Pr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Li(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Gs=/[\n"\\]/g;function Tn(t){return t.replace(Gs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Pa(t,r,a,l,h,f,b,A){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),r!=null?b==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Yt(r)):t.value!==""+Yt(r)&&(t.value=""+Yt(r)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),r!=null?il(t,b,Yt(r)):a!=null?il(t,b,Yt(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Yt(A):t.removeAttribute("name")}function Xc(t,r,a,l,h,f,b,A){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){st(t);return}a=a!=null?""+Yt(a):"",r=r!=null?""+Yt(r):a,A||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),st(t)}function il(t,r,a){r==="number"&&Li(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Vr(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Yt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Qc(t,r,a){if(r!=null&&(r=""+Yt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Yt(a):""}function Lr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Yt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),st(t)}function Sn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Kc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rl(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Kc.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function sl(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&rl(t,h,l)}else for(var f in r)r.hasOwnProperty(f)&&rl(t,f,r[f])}function Va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function La(t){return kr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function fi(){}var al=null;function Yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ur=null,ki=null;function Hs(t){var r=$n(t);if(r&&(t=r.stateNode)){var a=t[$t]||null;e:switch(t=r.stateNode,r.type){case"input":if(Pa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[$t]||null;if(!h)throw Error(s(90));Pa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&zs(l)}break e;case"textarea":Qc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Vr(t,!!a.multiple,r,!1)}}}var ka=!1;function jr(t,r,a){if(ka)return t(r,a);ka=!0;try{var l=t(r);return l}finally{if(ka=!1,(Ur!==null||ki!==null)&&(qu(),Ur&&(r=Ur,t=ki,ki=Ur=null,Hs(r),t)))for(r=0;r<t.length;r++)Hs(t[r])}}function pi(t,r){var a=t.stateNode;if(a===null)return null;var l=a[$t]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qs=!1;if(Xn)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){qs=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{qs=!1}var Ui=null,ol=null,Fs=null;function ll(){if(Fs)return Fs;var t,r=ol,a=r.length,l,h="value"in Ui?Ui.value:Ui.textContent,f=h.length;for(t=0;t<a&&r[t]===h[t];t++);var b=a-t;for(l=1;l<=b&&r[a-l]===h[f-l];l++);return Fs=h.slice(t,1<l?1-l:void 0)}function $s(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ar(){return!0}function mi(){return!1}function tn(t){function r(a,l,h,f,b){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=b,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(f):f[A]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ar:mi,this.isPropagationStopped=mi,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ar)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ar)},persist:function(){},isPersistent:ar}),r}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=tn(or),Br=v({},or,{view:0,detail:0}),cl=tn(Br),zr,Ua,Bi,ja=v({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bi&&(Bi&&t.type==="mousemove"?(zr=t.screenX-Bi.screenX,Ua=t.screenY-Bi.screenY):Ua=zr=0,Bi=t),zr)},movementY:function(t){return"movementY"in t?t.movementY:Ua}}),ul=tn(ja),Ys=v({},ja,{dataTransfer:0}),Jc=tn(Ys),Zc=v({},Br,{relatedTarget:0}),Xs=tn(Zc),dl=v({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),eu=tn(dl),Ba=v({},or,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tu=tn(Ba),nu=v({},or,{data:0}),zi=tn(nu),iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function au(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=su[t])?!!r[t]:!1}function Gr(){return au}var gn=v({},Br,{key:function(t){if(t.key){var r=iu[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=$s(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(t){return t.type==="keypress"?$s(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$s(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ou=tn(gn),lu=v({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lr=tn(lu),d=v({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),y=tn(d),T=v({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=tn(T),G=v({},ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=tn(G),pe=v({},or,{newState:0,oldState:0}),Ve=tn(pe),Ct=[9,13,27,32],tt=Xn&&"CompositionEvent"in window,gt=null;Xn&&"documentMode"in document&&(gt=document.documentMode);var Qn=Xn&&"TextEvent"in window&&!gt,Gi=Xn&&(!tt||gt&&8<gt&&11>=gt),gi=" ",yi=!1;function Qs(t,r){switch(t){case"keyup":return Ct.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function za(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ga=!1;function x1(t,r){switch(t){case"compositionend":return za(r);case"keypress":return r.which!==32?null:(yi=!0,gi);case"textInput":return t=r.data,t===gi&&yi?null:t;default:return null}}function R1(t,r){if(Ga)return t==="compositionend"||!tt&&Qs(t,r)?(t=ll(),Fs=ol=Ui=null,Ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Gi&&r.locale!=="ko"?null:r.data;default:return null}}var C1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!C1[t.type]:r==="textarea"}function Jg(t,r,a,l){Ur?ki?ki.push(l):ki=[l]:Ur=l,r=Wu(r,"onChange"),0<r.length&&(a=new ji("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var hl=null,fl=null;function I1(t){P_(t,0)}function cu(t){var r=On(t);if(zs(r))return t}function Zg(t,r){if(t==="change")return r}var ey=!1;if(Xn){var Uh;if(Xn){var jh="oninput"in document;if(!jh){var ty=document.createElement("div");ty.setAttribute("oninput","return;"),jh=typeof ty.oninput=="function"}Uh=jh}else Uh=!1;ey=Uh&&(!document.documentMode||9<document.documentMode)}function ny(){hl&&(hl.detachEvent("onpropertychange",iy),fl=hl=null)}function iy(t){if(t.propertyName==="value"&&cu(fl)){var r=[];Jg(r,fl,t,Yn(t)),jr(I1,r)}}function D1(t,r,a){t==="focusin"?(ny(),hl=r,fl=a,hl.attachEvent("onpropertychange",iy)):t==="focusout"&&ny()}function N1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cu(fl)}function O1(t,r){if(t==="click")return cu(r)}function M1(t,r){if(t==="input"||t==="change")return cu(r)}function P1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Pn=typeof Object.is=="function"?Object.is:P1;function pl(t,r){if(Pn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(r,h)||!Pn(t[h],r[h]))return!1}return!0}function ry(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sy(t,r){var a=ry(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ry(a)}}function ay(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ay(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function oy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Li(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Li(t.document)}return r}function Bh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var V1=Xn&&"documentMode"in document&&11>=document.documentMode,Ha=null,zh=null,ml=null,Gh=!1;function ly(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gh||Ha==null||Ha!==Li(l)||(l=Ha,"selectionStart"in l&&Bh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&pl(ml,l)||(ml=l,l=Wu(zh,"onSelect"),0<l.length&&(r=new ji("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Ha)))}function Ks(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var qa={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},Hh={},cy={};Xn&&(cy=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function Ws(t){if(Hh[t])return Hh[t];if(!qa[t])return t;var r=qa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in cy)return Hh[t]=r[a];return t}var uy=Ws("animationend"),dy=Ws("animationiteration"),hy=Ws("animationstart"),L1=Ws("transitionrun"),k1=Ws("transitionstart"),U1=Ws("transitioncancel"),fy=Ws("transitionend"),py=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function vi(t,r){py.set(t,r),Pi(r,[t])}var uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Kn=[],Fa=0,Fh=0;function du(){for(var t=Fa,r=Fh=Fa=0;r<t;){var a=Kn[r];Kn[r++]=null;var l=Kn[r];Kn[r++]=null;var h=Kn[r];Kn[r++]=null;var f=Kn[r];if(Kn[r++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}f!==0&&my(a,h,f)}}function hu(t,r,a,l){Kn[Fa++]=t,Kn[Fa++]=r,Kn[Fa++]=a,Kn[Fa++]=l,Fh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $h(t,r,a,l){return hu(t,r,a,l),fu(t)}function Js(t,r){return hu(t,null,null,r),fu(t)}function my(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&r!==null&&(h=31-Rt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),f):null}function fu(t){if(50<kl)throw kl=0,np=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var $a={};function j1(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,r,a,l){return new j1(t,r,a,l)}function Yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cr(t,r){var a=t.alternate;return a===null?(a=Vn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function gy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function pu(t,r,a,l,h,f){var b=0;if(l=t,typeof t=="function")Yh(t)&&(b=1);else if(typeof t=="string")b=qw(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Vn(31,a,r,h),t.elementType=I,t.lanes=f,t;case j:return Zs(a.children,h,f,r);case V:b=8,h|=24;break;case Q:return t=Vn(12,a,r,h|2),t.elementType=Q,t.lanes=f,t;case ue:return t=Vn(13,a,r,h),t.elementType=ue,t.lanes=f,t;case ce:return t=Vn(19,a,r,h),t.elementType=ce,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:b=10;break e;case J:b=9;break e;case se:b=11;break e;case C:b=14;break e;case R:b=16,l=null;break e}b=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Vn(b,a,r,h),r.elementType=t,r.type=l,r.lanes=f,r}function Zs(t,r,a,l){return t=Vn(7,t,l,r),t.lanes=a,t}function Xh(t,r,a){return t=Vn(6,t,null,r),t.lanes=a,t}function yy(t){var r=Vn(18,null,null,0);return r.stateNode=t,r}function Qh(t,r,a){return r=Vn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var vy=new WeakMap;function Wn(t,r){if(typeof t=="object"&&t!==null){var a=vy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Vs(r)},vy.set(t,r),r)}return{value:t,source:r,stack:Vs(r)}}var Ya=[],Xa=0,mu=null,gl=0,Jn=[],Zn=0,Hr=null,Hi=1,qi="";function ur(t,r){Ya[Xa++]=gl,Ya[Xa++]=mu,mu=t,gl=r}function _y(t,r,a){Jn[Zn++]=Hi,Jn[Zn++]=qi,Jn[Zn++]=Hr,Hr=t;var l=Hi;t=qi;var h=32-Rt(l)-1;l&=~(1<<h),a+=1;var f=32-Rt(r)+h;if(30<f){var b=h-h%5;f=(l&(1<<b)-1).toString(32),l>>=b,h-=b,Hi=1<<32-Rt(r)+h|a<<h|l,qi=f+t}else Hi=1<<f|a<<h|l,qi=t}function Kh(t){t.return!==null&&(ur(t,1),_y(t,1,0))}function Wh(t){for(;t===mu;)mu=Ya[--Xa],Ya[Xa]=null,gl=Ya[--Xa],Ya[Xa]=null;for(;t===Hr;)Hr=Jn[--Zn],Jn[Zn]=null,qi=Jn[--Zn],Jn[Zn]=null,Hi=Jn[--Zn],Jn[Zn]=null}function by(t,r){Jn[Zn++]=Hi,Jn[Zn++]=qi,Jn[Zn++]=Hr,Hi=r.id,qi=r.overflow,Hr=t}var nn=null,ft=null,Ye=!1,qr=null,ei=!1,Jh=Error(s(519));function Fr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yl(Wn(r,t)),Jh}function Ey(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Pt]=t,r[$t]=l,a){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(a=0;a<jl.length;a++)ze(jl[a],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":ze("invalid",r),Xc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",r);break;case"textarea":ze("invalid",r),Lr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||U_(r.textContent,a)?(l.popover!=null&&(ze("beforetoggle",r),ze("toggle",r)),l.onScroll!=null&&ze("scroll",r),l.onScrollEnd!=null&&ze("scrollend",r),l.onClick!=null&&(r.onclick=fi),r=!0):r=!1,r||Fr(t,!0)}function Ty(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:ei=!1;return;case 27:case 3:ei=!0;return;default:nn=nn.return}}function Qa(t){if(t!==nn)return!1;if(!Ye)return Ty(t),Ye=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||yp(t.type,t.memoizedProps)),a=!a),a&&ft&&Fr(t),Ty(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ft=Y_(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ft=Y_(t)}else r===27?(r=ft,ss(t.type)?(t=Tp,Tp=null,ft=t):ft=r):ft=nn?ni(t.stateNode.nextSibling):null;return!0}function ea(){ft=nn=null,Ye=!1}function Zh(){var t=qr;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),qr=null),t}function yl(t){qr===null?qr=[t]:qr.push(t)}var ef=L(null),ta=null,dr=null;function $r(t,r,a){he(ef,r._currentValue),r._currentValue=a}function hr(t){t._currentValue=ef.current,Z(ef)}function tf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function nf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var b=h.child;f=f.firstContext;e:for(;f!==null;){var A=f;f=h;for(var O=0;O<r.length;O++)if(A.context===r[O]){f.lanes|=a,A=f.alternate,A!==null&&(A.lanes|=a),tf(f.return,a,t),l||(b=null);break e}f=A.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(s(341));b.lanes|=a,f=b.alternate,f!==null&&(f.lanes|=a),tf(b,a,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Ka(t,r,a,l){t=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var A=h.type;Pn(h.pendingProps.value,b.value)||(t!==null?t.push(A):t=[A])}}else if(h===Ue.current){if(b=h.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ql):t=[ql])}h=h.return}t!==null&&nf(r,t,a,l),r.flags|=262144}function gu(t){for(t=t.firstContext;t!==null;){if(!Pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function na(t){ta=t,dr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return Sy(ta,t)}function yu(t,r){return ta===null&&na(t),Sy(t,r)}function Sy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},dr===null){if(t===null)throw Error(s(308));dr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else dr=dr.next=r;return a}var B1=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},z1=i.unstable_scheduleCallback,G1=i.unstable_NormalPriority,kt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new B1,data:new Map,refCount:0}}function vl(t){t.refCount--,t.refCount===0&&z1(G1,function(){t.controller.abort()})}var _l=null,sf=0,Wa=0,Ja=null;function H1(t,r){if(_l===null){var a=_l=[];sf=0,Wa=lp(),Ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return sf++,r.then(Ay,Ay),r}function Ay(){if(--sf===0&&_l!==null){Ja!==null&&(Ja.status="fulfilled");var t=_l;_l=null,Wa=0,Ja=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function q1(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var wy=K.S;K.S=function(t,r){l_=Zt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&H1(t,r),wy!==null&&wy(t,r)};var ia=L(null);function af(){var t=ia.current;return t!==null?t:ht.pooledCache}function vu(t,r){r===null?he(ia,ia.current):he(ia,r.pool)}function xy(){var t=af();return t===null?null:{parent:kt._currentValue,pool:t}}var Za=Error(s(460)),of=Error(s(474)),_u=Error(s(542)),bu={then:function(){}};function Ry(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(fi,fi),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Dy(t),t;default:if(typeof r.status=="string")r.then(fi,fi);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Dy(t),t}throw sa=r,Za}}function ra(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(sa=a,Za):a}}var sa=null;function Iy(){if(sa===null)throw Error(s(459));var t=sa;return sa=null,t}function Dy(t){if(t===Za||t===_u)throw Error(s(483))}var eo=null,bl=0;function Eu(t){var r=bl;return bl+=1,eo===null&&(eo=[]),Cy(eo,t,r)}function El(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Tu(t,r){throw r.$$typeof===E?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ny(t){function r(z,k){if(t){var H=z.deletions;H===null?(z.deletions=[k],z.flags|=16):H.push(k)}}function a(z,k){if(!t)return null;for(;k!==null;)r(z,k),k=k.sibling;return null}function l(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function h(z,k){return z=cr(z,k),z.index=0,z.sibling=null,z}function f(z,k,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<k?(z.flags|=67108866,k):H):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function b(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function A(z,k,H,ee){return k===null||k.tag!==6?(k=Xh(H,z.mode,ee),k.return=z,k):(k=h(k,H),k.return=z,k)}function O(z,k,H,ee){var Ae=H.type;return Ae===j?W(z,k,H.props.children,ee,H.key):k!==null&&(k.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&ra(Ae)===k.type)?(k=h(k,H.props),El(k,H),k.return=z,k):(k=pu(H.type,H.key,H.props,null,z.mode,ee),El(k,H),k.return=z,k)}function q(z,k,H,ee){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=Qh(H,z.mode,ee),k.return=z,k):(k=h(k,H.children||[]),k.return=z,k)}function W(z,k,H,ee,Ae){return k===null||k.tag!==7?(k=Zs(H,z.mode,ee,Ae),k.return=z,k):(k=h(k,H),k.return=z,k)}function ne(z,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Xh(""+k,z.mode,H),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case w:return H=pu(k.type,k.key,k.props,null,z.mode,H),El(H,k),H.return=z,H;case N:return k=Qh(k,z.mode,H),k.return=z,k;case R:return k=ra(k),ne(z,k,H)}if(Ee(k)||B(k))return k=Zs(k,z.mode,H,null),k.return=z,k;if(typeof k.then=="function")return ne(z,Eu(k),H);if(k.$$typeof===te)return ne(z,yu(z,k),H);Tu(z,k)}return null}function F(z,k,H,ee){var Ae=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ae!==null?null:A(z,k,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===Ae?O(z,k,H,ee):null;case N:return H.key===Ae?q(z,k,H,ee):null;case R:return H=ra(H),F(z,k,H,ee)}if(Ee(H)||B(H))return Ae!==null?null:W(z,k,H,ee,null);if(typeof H.then=="function")return F(z,k,Eu(H),ee);if(H.$$typeof===te)return F(z,k,yu(z,H),ee);Tu(z,H)}return null}function X(z,k,H,ee,Ae){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(H)||null,A(k,z,""+ee,Ae);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:return z=z.get(ee.key===null?H:ee.key)||null,O(k,z,ee,Ae);case N:return z=z.get(ee.key===null?H:ee.key)||null,q(k,z,ee,Ae);case R:return ee=ra(ee),X(z,k,H,ee,Ae)}if(Ee(ee)||B(ee))return z=z.get(H)||null,W(k,z,ee,Ae,null);if(typeof ee.then=="function")return X(z,k,H,Eu(ee),Ae);if(ee.$$typeof===te)return X(z,k,H,yu(k,ee),Ae);Tu(k,ee)}return null}function ve(z,k,H,ee){for(var Ae=null,Je=null,be=k,ke=k=0,He=null;be!==null&&ke<H.length;ke++){be.index>ke?(He=be,be=null):He=be.sibling;var Ze=F(z,be,H[ke],ee);if(Ze===null){be===null&&(be=He);break}t&&be&&Ze.alternate===null&&r(z,be),k=f(Ze,k,ke),Je===null?Ae=Ze:Je.sibling=Ze,Je=Ze,be=He}if(ke===H.length)return a(z,be),Ye&&ur(z,ke),Ae;if(be===null){for(;ke<H.length;ke++)be=ne(z,H[ke],ee),be!==null&&(k=f(be,k,ke),Je===null?Ae=be:Je.sibling=be,Je=be);return Ye&&ur(z,ke),Ae}for(be=l(be);ke<H.length;ke++)He=X(be,z,ke,H[ke],ee),He!==null&&(t&&He.alternate!==null&&be.delete(He.key===null?ke:He.key),k=f(He,k,ke),Je===null?Ae=He:Je.sibling=He,Je=He);return t&&be.forEach(function(us){return r(z,us)}),Ye&&ur(z,ke),Ae}function Ce(z,k,H,ee){if(H==null)throw Error(s(151));for(var Ae=null,Je=null,be=k,ke=k=0,He=null,Ze=H.next();be!==null&&!Ze.done;ke++,Ze=H.next()){be.index>ke?(He=be,be=null):He=be.sibling;var us=F(z,be,Ze.value,ee);if(us===null){be===null&&(be=He);break}t&&be&&us.alternate===null&&r(z,be),k=f(us,k,ke),Je===null?Ae=us:Je.sibling=us,Je=us,be=He}if(Ze.done)return a(z,be),Ye&&ur(z,ke),Ae;if(be===null){for(;!Ze.done;ke++,Ze=H.next())Ze=ne(z,Ze.value,ee),Ze!==null&&(k=f(Ze,k,ke),Je===null?Ae=Ze:Je.sibling=Ze,Je=Ze);return Ye&&ur(z,ke),Ae}for(be=l(be);!Ze.done;ke++,Ze=H.next())Ze=X(be,z,ke,Ze.value,ee),Ze!==null&&(t&&Ze.alternate!==null&&be.delete(Ze.key===null?ke:Ze.key),k=f(Ze,k,ke),Je===null?Ae=Ze:Je.sibling=Ze,Je=Ze);return t&&be.forEach(function(tx){return r(z,tx)}),Ye&&ur(z,ke),Ae}function dt(z,k,H,ee){if(typeof H=="object"&&H!==null&&H.type===j&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:e:{for(var Ae=H.key;k!==null;){if(k.key===Ae){if(Ae=H.type,Ae===j){if(k.tag===7){a(z,k.sibling),ee=h(k,H.props.children),ee.return=z,z=ee;break e}}else if(k.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===R&&ra(Ae)===k.type){a(z,k.sibling),ee=h(k,H.props),El(ee,H),ee.return=z,z=ee;break e}a(z,k);break}else r(z,k);k=k.sibling}H.type===j?(ee=Zs(H.props.children,z.mode,ee,H.key),ee.return=z,z=ee):(ee=pu(H.type,H.key,H.props,null,z.mode,ee),El(ee,H),ee.return=z,z=ee)}return b(z);case N:e:{for(Ae=H.key;k!==null;){if(k.key===Ae)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(z,k.sibling),ee=h(k,H.children||[]),ee.return=z,z=ee;break e}else{a(z,k);break}else r(z,k);k=k.sibling}ee=Qh(H,z.mode,ee),ee.return=z,z=ee}return b(z);case R:return H=ra(H),dt(z,k,H,ee)}if(Ee(H))return ve(z,k,H,ee);if(B(H)){if(Ae=B(H),typeof Ae!="function")throw Error(s(150));return H=Ae.call(H),Ce(z,k,H,ee)}if(typeof H.then=="function")return dt(z,k,Eu(H),ee);if(H.$$typeof===te)return dt(z,k,yu(z,H),ee);Tu(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(z,k.sibling),ee=h(k,H),ee.return=z,z=ee):(a(z,k),ee=Xh(H,z.mode,ee),ee.return=z,z=ee),b(z)):a(z,k)}return function(z,k,H,ee){try{bl=0;var Ae=dt(z,k,H,ee);return eo=null,Ae}catch(be){if(be===Za||be===_u)throw be;var Je=Vn(29,be,null,z.mode);return Je.lanes=ee,Je.return=z,Je}finally{}}}var aa=Ny(!0),Oy=Ny(!1),Yr=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Xr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Qr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(nt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=fu(t),my(t,null,a),r}return hu(t,l,r,a),fu(t)}function Tl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Qo(t,a)}}function uf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=b:f=f.next=b,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var df=!1;function Sl(){if(df){var t=Ja;if(t!==null)throw t}}function Al(t,r,a,l){df=!1;var h=t.updateQueue;Yr=!1;var f=h.firstBaseUpdate,b=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var O=A,q=O.next;O.next=null,b===null?f=q:b.next=q,b=O;var W=t.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==b&&(A===null?W.firstBaseUpdate=q:A.next=q,W.lastBaseUpdate=O))}if(f!==null){var ne=h.baseState;b=0,W=q=O=null,A=f;do{var F=A.lane&-536870913,X=F!==A.lane;if(X?(Ge&F)===F:(l&F)===F){F!==0&&F===Wa&&(df=!0),W!==null&&(W=W.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ve=t,Ce=A;F=r;var dt=a;switch(Ce.tag){case 1:if(ve=Ce.payload,typeof ve=="function"){ne=ve.call(dt,ne,F);break e}ne=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Ce.payload,F=typeof ve=="function"?ve.call(dt,ne,F):ve,F==null)break e;ne=v({},ne,F);break e;case 2:Yr=!0}}F=A.callback,F!==null&&(t.flags|=64,X&&(t.flags|=8192),X=h.callbacks,X===null?h.callbacks=[F]:X.push(F))}else X={lane:F,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(q=W=X,O=ne):W=W.next=X,b|=F;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;X=A,A=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);W===null&&(O=ne),h.baseState=O,h.firstBaseUpdate=q,h.lastBaseUpdate=W,f===null&&(h.shared.lanes=0),es|=b,t.lanes=b,t.memoizedState=ne}}function My(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Py(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)My(a[t],r)}var to=L(null),Su=L(0);function Vy(t,r){t=Er,he(Su,t),he(to,r),Er=t|r.baseLanes}function hf(){he(Su,Er),he(to,to.current)}function ff(){Er=Su.current,Z(to),Z(Su)}var Ln=L(null),ti=null;function Kr(t){var r=t.alternate;he(It,It.current&1),he(Ln,t),ti===null&&(r===null||to.current!==null||r.memoizedState!==null)&&(ti=t)}function pf(t){he(It,It.current),he(Ln,t),ti===null&&(ti=t)}function Ly(t){t.tag===22?(he(It,It.current),he(Ln,t),ti===null&&(ti=t)):Wr()}function Wr(){he(It,It.current),he(Ln,Ln.current)}function kn(t){Z(Ln),ti===t&&(ti=null),Z(It)}var It=L(0);function Au(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bp(a)||Ep(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var fr=0,Le=null,ct=null,Ut=null,wu=!1,no=!1,oa=!1,xu=0,wl=0,io=null,F1=0;function Tt(){throw Error(s(321))}function mf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Pn(t[a],r[a]))return!1;return!0}function gf(t,r,a,l,h,f){return fr=f,Le=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=t===null||t.memoizedState===null?_v:Nf,oa=!1,f=a(l,h),oa=!1,no&&(f=Uy(r,a,l,h)),ky(t),f}function ky(t){K.H=Cl;var r=ct!==null&&ct.next!==null;if(fr=0,Ut=ct=Le=null,wu=!1,wl=0,io=null,r)throw Error(s(300));t===null||jt||(t=t.dependencies,t!==null&&gu(t)&&(jt=!0))}function Uy(t,r,a,l){Le=t;var h=0;do{if(no&&(io=null),wl=0,no=!1,25<=h)throw Error(s(301));if(h+=1,Ut=ct=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=bv,f=r(a,l)}while(no);return f}function $1(){var t=K.H,r=t.useState()[0];return r=typeof r.then=="function"?xl(r):r,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Le.flags|=1024),r}function yf(){var t=xu!==0;return xu=0,t}function vf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function _f(t){if(wu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}wu=!1}fr=0,Ut=ct=Le=null,no=!1,wl=xu=0,io=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Le.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function Dt(){if(ct===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var r=Ut===null?Le.memoizedState:Ut.next;if(r!==null)Ut=r,ct=t;else{if(t===null)throw Le.alternate===null?Error(s(467)):Error(s(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Ut===null?Le.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function Ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xl(t){var r=wl;return wl+=1,io===null&&(io=[]),t=Cy(io,t,r),r=Le,(Ut===null?r.memoizedState:Ut.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?_v:Nf),t}function Cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return xl(t);if(t.$$typeof===te)return rn(t)}throw Error(s(438,String(t)))}function bf(t){var r=null,a=Le.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Le.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Ru(),Le.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=P;return r.index++,a}function pr(t,r){return typeof r=="function"?r(t):r}function Iu(t){var r=Dt();return Ef(r,ct,t)}function Ef(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var b=h.next;h.next=f.next,f.next=b}r.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{r=h.next;var A=b=null,O=null,q=r,W=!1;do{var ne=q.lane&-536870913;if(ne!==q.lane?(Ge&ne)===ne:(fr&ne)===ne){var F=q.revertLane;if(F===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ne===Wa&&(W=!0);else if((fr&F)===F){q=q.next,F===Wa&&(W=!0);continue}else ne={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(A=O=ne,b=f):O=O.next=ne,Le.lanes|=F,es|=F;ne=q.action,oa&&a(f,ne),f=q.hasEagerState?q.eagerState:a(f,ne)}else F={lane:ne,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(A=O=F,b=f):O=O.next=F,Le.lanes|=ne,es|=ne;q=q.next}while(q!==null&&q!==r);if(O===null?b=f:O.next=A,!Pn(f,t.memoizedState)&&(jt=!0,W&&(a=Ja,a!==null)))throw a;t.memoizedState=f,t.baseState=b,t.baseQueue=O,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Tf(t){var r=Dt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do f=t(f,b.action),b=b.next;while(b!==h);Pn(f,r.memoizedState)||(jt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function jy(t,r,a){var l=Le,h=Dt(),f=Ye;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var b=!Pn((ct||h).memoizedState,a);if(b&&(h.memoizedState=a,jt=!0),h=h.queue,wf(Gy.bind(null,l,h,t),[t]),h.getSnapshot!==r||b||Ut!==null&&Ut.memoizedState.tag&1){if(l.flags|=2048,ro(9,{destroy:void 0},zy.bind(null,l,h,a,r),null),ht===null)throw Error(s(349));f||(fr&127)!==0||By(l,r,a)}return a}function By(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Le.updateQueue,r===null?(r=Ru(),Le.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function zy(t,r,a,l){r.value=a,r.getSnapshot=l,Hy(r)&&qy(t)}function Gy(t,r,a){return a(function(){Hy(r)&&qy(t)})}function Hy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Pn(t,a)}catch{return!0}}function qy(t){var r=Js(t,2);r!==null&&Cn(r,t,2)}function Sf(t){var r=yn();if(typeof t=="function"){var a=t;if(t=a(),oa){Fn(!0);try{a()}finally{Fn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:t},r}function Fy(t,r,a,l){return t.baseState=a,Ef(t,ct,typeof l=="function"?l:pr)}function Y1(t,r,a,l,h){if(Ou(t))throw Error(s(485));if(t=r.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){f.listeners.push(b)}};K.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,$y(r,f)):(f.next=a.next,r.pending=a.next=f)}}function $y(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var f=K.T,b={};K.T=b;try{var A=a(h,l),O=K.S;O!==null&&O(b,A),Yy(t,r,A)}catch(q){Af(t,r,q)}finally{f!==null&&b.types!==null&&(f.types=b.types),K.T=f}}else try{f=a(h,l),Yy(t,r,f)}catch(q){Af(t,r,q)}}function Yy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Xy(t,r,l)},function(l){return Af(t,r,l)}):Xy(t,r,a)}function Xy(t,r,a){r.status="fulfilled",r.value=a,Qy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,$y(t,a)))}function Af(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Qy(r),r=r.next;while(r!==l)}t.action=null}function Qy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Ky(t,r){return r}function Wy(t,r){if(Ye){var a=ht.formState;if(a!==null){e:{var l=Le;if(Ye){if(ft){t:{for(var h=ft,f=ei;h.nodeType!==8;){if(!f){h=null;break t}if(h=ni(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ft=ni(h.nextSibling),l=h.data==="F!";break e}}Fr(l)}l=!1}l&&(r=a[0])}}return a=yn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ky,lastRenderedState:r},a.queue=l,a=gv.bind(null,Le,l),l.dispatch=a,l=Sf(!1),f=Df.bind(null,Le,!1,l.queue),l=yn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=Y1.bind(null,Le,h,f,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Jy(t){var r=Dt();return Zy(r,ct,t)}function Zy(t,r,a){if(r=Ef(t,r,Ky)[0],t=Iu(pr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=xl(r)}catch(b){throw b===Za?_u:b}else l=r;r=Dt();var h=r.queue,f=h.dispatch;return a!==r.memoizedState&&(Le.flags|=2048,ro(9,{destroy:void 0},X1.bind(null,h,a),null)),[l,f,t]}function X1(t,r){t.action=r}function ev(t){var r=Dt(),a=ct;if(a!==null)return Zy(r,a,t);Dt(),r=r.memoizedState,a=Dt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function ro(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Le.updateQueue,r===null&&(r=Ru(),Le.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function tv(){return Dt().memoizedState}function Du(t,r,a,l){var h=yn();Le.flags|=t,h.memoizedState=ro(1|r,{destroy:void 0},a,l===void 0?null:l)}function Nu(t,r,a,l){var h=Dt();l=l===void 0?null:l;var f=h.memoizedState.inst;ct!==null&&l!==null&&mf(l,ct.memoizedState.deps)?h.memoizedState=ro(r,f,a,l):(Le.flags|=t,h.memoizedState=ro(1|r,f,a,l))}function nv(t,r){Du(8390656,8,t,r)}function wf(t,r){Nu(2048,8,t,r)}function Q1(t){Le.flags|=4;var r=Le.updateQueue;if(r===null)r=Ru(),Le.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function iv(t){var r=Dt().memoizedState;return Q1({ref:r,nextImpl:t}),function(){if((nt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function rv(t,r){return Nu(4,2,t,r)}function sv(t,r){return Nu(4,4,t,r)}function av(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ov(t,r,a){a=a!=null?a.concat([t]):null,Nu(4,4,av.bind(null,r,t),a)}function xf(){}function lv(t,r){var a=Dt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&mf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function cv(t,r){var a=Dt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&mf(r,l[1]))return l[0];if(l=t(),oa){Fn(!0);try{t()}finally{Fn(!1)}}return a.memoizedState=[l,r],l}function Rf(t,r,a){return a===void 0||(fr&1073741824)!==0&&(Ge&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=u_(),Le.lanes|=t,es|=t,a)}function uv(t,r,a,l){return Pn(a,r)?a:to.current!==null?(t=Rf(t,a,l),Pn(t,r)||(jt=!0),t):(fr&42)===0||(fr&1073741824)!==0&&(Ge&261930)===0?(jt=!0,t.memoizedState=a):(t=u_(),Le.lanes|=t,es|=t,r)}function dv(t,r,a,l,h){var f=de.p;de.p=f!==0&&8>f?f:8;var b=K.T,A={};K.T=A,Df(t,!1,r,a);try{var O=h(),q=K.S;if(q!==null&&q(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=q1(O,l);Rl(t,r,W,Bn(t))}else Rl(t,r,l,Bn(t))}catch(ne){Rl(t,r,{then:function(){},status:"rejected",reason:ne},Bn())}finally{de.p=f,b!==null&&A.types!==null&&(b.types=A.types),K.T=b}}function K1(){}function Cf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=hv(t).queue;dv(t,h,r,le,a===null?K1:function(){return fv(t),a(l)})}function hv(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:le},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function fv(t){var r=hv(t);r.next===null&&(r=t.alternate.memoizedState),Rl(t,r.next.queue,{},Bn())}function If(){return rn(ql)}function pv(){return Dt().memoizedState}function mv(){return Dt().memoizedState}function W1(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Bn();t=Xr(a);var l=Qr(r,t,a);l!==null&&(Cn(l,r,a),Tl(l,r,a)),r={cache:rf()},t.payload=r;return}r=r.return}}function J1(t,r,a){var l=Bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ou(t)?yv(r,a):(a=$h(t,r,a,l),a!==null&&(Cn(a,t,l),vv(a,r,l)))}function gv(t,r,a){var l=Bn();Rl(t,r,a,l)}function Rl(t,r,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ou(t))yv(r,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var b=r.lastRenderedState,A=f(b,a);if(h.hasEagerState=!0,h.eagerState=A,Pn(A,b))return hu(t,r,h,0),ht===null&&du(),!1}catch{}finally{}if(a=$h(t,r,h,l),a!==null)return Cn(a,t,l),vv(a,r,l),!0}return!1}function Df(t,r,a,l){if(l={lane:2,revertLane:lp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ou(t)){if(r)throw Error(s(479))}else r=$h(t,a,l,2),r!==null&&Cn(r,t,2)}function Ou(t){var r=t.alternate;return t===Le||r!==null&&r===Le}function yv(t,r){no=wu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function vv(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Qo(t,a)}}var Cl={readContext:rn,use:Cu,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};Cl.useEffectEvent=Tt;var _v={readContext:rn,use:Cu,useCallback:function(t,r){return yn().memoizedState=[t,r===void 0?null:r],t},useContext:rn,useEffect:nv,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Du(4194308,4,av.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Du(4194308,4,t,r)},useInsertionEffect:function(t,r){Du(4,2,t,r)},useMemo:function(t,r){var a=yn();r=r===void 0?null:r;var l=t();if(oa){Fn(!0);try{t()}finally{Fn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=yn();if(a!==void 0){var h=a(r);if(oa){Fn(!0);try{a(r)}finally{Fn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=J1.bind(null,Le,t),[l.memoizedState,t]},useRef:function(t){var r=yn();return t={current:t},r.memoizedState=t},useState:function(t){t=Sf(t);var r=t.queue,a=gv.bind(null,Le,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(t,r){var a=yn();return Rf(a,t,r)},useTransition:function(){var t=Sf(!1);return t=dv.bind(null,Le,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Le,h=yn();if(Ye){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ht===null)throw Error(s(349));(Ge&127)!==0||By(l,r,a)}h.memoizedState=a;var f={value:a,getSnapshot:r};return h.queue=f,nv(Gy.bind(null,l,f,t),[t]),l.flags|=2048,ro(9,{destroy:void 0},zy.bind(null,l,f,a,r),null),a},useId:function(){var t=yn(),r=ht.identifierPrefix;if(Ye){var a=qi,l=Hi;a=(l&~(1<<32-Rt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=xu++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=F1++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:If,useFormState:Wy,useActionState:Wy,useOptimistic:function(t){var r=yn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Df.bind(null,Le,!0,a),a.dispatch=r,[t,r]},useMemoCache:bf,useCacheRefresh:function(){return yn().memoizedState=W1.bind(null,Le)},useEffectEvent:function(t){var r=yn(),a={impl:t};return r.memoizedState=a,function(){if((nt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Nf={readContext:rn,use:Cu,useCallback:lv,useContext:rn,useEffect:wf,useImperativeHandle:ov,useInsertionEffect:rv,useLayoutEffect:sv,useMemo:cv,useReducer:Iu,useRef:tv,useState:function(){return Iu(pr)},useDebugValue:xf,useDeferredValue:function(t,r){var a=Dt();return uv(a,ct.memoizedState,t,r)},useTransition:function(){var t=Iu(pr)[0],r=Dt().memoizedState;return[typeof t=="boolean"?t:xl(t),r]},useSyncExternalStore:jy,useId:pv,useHostTransitionStatus:If,useFormState:Jy,useActionState:Jy,useOptimistic:function(t,r){var a=Dt();return Fy(a,ct,t,r)},useMemoCache:bf,useCacheRefresh:mv};Nf.useEffectEvent=iv;var bv={readContext:rn,use:Cu,useCallback:lv,useContext:rn,useEffect:wf,useImperativeHandle:ov,useInsertionEffect:rv,useLayoutEffect:sv,useMemo:cv,useReducer:Tf,useRef:tv,useState:function(){return Tf(pr)},useDebugValue:xf,useDeferredValue:function(t,r){var a=Dt();return ct===null?Rf(a,t,r):uv(a,ct.memoizedState,t,r)},useTransition:function(){var t=Tf(pr)[0],r=Dt().memoizedState;return[typeof t=="boolean"?t:xl(t),r]},useSyncExternalStore:jy,useId:pv,useHostTransitionStatus:If,useFormState:ev,useActionState:ev,useOptimistic:function(t,r){var a=Dt();return ct!==null?Fy(a,ct,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:bf,useCacheRefresh:mv};bv.useEffectEvent=iv;function Of(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Mf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Bn(),h=Xr(l);h.payload=r,a!=null&&(h.callback=a),r=Qr(t,h,l),r!==null&&(Cn(r,t,l),Tl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Bn(),h=Xr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Qr(t,h,l),r!==null&&(Cn(r,t,l),Tl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Bn(),l=Xr(a);l.tag=2,r!=null&&(l.callback=r),r=Qr(t,l,a),r!==null&&(Cn(r,t,a),Tl(r,t,a))}};function Ev(t,r,a,l,h,f,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,b):r.prototype&&r.prototype.isPureReactComponent?!pl(a,l)||!pl(h,f):!0}function Tv(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Mf.enqueueReplaceState(r,r.state,null)}function la(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=v({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Sv(t){uu(t)}function Av(t){console.error(t)}function wv(t){uu(t)}function Mu(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function xv(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(t,r,a){return a=Xr(a),a.tag=3,a.payload={element:null},a.callback=function(){Mu(t,r)},a}function Rv(t){return t=Xr(t),t.tag=3,t}function Cv(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){xv(r,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){xv(r,a,l),typeof h!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function Z1(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ka(r,a,h,!0),a=Ln.current,a!==null){switch(a.tag){case 31:case 13:return ti===null?Fu():a.alternate===null&&St===0&&(St=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===bu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),sp(t,l,h)),!1;case 22:return a.flags|=65536,l===bu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),sp(t,l,h)),!1}throw Error(s(435,a.tag))}return sp(t,l,h),Fu(),!1}if(Ye)return r=Ln.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Jh&&(t=Error(s(422),{cause:l}),yl(Wn(t,a)))):(l!==Jh&&(r=Error(s(423),{cause:l}),yl(Wn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Wn(l,a),h=Pf(t.stateNode,l,h),uf(t,h),St!==4&&(St=2)),!1;var f=Error(s(520),{cause:l});if(f=Wn(f,a),Ll===null?Ll=[f]:Ll.push(f),St!==4&&(St=2),r===null)return!0;l=Wn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Pf(a.stateNode,l,t),uf(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ts===null||!ts.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Rv(h),Cv(h,t,a,l),uf(a,h),!1}a=a.return}while(a!==null);return!1}var Vf=Error(s(461)),jt=!1;function sn(t,r,a,l){r.child=t===null?Oy(r,null,a,l):aa(r,t.child,a,l)}function Iv(t,r,a,l,h){a=a.render;var f=r.ref;if("ref"in l){var b={};for(var A in l)A!=="ref"&&(b[A]=l[A])}else b=l;return na(r),l=gf(t,r,a,b,f,h),A=yf(),t!==null&&!jt?(vf(t,r,h),mr(t,r,h)):(Ye&&A&&Kh(r),r.flags|=1,sn(t,r,l,h),r.child)}function Dv(t,r,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Yh(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,Nv(t,r,f,l,h)):(t=pu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!Hf(t,h)){var b=f.memoizedProps;if(a=a.compare,a=a!==null?a:pl,a(b,l)&&t.ref===r.ref)return mr(t,r,h)}return r.flags|=1,t=cr(f,l),t.ref=r.ref,t.return=r,r.child=t}function Nv(t,r,a,l,h){if(t!==null){var f=t.memoizedProps;if(pl(f,l)&&t.ref===r.ref)if(jt=!1,r.pendingProps=l=f,Hf(t,h))(t.flags&131072)!==0&&(jt=!0);else return r.lanes=t.lanes,mr(t,r,h)}return Lf(t,r,a,l,h)}function Ov(t,r,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=r.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,r.child=null;return Mv(t,r,f,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&vu(r,f!==null?f.cachePool:null),f!==null?Vy(r,f):hf(),Ly(r);else return l=r.lanes=536870912,Mv(t,r,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(vu(r,f.cachePool),Vy(r,f),Wr(),r.memoizedState=null):(t!==null&&vu(r,null),hf(),Wr());return sn(t,r,h,a),r.child}function Il(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Mv(t,r,a,l,h){var f=af();return f=f===null?null:{parent:kt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&vu(r,null),hf(),Ly(r),t!==null&&Ka(t,r,l,!0),r.childLanes=h,null}function Pu(t,r){return r=Lu({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Pv(t,r,a){return aa(r,t.child,null,a),t=Pu(r,r.pendingProps),t.flags|=2,kn(r),r.memoizedState=null,t}function ew(t,r,a){var l=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Ye){if(l.mode==="hidden")return t=Pu(r,l),r.lanes=536870912,Il(null,t);if(pf(r),(t=ft)?(t=$_(t,ei),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Hr!==null?{id:Hi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},a=yy(t),a.return=r,r.child=a,nn=r,ft=null)):t=null,t===null)throw Fr(r);return r.lanes=536870912,null}return Pu(r,l)}var f=t.memoizedState;if(f!==null){var b=f.dehydrated;if(pf(r),h)if(r.flags&256)r.flags&=-257,r=Pv(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(jt||Ka(t,r,a,!1),h=(a&t.childLanes)!==0,jt||h){if(l=ht,l!==null&&(b=Ko(l,a),b!==0&&b!==f.retryLane))throw f.retryLane=b,Js(t,b),Cn(l,t,b),Vf;Fu(),r=Pv(t,r,a)}else t=f.treeContext,ft=ni(b.nextSibling),nn=r,Ye=!0,qr=null,ei=!1,t!==null&&by(r,t),r=Pu(r,l),r.flags|=4096;return r}return t=cr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Vu(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Lf(t,r,a,l,h){return na(r),a=gf(t,r,a,l,void 0,h),l=yf(),t!==null&&!jt?(vf(t,r,h),mr(t,r,h)):(Ye&&l&&Kh(r),r.flags|=1,sn(t,r,a,h),r.child)}function Vv(t,r,a,l,h,f){return na(r),r.updateQueue=null,a=Uy(r,l,a,h),ky(t),l=yf(),t!==null&&!jt?(vf(t,r,f),mr(t,r,f)):(Ye&&l&&Kh(r),r.flags|=1,sn(t,r,a,f),r.child)}function Lv(t,r,a,l,h){if(na(r),r.stateNode===null){var f=$a,b=a.contextType;typeof b=="object"&&b!==null&&(f=rn(b)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},lf(r),b=a.contextType,f.context=typeof b=="object"&&b!==null?rn(b):$a,f.state=r.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Of(r,a,b,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(b=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),b!==f.state&&Mf.enqueueReplaceState(f,f.state,null),Al(r,l,f,h),Sl(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var A=r.memoizedProps,O=la(a,A);f.props=O;var q=f.context,W=a.contextType;b=$a,typeof W=="object"&&W!==null&&(b=rn(W));var ne=a.getDerivedStateFromProps;W=typeof ne=="function"||typeof f.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(A||q!==b)&&Tv(r,f,l,b),Yr=!1;var F=r.memoizedState;f.state=F,Al(r,l,f,h),Sl(),q=r.memoizedState,A||F!==q||Yr?(typeof ne=="function"&&(Of(r,a,ne,l),q=r.memoizedState),(O=Yr||Ev(r,a,O,l,F,q,b))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),f.props=l,f.state=q,f.context=b,l=O):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,cf(t,r),b=r.memoizedProps,W=la(a,b),f.props=W,ne=r.pendingProps,F=f.context,q=a.contextType,O=$a,typeof q=="object"&&q!==null&&(O=rn(q)),A=a.getDerivedStateFromProps,(q=typeof A=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==ne||F!==O)&&Tv(r,f,l,O),Yr=!1,F=r.memoizedState,f.state=F,Al(r,l,f,h),Sl();var X=r.memoizedState;b!==ne||F!==X||Yr||t!==null&&t.dependencies!==null&&gu(t.dependencies)?(typeof A=="function"&&(Of(r,a,A,l),X=r.memoizedState),(W=Yr||Ev(r,a,W,l,F,X,O)||t!==null&&t.dependencies!==null&&gu(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,X,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,X,O)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=X),f.props=l,f.state=X,f.context=O,l=W):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,Vu(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=aa(r,t.child,null,h),r.child=aa(r,null,a,h)):sn(t,r,a,h),r.memoizedState=f.state,t=r.child):t=mr(t,r,h),t}function kv(t,r,a,l){return ea(),r.flags|=256,sn(t,r,a,l),r.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:xy()}}function jf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=jn),t}function Uv(t,r,a){var l=r.pendingProps,h=!1,f=(r.flags&128)!==0,b;if((b=f)||(b=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),b&&(h=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ye){if(h?Kr(r):Wr(),(t=ft)?(t=$_(t,ei),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Hr!==null?{id:Hi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},a=yy(t),a.return=r,r.child=a,nn=r,ft=null)):t=null,t===null)throw Fr(r);return Ep(t)?r.lanes=32:r.lanes=536870912,null}var A=l.children;return l=l.fallback,h?(Wr(),h=r.mode,A=Lu({mode:"hidden",children:A},h),l=Zs(l,h,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,l=r.child,l.memoizedState=Uf(a),l.childLanes=jf(t,b,a),r.memoizedState=kf,Il(null,l)):(Kr(r),Bf(r,A))}var O=t.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(f)r.flags&256?(Kr(r),r.flags&=-257,r=zf(t,r,a)):r.memoizedState!==null?(Wr(),r.child=t.child,r.flags|=128,r=null):(Wr(),A=l.fallback,h=r.mode,l=Lu({mode:"visible",children:l.children},h),A=Zs(A,h,a,null),A.flags|=2,l.return=r,A.return=r,l.sibling=A,r.child=l,aa(r,t.child,null,a),l=r.child,l.memoizedState=Uf(a),l.childLanes=jf(t,b,a),r.memoizedState=kf,r=Il(null,l));else if(Kr(r),Ep(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var q=b.dgst;b=q,l=Error(s(419)),l.stack="",l.digest=b,yl({value:l,source:null,stack:null}),r=zf(t,r,a)}else if(jt||Ka(t,r,a,!1),b=(a&t.childLanes)!==0,jt||b){if(b=ht,b!==null&&(l=Ko(b,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Js(t,l),Cn(b,t,l),Vf;bp(A)||Fu(),r=zf(t,r,a)}else bp(A)?(r.flags|=192,r.child=t.child,r=null):(t=O.treeContext,ft=ni(A.nextSibling),nn=r,Ye=!0,qr=null,ei=!1,t!==null&&by(r,t),r=Bf(r,l.children),r.flags|=4096);return r}return h?(Wr(),A=l.fallback,h=r.mode,O=t.child,q=O.sibling,l=cr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,q!==null?A=cr(q,A):(A=Zs(A,h,a,null),A.flags|=2),A.return=r,l.return=r,l.sibling=A,r.child=l,Il(null,l),l=r.child,A=t.child.memoizedState,A===null?A=Uf(a):(h=A.cachePool,h!==null?(O=kt._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=xy(),A={baseLanes:A.baseLanes|a,cachePool:h}),l.memoizedState=A,l.childLanes=jf(t,b,a),r.memoizedState=kf,Il(t.child,l)):(Kr(r),a=t.child,t=a.sibling,a=cr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(b=r.deletions,b===null?(r.deletions=[t],r.flags|=16):b.push(t)),r.child=a,r.memoizedState=null,a)}function Bf(t,r){return r=Lu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Lu(t,r){return t=Vn(22,t,null,r),t.lanes=0,t}function zf(t,r,a){return aa(r,t.child,null,a),t=Bf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function jv(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),tf(t.return,r,a)}function Gf(t,r,a,l,h,f){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=a,b.tailMode=h,b.treeForkCount=f)}function Bv(t,r,a){var l=r.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var b=It.current,A=(b&2)!==0;if(A?(b=b&1|2,r.flags|=128):b&=1,he(It,b),sn(t,r,l,a),l=Ye?gl:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jv(t,a,r);else if(t.tag===19)jv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&Au(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Gf(r,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Au(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Gf(r,!0,a,null,f,l);break;case"together":Gf(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function mr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),es|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Ka(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=cr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=cr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Hf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&gu(t)))}function tw(t,r,a){switch(r.tag){case 3:vt(r,r.stateNode.containerInfo),$r(r,kt,t.memoizedState.cache),ea();break;case 27:case 5:Dn(r);break;case 4:vt(r,r.stateNode.containerInfo);break;case 10:$r(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,pf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Kr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Uv(t,r,a):(Kr(r),t=mr(t,r,a),t!==null?t.sibling:null);Kr(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ka(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Bv(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),he(It,It.current),l)break;return null;case 22:return r.lanes=0,Ov(t,r,a,r.pendingProps);case 24:$r(r,kt,t.memoizedState.cache)}return mr(t,r,a)}function zv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)jt=!0;else{if(!Hf(t,a)&&(r.flags&128)===0)return jt=!1,tw(t,r,a);jt=(t.flags&131072)!==0}else jt=!1,Ye&&(r.flags&1048576)!==0&&_y(r,gl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=ra(r.elementType),r.type=t,typeof t=="function")Yh(t)?(l=la(t,l),r.tag=1,r=Lv(null,r,t,l,a)):(r.tag=0,r=Lf(null,r,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===se){r.tag=11,r=Iv(null,r,t,l,a);break e}else if(h===C){r.tag=14,r=Dv(null,r,t,l,a);break e}}throw r=oe(t)||t,Error(s(306,r,""))}}return r;case 0:return Lf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=la(l,r.pendingProps),Lv(t,r,l,h,a);case 3:e:{if(vt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;h=f.element,cf(t,r),Al(r,l,null,a);var b=r.memoizedState;if(l=b.cache,$r(r,kt,l),l!==f.cache&&nf(r,[kt],a,!0),Sl(),l=b.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=kv(t,r,l,a);break e}else if(l!==h){h=Wn(Error(s(424)),r),yl(h),r=kv(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=ni(t.firstChild),nn=r,Ye=!0,qr=null,ei=!0,a=Oy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ea(),l===h){r=mr(t,r,a);break e}sn(t,r,l,a)}r=r.child}return r;case 26:return Vu(t,r),t===null?(a=J_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ye||(a=r.type,t=r.pendingProps,l=Ju(De.current).createElement(a),l[Pt]=r,l[$t]=t,an(l,a,t),Vt(l),r.stateNode=l):r.memoizedState=J_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Dn(r),t===null&&Ye&&(l=r.stateNode=Q_(r.type,r.pendingProps,De.current),nn=r,ei=!0,h=ft,ss(r.type)?(Tp=h,ft=ni(l.firstChild)):ft=h),sn(t,r,r.pendingProps.children,a),Vu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ye&&((h=l=ft)&&(l=Nw(l,r.type,r.pendingProps,ei),l!==null?(r.stateNode=l,nn=r,ft=ni(l.firstChild),ei=!1,h=!0):h=!1),h||Fr(r)),Dn(r),h=r.type,f=r.pendingProps,b=t!==null?t.memoizedProps:null,l=f.children,yp(h,f)?l=null:b!==null&&yp(h,b)&&(r.flags|=32),r.memoizedState!==null&&(h=gf(t,r,$1,null,null,a),ql._currentValue=h),Vu(t,r),sn(t,r,l,a),r.child;case 6:return t===null&&Ye&&((t=a=ft)&&(a=Ow(a,r.pendingProps,ei),a!==null?(r.stateNode=a,nn=r,ft=null,t=!0):t=!1),t||Fr(r)),null;case 13:return Uv(t,r,a);case 4:return vt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=aa(r,null,l,a):sn(t,r,l,a),r.child;case 11:return Iv(t,r,r.type,r.pendingProps,a);case 7:return sn(t,r,r.pendingProps,a),r.child;case 8:return sn(t,r,r.pendingProps.children,a),r.child;case 12:return sn(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,$r(r,r.type,l.value),sn(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,na(r),h=rn(h),l=l(h),r.flags|=1,sn(t,r,l,a),r.child;case 14:return Dv(t,r,r.type,r.pendingProps,a);case 15:return Nv(t,r,r.type,r.pendingProps,a);case 19:return Bv(t,r,a);case 31:return ew(t,r,a);case 22:return Ov(t,r,a,r.pendingProps);case 24:return na(r),l=rn(kt),t===null?(h=af(),h===null&&(h=ht,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:l,cache:h},lf(r),$r(r,kt,h)):((t.lanes&a)!==0&&(cf(t,r),Al(r,null,null,a),Sl()),h=t.memoizedState,f=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),$r(r,kt,l)):(l=f.cache,$r(r,kt,l),l!==h.cache&&nf(r,[kt],a,!0))),sn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function gr(t){t.flags|=4}function qf(t,r,a,l,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(p_())t.flags|=8192;else throw sa=bu,of}else t.flags&=-16777217}function Gv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ib(r))if(p_())t.flags|=8192;else throw sa=bu,of}function ku(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Hc():536870912,t.lanes|=r,lo|=r)}function Dl(t,r){if(!Ye)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function pt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function nw(t,r,a){var l=r.pendingProps;switch(Wh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(r),null;case 1:return pt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),hr(kt),et(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qa(r)?gr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Zh())),pt(r),null;case 26:var h=r.type,f=r.memoizedState;return t===null?(gr(r),f!==null?(pt(r),Gv(r,f)):(pt(r),qf(r,h,null,l,a))):f?f!==t.memoizedState?(gr(r),pt(r),Gv(r,f)):(pt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&gr(r),pt(r),qf(r,h,t,l,a)),null;case 27:if(nr(r),a=De.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&gr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return pt(r),null}t=me.current,Qa(r)?Ey(r):(t=Q_(h,l,a),r.stateNode=t,gr(r))}return pt(r),null;case 5:if(nr(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&gr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return pt(r),null}if(f=me.current,Qa(r))Ey(r);else{var b=Ju(De.current);switch(f){case 1:f=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=b.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?b.createElement(h,{is:l.is}):b.createElement(h)}}f[Pt]=r,f[$t]=l;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)f.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=f;e:switch(an(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&gr(r)}}return pt(r),qf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&gr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=De.current,Qa(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=nn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Pt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||U_(t.nodeValue,a)),t||Fr(r,!0)}else t=Ju(t).createTextNode(l),t[Pt]=r,r.stateNode=t}return pt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Qa(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Pt]=r}else ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;pt(r),t=!1}else a=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(kn(r),r):(kn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return pt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Qa(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Pt]=r}else ea(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;pt(r),h=!1}else h=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(kn(r),r):(kn(r),null)}return kn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),ku(r,r.updateQueue),pt(r),null);case 4:return et(),t===null&&hp(r.stateNode.containerInfo),pt(r),null;case 10:return hr(r.type),pt(r),null;case 19:if(Z(It),l=r.memoizedState,l===null)return pt(r),null;if(h=(r.flags&128)!==0,f=l.rendering,f===null)if(h)Dl(l,!1);else{if(St!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=Au(t),f!==null){for(r.flags|=128,Dl(l,!1),t=f.updateQueue,r.updateQueue=t,ku(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)gy(a,t),a=a.sibling;return he(It,It.current&1|2),Ye&&ur(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&Zt()>Gu&&(r.flags|=128,h=!0,Dl(l,!1),r.lanes=4194304)}else{if(!h)if(t=Au(f),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,ku(r,t),Dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ye)return pt(r),null}else 2*Zt()-l.renderingStartTime>Gu&&a!==536870912&&(r.flags|=128,h=!0,Dl(l,!1),r.lanes=4194304);l.isBackwards?(f.sibling=r.child,r.child=f):(t=l.last,t!==null?t.sibling=f:r.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Zt(),t.sibling=null,a=It.current,he(It,h?a&1|2:a&1),Ye&&ur(r,l.treeForkCount),t):(pt(r),null);case 22:case 23:return kn(r),ff(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(pt(r),r.subtreeFlags&6&&(r.flags|=8192)):pt(r),a=r.updateQueue,a!==null&&ku(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&Z(ia),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),hr(kt),pt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function iw(t,r){switch(Wh(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return hr(kt),et(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return nr(r),null;case 31:if(r.memoizedState!==null){if(kn(r),r.alternate===null)throw Error(s(340));ea()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(kn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ea()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Z(It),null;case 4:return et(),null;case 10:return hr(r.type),null;case 22:case 23:return kn(r),ff(),t!==null&&Z(ia),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return hr(kt),null;case 25:return null;default:return null}}function Hv(t,r){switch(Wh(r),r.tag){case 3:hr(kt),et();break;case 26:case 27:case 5:nr(r);break;case 4:et();break;case 31:r.memoizedState!==null&&kn(r);break;case 13:kn(r);break;case 19:Z(It);break;case 10:hr(r.type);break;case 22:case 23:kn(r),ff(),t!==null&&Z(ia);break;case 24:hr(kt)}}function Nl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,b=a.inst;l=f(),b.destroy=l}a=a.next}while(a!==h)}}catch(A){ot(r,r.return,A)}}function Jr(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var b=l.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,h=r;var O=a,q=A;try{q()}catch(W){ot(h,O,W)}}}l=l.next}while(l!==f)}}catch(W){ot(r,r.return,W)}}function qv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Py(r,a)}catch(l){ot(t,t.return,l)}}}function Fv(t,r,a){a.props=la(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ot(t,r,l)}}function Ol(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ot(t,r,h)}}function Fi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ot(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ot(t,r,h)}else a.current=null}function $v(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ot(t,t.return,h)}}function Ff(t,r,a){try{var l=t.stateNode;ww(l,t.type,a,r),l[$t]=r}catch(h){ot(t,t.return,h)}}function Yv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ss(t.type)||t.tag===4}function $f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ss(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=fi));else if(l!==4&&(l===27&&ss(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Yf(t,r,a),t=t.sibling;t!==null;)Yf(t,r,a),t=t.sibling}function Uu(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&ss(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Uu(t,r,a),t=t.sibling;t!==null;)Uu(t,r,a),t=t.sibling}function Xv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);an(r,l,a),r[Pt]=t,r[$t]=a}catch(f){ot(t,t.return,f)}}var yr=!1,Bt=!1,Xf=!1,Qv=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function rw(t,r){if(t=t.containerInfo,mp=sd,t=oy(t),Bh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var b=0,A=-1,O=-1,q=0,W=0,ne=t,F=null;t:for(;;){for(var X;ne!==a||h!==0&&ne.nodeType!==3||(A=b+h),ne!==f||l!==0&&ne.nodeType!==3||(O=b+l),ne.nodeType===3&&(b+=ne.nodeValue.length),(X=ne.firstChild)!==null;)F=ne,ne=X;for(;;){if(ne===t)break t;if(F===a&&++q===h&&(A=b),F===f&&++W===l&&(O=b),(X=ne.nextSibling)!==null)break;ne=F,F=ne.parentNode}ne=X}a=A===-1||O===-1?null:{start:A,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(gp={focusedElem:t,selectionRange:a},sd=!1,Xt=r;Xt!==null;)if(r=Xt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Xt=t;else for(;Xt!==null;){switch(r=Xt,f=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ve=la(a.type,h);t=l.getSnapshotBeforeUpdate(ve,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ce){ot(a,a.return,Ce)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)_p(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_p(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Xt=t;break}Xt=r.return}}function Kv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:_r(t,a),l&4&&Nl(5,a);break;case 1:if(_r(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(b){ot(a,a.return,b)}else{var h=la(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(b){ot(a,a.return,b)}}l&64&&qv(a),l&512&&Ol(a,a.return);break;case 3:if(_r(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Py(t,r)}catch(b){ot(a,a.return,b)}}break;case 27:r===null&&l&4&&Xv(a);case 26:case 5:_r(t,a),r===null&&l&4&&$v(a),l&512&&Ol(a,a.return);break;case 12:_r(t,a);break;case 31:_r(t,a),l&4&&Zv(t,a);break;case 13:_r(t,a),l&4&&e_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=fw.bind(null,a),Mw(t,a))));break;case 22:if(l=a.memoizedState!==null||yr,!l){r=r!==null&&r.memoizedState!==null||Bt,h=yr;var f=Bt;yr=l,(Bt=r)&&!f?br(t,a,(a.subtreeFlags&8772)!==0):_r(t,a),yr=h,Bt=f}break;case 30:break;default:_r(t,a)}}function Wv(t){var r=t.alternate;r!==null&&(t.alternate=null,Wv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Oa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,An=!1;function vr(t,r,a){for(a=a.child;a!==null;)Jv(t,r,a),a=a.sibling}function Jv(t,r,a){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Nn,a)}catch{}switch(a.tag){case 26:Bt||Fi(a,r),vr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Bt||Fi(a,r);var l=yt,h=An;ss(a.type)&&(yt=a.stateNode,An=!1),vr(t,r,a),zl(a.stateNode),yt=l,An=h;break;case 5:Bt||Fi(a,r);case 6:if(l=yt,h=An,yt=null,vr(t,r,a),yt=l,An=h,yt!==null)if(An)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(f){ot(a,r,f)}else try{yt.removeChild(a.stateNode)}catch(f){ot(a,r,f)}break;case 18:yt!==null&&(An?(t=yt,q_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),yo(t)):q_(yt,a.stateNode));break;case 4:l=yt,h=An,yt=a.stateNode.containerInfo,An=!0,vr(t,r,a),yt=l,An=h;break;case 0:case 11:case 14:case 15:Jr(2,a,r),Bt||Jr(4,a,r),vr(t,r,a);break;case 1:Bt||(Fi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Fv(a,r,l)),vr(t,r,a);break;case 21:vr(t,r,a);break;case 22:Bt=(l=Bt)||a.memoizedState!==null,vr(t,r,a),Bt=l;break;default:vr(t,r,a)}}function Zv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{yo(t)}catch(a){ot(r,r.return,a)}}}function e_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yo(t)}catch(a){ot(r,r.return,a)}}function sw(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Qv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Qv),r;default:throw Error(s(435,t.tag))}}function ju(t,r){var a=sw(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var h=pw.bind(null,t,l);l.then(h,h)}})}function wn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,b=r,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(ss(A.type)){yt=A.stateNode,An=!1;break e}break;case 5:yt=A.stateNode,An=!1;break e;case 3:case 4:yt=A.stateNode.containerInfo,An=!0;break e}A=A.return}if(yt===null)throw Error(s(160));Jv(f,b,h),yt=null,An=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)t_(r,t),r=r.sibling}var _i=null;function t_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(r,t),xn(t),l&4&&(Jr(3,t,t.return),Nl(3,t),Jr(5,t,t.return));break;case 1:wn(r,t),xn(t),l&512&&(Bt||a===null||Fi(a,a.return)),l&64&&yr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=_i;if(wn(r,t),xn(t),l&512&&(Bt||a===null||Fi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ni]||f[Pt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),an(f,l,a),f[Pt]=t,Vt(f),l=f;break e;case"link":var b=tb("link","href",h).get(l+(a.href||""));if(b){for(var A=0;A<b.length;A++)if(f=b[A],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(A,1);break t}}f=h.createElement(l),an(f,l,a),h.head.appendChild(f);break;case"meta":if(b=tb("meta","content",h).get(l+(a.content||""))){for(A=0;A<b.length;A++)if(f=b[A],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(A,1);break t}}f=h.createElement(l),an(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Pt]=t,Vt(f),l=f}t.stateNode=l}else nb(h,t.type,t.stateNode);else t.stateNode=eb(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?nb(h,t.type,t.stateNode):eb(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ff(t,t.memoizedProps,a.memoizedProps)}break;case 27:wn(r,t),xn(t),l&512&&(Bt||a===null||Fi(a,a.return)),a!==null&&l&4&&Ff(t,t.memoizedProps,a.memoizedProps);break;case 5:if(wn(r,t),xn(t),l&512&&(Bt||a===null||Fi(a,a.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch(ve){ot(t,t.return,ve)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ff(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Xf=!0);break;case 6:if(wn(r,t),xn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ve){ot(t,t.return,ve)}}break;case 3:if(td=null,h=_i,_i=Zu(r.containerInfo),wn(r,t),_i=h,xn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{yo(r.containerInfo)}catch(ve){ot(t,t.return,ve)}Xf&&(Xf=!1,n_(t));break;case 4:l=_i,_i=Zu(t.stateNode.containerInfo),wn(r,t),xn(t),_i=l;break;case 12:wn(r,t),xn(t);break;case 31:wn(r,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ju(t,l)));break;case 13:wn(r,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zu=Zt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ju(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,q=yr,W=Bt;if(yr=q||h,Bt=W||O,wn(r,t),Bt=W,yr=q,xn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||O||yr||Bt||ca(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(f=O.stateNode,h)b=f.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=O.stateNode;var ne=O.memoizedProps.style,F=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;A.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ve){ot(O,O.return,ve)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(ve){ot(O,O.return,ve)}}}else if(r.tag===18){if(a===null){O=r;try{var X=O.stateNode;h?F_(X,!0):F_(O.stateNode,!1)}catch(ve){ot(O,O.return,ve)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ju(t,a))));break;case 19:wn(r,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ju(t,l)));break;case 30:break;case 21:break;default:wn(r,t),xn(t)}}function xn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Yv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=$f(t);Uu(t,f,h);break;case 5:var b=a.stateNode;a.flags&32&&(Sn(b,""),a.flags&=-33);var A=$f(t);Uu(t,A,b);break;case 3:case 4:var O=a.stateNode.containerInfo,q=$f(t);Yf(t,q,O);break;default:throw Error(s(161))}}catch(W){ot(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function n_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;n_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function _r(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Kv(t,r.alternate,r),r=r.sibling}function ca(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Jr(4,r,r.return),ca(r);break;case 1:Fi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Fv(r,r.return,a),ca(r);break;case 27:zl(r.stateNode);case 26:case 5:Fi(r,r.return),ca(r);break;case 22:r.memoizedState===null&&ca(r);break;case 30:ca(r);break;default:ca(r)}t=t.sibling}}function br(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,f=r,b=f.flags;switch(f.tag){case 0:case 11:case 15:br(h,f,a),Nl(4,f);break;case 1:if(br(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){ot(l,l.return,q)}if(l=f,h=l.updateQueue,h!==null){var A=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)My(O[h],A)}catch(q){ot(l,l.return,q)}}a&&b&64&&qv(f),Ol(f,f.return);break;case 27:Xv(f);case 26:case 5:br(h,f,a),a&&l===null&&b&4&&$v(f),Ol(f,f.return);break;case 12:br(h,f,a);break;case 31:br(h,f,a),a&&b&4&&Zv(h,f);break;case 13:br(h,f,a),a&&b&4&&e_(h,f);break;case 22:f.memoizedState===null&&br(h,f,a),Ol(f,f.return);break;case 30:break;default:br(h,f,a)}r=r.sibling}}function Qf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&vl(a))}function Kf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&vl(t))}function bi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)i_(t,r,a,l),r=r.sibling}function i_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:bi(t,r,a,l),h&2048&&Nl(9,r);break;case 1:bi(t,r,a,l);break;case 3:bi(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&vl(t)));break;case 12:if(h&2048){bi(t,r,a,l),t=r.stateNode;try{var f=r.memoizedProps,b=f.id,A=f.onPostCommit;typeof A=="function"&&A(b,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){ot(r,r.return,O)}}else bi(t,r,a,l);break;case 31:bi(t,r,a,l);break;case 13:bi(t,r,a,l);break;case 23:break;case 22:f=r.stateNode,b=r.alternate,r.memoizedState!==null?f._visibility&2?bi(t,r,a,l):Ml(t,r):f._visibility&2?bi(t,r,a,l):(f._visibility|=2,so(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Qf(b,r);break;case 24:bi(t,r,a,l),h&2048&&Kf(r.alternate,r);break;default:bi(t,r,a,l)}}function so(t,r,a,l,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=t,b=r,A=a,O=l,q=b.flags;switch(b.tag){case 0:case 11:case 15:so(f,b,A,O,h),Nl(8,b);break;case 23:break;case 22:var W=b.stateNode;b.memoizedState!==null?W._visibility&2?so(f,b,A,O,h):Ml(f,b):(W._visibility|=2,so(f,b,A,O,h)),h&&q&2048&&Qf(b.alternate,b);break;case 24:so(f,b,A,O,h),h&&q&2048&&Kf(b.alternate,b);break;default:so(f,b,A,O,h)}r=r.sibling}}function Ml(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:Ml(a,l),h&2048&&Qf(l.alternate,l);break;case 24:Ml(a,l),h&2048&&Kf(l.alternate,l);break;default:Ml(a,l)}r=r.sibling}}var Pl=8192;function ao(t,r,a){if(t.subtreeFlags&Pl)for(t=t.child;t!==null;)r_(t,r,a),t=t.sibling}function r_(t,r,a){switch(t.tag){case 26:ao(t,r,a),t.flags&Pl&&t.memoizedState!==null&&Fw(a,_i,t.memoizedState,t.memoizedProps);break;case 5:ao(t,r,a);break;case 3:case 4:var l=_i;_i=Zu(t.stateNode.containerInfo),ao(t,r,a),_i=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Pl,Pl=16777216,ao(t,r,a),Pl=l):ao(t,r,a));break;default:ao(t,r,a)}}function s_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Vl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Xt=l,o_(l,t)}s_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)a_(t),t=t.sibling}function a_(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&Jr(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Bu(t)):Vl(t);break;default:Vl(t)}}function Bu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Xt=l,o_(l,t)}s_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Jr(8,r,r.return),Bu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Bu(r));break;default:Bu(r)}t=t.sibling}}function o_(t,r){for(;Xt!==null;){var a=Xt;switch(a.tag){case 0:case 11:case 15:Jr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:vl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xt=l;else e:for(a=t;Xt!==null;){l=Xt;var h=l.sibling,f=l.return;if(Wv(l),l===a){Xt=null;break e}if(h!==null){h.return=f,Xt=h;break e}Xt=f}}}var aw={getCacheForType:function(t){var r=rn(kt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return rn(kt).controller.signal}},ow=typeof WeakMap=="function"?WeakMap:Map,nt=0,ht=null,Be=null,Ge=0,at=0,Un=null,Zr=!1,oo=!1,Wf=!1,Er=0,St=0,es=0,ua=0,Jf=0,jn=0,lo=0,Ll=null,Rn=null,Zf=!1,zu=0,l_=0,Gu=1/0,Hu=null,ts=null,Ht=0,ns=null,co=null,Tr=0,ep=0,tp=null,c_=null,kl=0,np=null;function Bn(){return(nt&2)!==0&&Ge!==0?Ge&-Ge:K.T!==null?lp():qc()}function u_(){if(jn===0)if((Ge&536870912)===0||Ye){var t=ks;ks<<=1,(ks&3932160)===0&&(ks=262144),jn=t}else jn=536870912;return t=Ln.current,t!==null&&(t.flags|=32),jn}function Cn(t,r,a){(t===ht&&(at===2||at===9)||t.cancelPendingCommit!==null)&&(uo(t,0),is(t,Ge,jn,!1)),Us(t,a),((nt&2)===0||t!==ht)&&(t===ht&&((nt&2)===0&&(ua|=a),St===4&&is(t,Ge,jn,!1)),$i(t))}function d_(t,r,a){if((nt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||ui(t,r),h=l?uw(t,r):rp(t,r,!0),f=l;do{if(h===0){oo&&!l&&is(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!lw(a)){h=rp(t,r,!1),f=!1;continue}if(h===2){if(f=r,t.errorRecoveryDisabledLanes&f)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var A=t;h=Ll;var O=A.current.memoizedState.isDehydrated;if(O&&(uo(A,b).flags|=256),b=rp(A,b,!1),b!==2){if(Wf&&!O){A.errorRecoveryDisabledLanes|=f,ua|=f,h=4;break e}f=Rn,Rn=h,f!==null&&(Rn===null?Rn=f:Rn.push.apply(Rn,f))}h=b}if(f=!1,h!==2)continue}}if(h===1){uo(t,0),is(t,r,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:is(l,r,jn,!Zr);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=zu+300-Zt(),10<h)){if(is(l,r,jn,!Zr),Ci(l,0,!0)!==0)break e;Tr=r,l.timeoutHandle=G_(h_.bind(null,l,a,Rn,Hu,Zf,r,jn,ua,lo,Zr,f,"Throttled",-0,0),h);break e}h_(l,a,Rn,Hu,Zf,r,jn,ua,lo,Zr,f,null,-0,0)}}break}while(!0);$i(t)}function h_(t,r,a,l,h,f,b,A,O,q,W,ne,F,X){if(t.timeoutHandle=-1,ne=r.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},r_(r,f,ne);var ve=(f&62914560)===f?zu-Zt():(f&4194048)===f?l_-Zt():0;if(ve=$w(ne,ve),ve!==null){Tr=f,t.cancelPendingCommit=ve(b_.bind(null,t,r,f,a,l,h,b,A,O,W,ne,null,F,X)),is(t,f,b,!q);return}}b_(t,r,f,a,l,h,b,A,O)}function lw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Pn(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function is(t,r,a,l){r&=~Jf,r&=~ua,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var f=31-Rt(h),b=1<<f;l[f]=-1,h&=~b}a!==0&&js(t,a,r)}function qu(){return(nt&6)===0?(Ul(0),!1):!0}function ip(){if(Be!==null){if(at===0)var t=Be.return;else t=Be,dr=ta=null,_f(t),eo=null,bl=0,t=Be;for(;t!==null;)Hv(t.alternate,t),t=t.return;Be=null}}function uo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Cw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Tr=0,ip(),ht=t,Be=a=cr(t.current,null),Ge=r,at=0,Un=null,Zr=!1,oo=ui(t,r),Wf=!1,lo=jn=Jf=ua=es=St=0,Rn=Ll=null,Zf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Rt(l),f=1<<h;r|=t[h],l&=~f}return Er=r,du(),a}function f_(t,r){Le=null,K.H=Cl,r===Za||r===_u?(r=Iy(),at=3):r===of?(r=Iy(),at=4):at=r===Vf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Un=r,Be===null&&(St=1,Mu(t,Wn(r,t.current)))}function p_(){var t=Ln.current;return t===null?!0:(Ge&4194048)===Ge?ti===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?t===ti:!1}function m_(){var t=K.H;return K.H=Cl,t===null?Cl:t}function g_(){var t=K.A;return K.A=aw,t}function Fu(){St=4,Zr||(Ge&4194048)!==Ge&&Ln.current!==null||(oo=!0),(es&134217727)===0&&(ua&134217727)===0||ht===null||is(ht,Ge,jn,!1)}function rp(t,r,a){var l=nt;nt|=2;var h=m_(),f=g_();(ht!==t||Ge!==r)&&(Hu=null,uo(t,r)),r=!1;var b=St;e:do try{if(at!==0&&Be!==null){var A=Be,O=Un;switch(at){case 8:ip(),b=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(r=!0);var q=at;if(at=0,Un=null,ho(t,A,O,q),a&&oo){b=0;break e}break;default:q=at,at=0,Un=null,ho(t,A,O,q)}}cw(),b=St;break}catch(W){f_(t,W)}while(!0);return r&&t.shellSuspendCounter++,dr=ta=null,nt=l,K.H=h,K.A=f,Be===null&&(ht=null,Ge=0,du()),b}function cw(){for(;Be!==null;)y_(Be)}function uw(t,r){var a=nt;nt|=2;var l=m_(),h=g_();ht!==t||Ge!==r?(Hu=null,Gu=Zt()+500,uo(t,r)):oo=ui(t,r);e:do try{if(at!==0&&Be!==null){r=Be;var f=Un;t:switch(at){case 1:at=0,Un=null,ho(t,r,f,1);break;case 2:case 9:if(Ry(f)){at=0,Un=null,v_(r);break}r=function(){at!==2&&at!==9||ht!==t||(at=7),$i(t)},f.then(r,r);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:Ry(f)?(at=0,Un=null,v_(r)):(at=0,Un=null,ho(t,r,f,7));break;case 5:var b=null;switch(Be.tag){case 26:b=Be.memoizedState;case 5:case 27:var A=Be;if(b?ib(b):A.stateNode.complete){at=0,Un=null;var O=A.sibling;if(O!==null)Be=O;else{var q=A.return;q!==null?(Be=q,$u(q)):Be=null}break t}}at=0,Un=null,ho(t,r,f,5);break;case 6:at=0,Un=null,ho(t,r,f,6);break;case 8:ip(),St=6;break e;default:throw Error(s(462))}}dw();break}catch(W){f_(t,W)}while(!0);return dr=ta=null,K.H=l,K.A=h,nt=a,Be!==null?0:(ht=null,Ge=0,du(),St)}function dw(){for(;Be!==null&&!En();)y_(Be)}function y_(t){var r=zv(t.alternate,t,Er);t.memoizedProps=t.pendingProps,r===null?$u(t):Be=r}function v_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Vv(a,r,r.pendingProps,r.type,void 0,Ge);break;case 11:r=Vv(a,r,r.pendingProps,r.type.render,r.ref,Ge);break;case 5:_f(r);default:Hv(a,r),r=Be=gy(r,Er),r=zv(a,r,Er)}t.memoizedProps=t.pendingProps,r===null?$u(t):Be=r}function ho(t,r,a,l){dr=ta=null,_f(r),eo=null,bl=0;var h=r.return;try{if(Z1(t,h,r,a,Ge)){St=1,Mu(t,Wn(a,t.current)),Be=null;return}}catch(f){if(h!==null)throw Be=h,f;St=1,Mu(t,Wn(a,t.current)),Be=null;return}r.flags&32768?(Ye||l===1?t=!0:oo||(Ge&536870912)!==0?t=!1:(Zr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),__(r,t)):$u(r)}function $u(t){var r=t;do{if((r.flags&32768)!==0){__(r,Zr);return}t=r.return;var a=nw(r.alternate,r,Er);if(a!==null){Be=a;return}if(r=r.sibling,r!==null){Be=r;return}Be=r=t}while(r!==null);St===0&&(St=5)}function __(t,r){do{var a=iw(t.alternate,t);if(a!==null){a.flags&=32767,Be=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Be=t;return}Be=t=a}while(t!==null);St=6,Be=null}function b_(t,r,a,l,h,f,b,A,O){t.cancelPendingCommit=null;do Yu();while(Ht!==0);if((nt&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=Fh,Lh(t,a,f,b,A,O),t===ht&&(Be=ht=null,Ge=0),co=r,ns=t,Tr=a,ep=f,tp=h,c_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,mw(ye,function(){return w_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=de.p,de.p=2,b=nt,nt|=4;try{rw(t,r,a)}finally{nt=b,de.p=h,K.T=l}}Ht=1,E_(),T_(),S_()}}function E_(){if(Ht===1){Ht=0;var t=ns,r=co,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=de.p;de.p=2;var h=nt;nt|=4;try{t_(r,t);var f=gp,b=oy(t.containerInfo),A=f.focusedElem,O=f.selectionRange;if(b!==A&&A&&A.ownerDocument&&ay(A.ownerDocument.documentElement,A)){if(O!==null&&Bh(A)){var q=O.start,W=O.end;if(W===void 0&&(W=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(W,A.value.length);else{var ne=A.ownerDocument||document,F=ne&&ne.defaultView||window;if(F.getSelection){var X=F.getSelection(),ve=A.textContent.length,Ce=Math.min(O.start,ve),dt=O.end===void 0?Ce:Math.min(O.end,ve);!X.extend&&Ce>dt&&(b=dt,dt=Ce,Ce=b);var z=sy(A,Ce),k=sy(A,dt);if(z&&k&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==k.node||X.focusOffset!==k.offset)){var H=ne.createRange();H.setStart(z.node,z.offset),X.removeAllRanges(),Ce>dt?(X.addRange(H),X.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),X.addRange(H))}}}}for(ne=[],X=A;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ne.length;A++){var ee=ne[A];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}sd=!!mp,gp=mp=null}finally{nt=h,de.p=l,K.T=a}}t.current=r,Ht=2}}function T_(){if(Ht===2){Ht=0;var t=ns,r=co,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=de.p;de.p=2;var h=nt;nt|=4;try{Kv(t,r.alternate,r)}finally{nt=h,de.p=l,K.T=a}}Ht=3}}function S_(){if(Ht===4||Ht===3){Ht=0,Ia();var t=ns,r=co,a=Tr,l=c_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,co=ns=null,A_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ts=null),sr(a),r=r.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Nn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=K.T,h=de.p,de.p=2,K.T=null;try{for(var f=t.onRecoverableError,b=0;b<l.length;b++){var A=l[b];f(A.value,{componentStack:A.stack})}}finally{K.T=r,de.p=h}}(Tr&3)!==0&&Yu(),$i(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===np?kl++:(kl=0,np=t):kl=0,Ul(0)}}function A_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,vl(r)))}function Yu(){return E_(),T_(),S_(),w_()}function w_(){if(Ht!==5)return!1;var t=ns,r=ep;ep=0;var a=sr(Tr),l=K.T,h=de.p;try{de.p=32>a?32:a,K.T=null,a=tp,tp=null;var f=ns,b=Tr;if(Ht=0,co=ns=null,Tr=0,(nt&6)!==0)throw Error(s(331));var A=nt;if(nt|=4,a_(f.current),i_(f,f.current,b,a),nt=A,Ul(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Nn,f)}catch{}return!0}finally{de.p=h,K.T=l,A_(t,r)}}function x_(t,r,a){r=Wn(a,r),r=Pf(t.stateNode,r,2),t=Qr(t,r,2),t!==null&&(Us(t,2),$i(t))}function ot(t,r,a){if(t.tag===3)x_(t,t,a);else for(;r!==null;){if(r.tag===3){x_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ts===null||!ts.has(l))){t=Wn(a,t),a=Rv(2),l=Qr(r,a,2),l!==null&&(Cv(a,l,r,t),Us(l,2),$i(l));break}}r=r.return}}function sp(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ow;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Wf=!0,h.add(a),t=hw.bind(null,t,r,a),r.then(t,t))}function hw(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ht===t&&(Ge&a)===a&&(St===4||St===3&&(Ge&62914560)===Ge&&300>Zt()-zu?(nt&2)===0&&uo(t,0):Jf|=a,lo===Ge&&(lo=0)),$i(t)}function R_(t,r){r===0&&(r=Hc()),t=Js(t,r),t!==null&&(Us(t,r),$i(t))}function fw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),R_(t,a)}function pw(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),R_(t,a)}function mw(t,r){return wt(t,r)}var Xu=null,fo=null,ap=!1,Qu=!1,op=!1,rs=0;function $i(t){t!==fo&&t.next===null&&(fo===null?Xu=fo=t:fo=fo.next=t),Qu=!0,ap||(ap=!0,yw())}function Ul(t,r){if(!op&&Qu){op=!0;do for(var a=!1,l=Xu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var b=l.suspendedLanes,A=l.pingedLanes;f=(1<<31-Rt(42|t)+1)-1,f&=h&~(b&~A),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,N_(l,f))}else f=Ge,f=Ci(l,l===ht?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ui(l,f)||(a=!0,N_(l,f));l=l.next}while(a);op=!1}}function gw(){C_()}function C_(){Qu=ap=!1;var t=0;rs!==0&&Rw()&&(t=rs);for(var r=Zt(),a=null,l=Xu;l!==null;){var h=l.next,f=I_(l,r);f===0?(l.next=null,a===null?Xu=h:a.next=h,h===null&&(fo=a)):(a=l,(t!==0||(f&3)!==0)&&(Qu=!0)),l=h}Ht!==0&&Ht!==5||Ul(t),rs!==0&&(rs=0)}function I_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var b=31-Rt(f),A=1<<b,O=h[b];O===-1?((A&a)===0||(A&l)!==0)&&(h[b]=Vh(A,r)):O<=r&&(t.expiredLanes|=A),f&=~A}if(r=ht,a=Ge,a=Ci(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(at===2||at===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ui(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&wi(l),sr(a)){case 2:case 8:a=_e;break;case 32:a=ye;break;case 268435456:a=We;break;default:a=ye}return l=D_.bind(null,t),a=wt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&wi(l),t.callbackPriority=2,t.callbackNode=null,2}function D_(t,r){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Yu()&&t.callbackNode!==a)return null;var l=Ge;return l=Ci(t,t===ht?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(d_(t,l,r),I_(t,Zt()),t.callbackNode!=null&&t.callbackNode===a?D_.bind(null,t):null)}function N_(t,r){if(Yu())return null;d_(t,r,!0)}function yw(){Iw(function(){(nt&6)!==0?wt(re,gw):C_()})}function lp(){if(rs===0){var t=Wa;t===0&&(t=xi,xi<<=1,(xi&261888)===0&&(xi=256)),rs=t}return rs}function O_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:La(""+t)}function M_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function vw(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var f=O_((h[$t]||null).action),b=l.submitter;b&&(r=(r=b[$t]||null)?O_(r.formAction):b.getAttribute("formAction"),r!==null&&(f=r,b=null));var A=new ji("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(rs!==0){var O=b?M_(h,b):new FormData(h);Cf(a,{pending:!0,data:O,method:h.method,action:f},null,O)}}else typeof f=="function"&&(A.preventDefault(),O=b?M_(h,b):new FormData(h),Cf(a,{pending:!0,data:O,method:h.method,action:f},f,O))},currentTarget:h}]})}}for(var cp=0;cp<qh.length;cp++){var up=qh[cp],_w=up.toLowerCase(),bw=up[0].toUpperCase()+up.slice(1);vi(_w,"on"+bw)}vi(uy,"onAnimationEnd"),vi(dy,"onAnimationIteration"),vi(hy,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(L1,"onTransitionRun"),vi(k1,"onTransitionStart"),vi(U1,"onTransitionCancel"),vi(fy,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ew=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function P_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var b=l.length-1;0<=b;b--){var A=l[b],O=A.instance,q=A.currentTarget;if(A=A.listener,O!==f&&h.isPropagationStopped())break e;f=A,h.currentTarget=q;try{f(h)}catch(W){uu(W)}h.currentTarget=null,f=O}else for(b=0;b<l.length;b++){if(A=l[b],O=A.instance,q=A.currentTarget,A=A.listener,O!==f&&h.isPropagationStopped())break e;f=A,h.currentTarget=q;try{f(h)}catch(W){uu(W)}h.currentTarget=null,f=O}}}}function ze(t,r){var a=r[Na];a===void 0&&(a=r[Na]=new Set);var l=t+"__bubble";a.has(l)||(V_(r,t,2,!1),a.add(l))}function dp(t,r,a){var l=0;r&&(l|=4),V_(a,t,l,r)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function hp(t){if(!t[Ku]){t[Ku]=!0,Wo.forEach(function(a){a!=="selectionchange"&&(Ew.has(a)||dp(a,!1,t),dp(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ku]||(r[Ku]=!0,dp("selectionchange",!1,r))}}function V_(t,r,a,l){switch(ub(r)){case 2:var h=Qw;break;case 8:h=Kw;break;default:h=Rp}a=h.bind(null,r,a,t),h=void 0,!qs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function fp(t,r,a,l,h){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var A=l.stateNode.containerInfo;if(A===h)break;if(b===4)for(b=l.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;A!==null;){if(b=Oi(A),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){l=f=b;continue e}A=A.parentNode}}l=l.return}jr(function(){var q=f,W=Yn(a),ne=[];e:{var F=py.get(t);if(F!==void 0){var X=ji,ve=t;switch(t){case"keypress":if($s(a)===0)break e;case"keydown":case"keyup":X=ou;break;case"focusin":ve="focus",X=Xs;break;case"focusout":ve="blur",X=Xs;break;case"beforeblur":case"afterblur":X=Xs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case uy:case dy:case hy:X=eu;break;case fy:X=x;break;case"scroll":case"scrollend":X=cl;break;case"wheel":X=$;break;case"copy":case"cut":case"paste":X=tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=lr;break;case"toggle":case"beforetoggle":X=Ve}var Ce=(r&4)!==0,dt=!Ce&&(t==="scroll"||t==="scrollend"),z=Ce?F!==null?F+"Capture":null:F;Ce=[];for(var k=q,H;k!==null;){var ee=k;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||z===null||(ee=pi(k,z),ee!=null&&Ce.push(Bl(k,ee,H))),dt)break;k=k.return}0<Ce.length&&(F=new X(F,ve,null,a,W),ne.push({event:F,listeners:Ce}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",F&&a!==al&&(ve=a.relatedTarget||a.fromElement)&&(Oi(ve)||ve[Di]))break e;if((X||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,X?(ve=a.relatedTarget||a.toElement,X=q,ve=ve?Oi(ve):null,ve!==null&&(dt=c(ve),Ce=ve.tag,ve!==dt||Ce!==5&&Ce!==27&&Ce!==6)&&(ve=null)):(X=null,ve=q),X!==ve)){if(Ce=ul,ee="onMouseLeave",z="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Ce=lr,ee="onPointerLeave",z="onPointerEnter",k="pointer"),dt=X==null?F:On(X),H=ve==null?F:On(ve),F=new Ce(ee,k+"leave",X,a,W),F.target=dt,F.relatedTarget=H,ee=null,Oi(W)===q&&(Ce=new Ce(z,k+"enter",ve,a,W),Ce.target=H,Ce.relatedTarget=dt,ee=Ce),dt=ee,X&&ve)t:{for(Ce=Tw,z=X,k=ve,H=0,ee=z;ee;ee=Ce(ee))H++;ee=0;for(var Ae=k;Ae;Ae=Ce(Ae))ee++;for(;0<H-ee;)z=Ce(z),H--;for(;0<ee-H;)k=Ce(k),ee--;for(;H--;){if(z===k||k!==null&&z===k.alternate){Ce=z;break t}z=Ce(z),k=Ce(k)}Ce=null}else Ce=null;X!==null&&L_(ne,F,X,Ce,!1),ve!==null&&dt!==null&&L_(ne,dt,ve,Ce,!0)}}e:{if(F=q?On(q):window,X=F.nodeName&&F.nodeName.toLowerCase(),X==="select"||X==="input"&&F.type==="file")var Je=Zg;else if(Wg(F))if(ey)Je=M1;else{Je=N1;var be=D1}else X=F.nodeName,!X||X.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?q&&Va(q.elementType)&&(Je=Zg):Je=O1;if(Je&&(Je=Je(t,q))){Jg(ne,Je,a,W);break e}be&&be(t,F,q),t==="focusout"&&q&&F.type==="number"&&q.memoizedProps.value!=null&&il(F,"number",F.value)}switch(be=q?On(q):window,t){case"focusin":(Wg(be)||be.contentEditable==="true")&&(Ha=be,zh=q,ml=null);break;case"focusout":ml=zh=Ha=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,ly(ne,a,W);break;case"selectionchange":if(V1)break;case"keydown":case"keyup":ly(ne,a,W)}var ke;if(tt)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Ga?Qs(t,a)&&(He="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(He="onCompositionStart");He&&(Gi&&a.locale!=="ko"&&(Ga||He!=="onCompositionStart"?He==="onCompositionEnd"&&Ga&&(ke=ll()):(Ui=W,ol="value"in Ui?Ui.value:Ui.textContent,Ga=!0)),be=Wu(q,He),0<be.length&&(He=new zi(He,t,null,a,W),ne.push({event:He,listeners:be}),ke?He.data=ke:(ke=za(a),ke!==null&&(He.data=ke)))),(ke=Qn?x1(t,a):R1(t,a))&&(He=Wu(q,"onBeforeInput"),0<He.length&&(be=new zi("onBeforeInput","beforeinput",null,a,W),ne.push({event:be,listeners:He}),be.data=ke)),vw(ne,t,q,a,W)}P_(ne,r)})}function Bl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Wu(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=pi(t,a),h!=null&&l.unshift(Bl(t,h,f)),h=pi(t,r),h!=null&&l.push(Bl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Tw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function L_(t,r,a,l,h){for(var f=r._reactName,b=[];a!==null&&a!==l;){var A=a,O=A.alternate,q=A.stateNode;if(A=A.tag,O!==null&&O===l)break;A!==5&&A!==26&&A!==27||q===null||(O=q,h?(q=pi(a,f),q!=null&&b.unshift(Bl(a,q,O))):h||(q=pi(a,f),q!=null&&b.push(Bl(a,q,O)))),a=a.return}b.length!==0&&t.push({event:r,listeners:b})}var Sw=/\r\n?/g,Aw=/\u0000|\uFFFD/g;function k_(t){return(typeof t=="string"?t:""+t).replace(Sw,`
`).replace(Aw,"")}function U_(t,r){return r=k_(r),k_(t)===r}function ut(t,r,a,l,h,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Sn(t,""+l);break;case"className":Mn(t,"class",l);break;case"tabIndex":Mn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Mn(t,a,l);break;case"style":sl(t,l,f);break;case"data":if(r!=="object"){Mn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=La(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&ut(t,r,"name",h.name,h,null),ut(t,r,"formEncType",h.formEncType,h,null),ut(t,r,"formMethod",h.formMethod,h,null),ut(t,r,"formTarget",h.formTarget,h,null)):(ut(t,r,"encType",h.encType,h,null),ut(t,r,"method",h.method,h,null),ut(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=La(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=fi);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=La(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),Ma(t,"popover",l);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ma(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wc.get(a)||a,Ma(t,a,l))}}function pp(t,r,a,l,h,f){switch(a){case"style":sl(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=t[$t]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ma(t,a,l)}}}function an(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var b=a[f];if(b!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ut(t,r,f,b,a,null)}}h&&ut(t,r,"srcSet",a.srcSet,a,null),l&&ut(t,r,"src",a.src,a,null);return;case"input":ze("invalid",t);var A=f=b=h=null,O=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":b=W;break;case"checked":O=W;break;case"defaultChecked":q=W;break;case"value":f=W;break;case"defaultValue":A=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:ut(t,r,l,W,a,null)}}Xc(t,f,A,O,q,b,h,!1);return;case"select":ze("invalid",t),l=b=f=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":f=A;break;case"defaultValue":b=A;break;case"multiple":l=A;default:ut(t,r,h,A,a,null)}r=f,a=b,t.multiple=!!l,r!=null?Vr(t,!!l,r,!1):a!=null&&Vr(t,!!l,a,!0);return;case"textarea":ze("invalid",t),f=h=l=null;for(b in a)if(a.hasOwnProperty(b)&&(A=a[b],A!=null))switch(b){case"value":l=A;break;case"defaultValue":h=A;break;case"children":f=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ut(t,r,b,A,a,null)}Lr(t,l,h,f);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ut(t,r,O,l,a,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<jl.length;l++)ze(jl[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ut(t,r,q,l,a,null)}return;default:if(Va(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&pp(t,r,W,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&ut(t,r,A,l,a,null))}function ww(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,b=null,A=null,O=null,q=null,W=null;for(X in a){var ne=a[X];if(a.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=ne;default:l.hasOwnProperty(X)||ut(t,r,X,null,l,ne)}}for(var F in l){var X=l[F];if(ne=a[F],l.hasOwnProperty(F)&&(X!=null||ne!=null))switch(F){case"type":f=X;break;case"name":h=X;break;case"checked":q=X;break;case"defaultChecked":W=X;break;case"value":b=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==ne&&ut(t,r,F,X,l,ne)}}Pa(t,b,A,O,q,W,f,h);return;case"select":X=b=A=F=null;for(f in a)if(O=a[f],a.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":X=O;default:l.hasOwnProperty(f)||ut(t,r,f,null,l,O)}for(h in l)if(f=l[h],O=a[h],l.hasOwnProperty(h)&&(f!=null||O!=null))switch(h){case"value":F=f;break;case"defaultValue":A=f;break;case"multiple":b=f;default:f!==O&&ut(t,r,h,f,l,O)}r=A,a=b,l=X,F!=null?Vr(t,!!a,F,!1):!!l!=!!a&&(r!=null?Vr(t,!!a,r,!0):Vr(t,!!a,a?[]:"",!1));return;case"textarea":X=F=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ut(t,r,A,null,l,h)}for(b in l)if(h=l[b],f=a[b],l.hasOwnProperty(b)&&(h!=null||f!=null))switch(b){case"value":F=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&ut(t,r,b,h,l,f)}Qc(t,F,X);return;case"option":for(var ve in a)if(F=a[ve],a.hasOwnProperty(ve)&&F!=null&&!l.hasOwnProperty(ve))switch(ve){case"selected":t.selected=!1;break;default:ut(t,r,ve,null,l,F)}for(O in l)if(F=l[O],X=a[O],l.hasOwnProperty(O)&&F!==X&&(F!=null||X!=null))switch(O){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:ut(t,r,O,F,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in a)F=a[Ce],a.hasOwnProperty(Ce)&&F!=null&&!l.hasOwnProperty(Ce)&&ut(t,r,Ce,null,l,F);for(q in l)if(F=l[q],X=a[q],l.hasOwnProperty(q)&&F!==X&&(F!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:ut(t,r,q,F,l,X)}return;default:if(Va(r)){for(var dt in a)F=a[dt],a.hasOwnProperty(dt)&&F!==void 0&&!l.hasOwnProperty(dt)&&pp(t,r,dt,void 0,l,F);for(W in l)F=l[W],X=a[W],!l.hasOwnProperty(W)||F===X||F===void 0&&X===void 0||pp(t,r,W,F,l,X);return}}for(var z in a)F=a[z],a.hasOwnProperty(z)&&F!=null&&!l.hasOwnProperty(z)&&ut(t,r,z,null,l,F);for(ne in l)F=l[ne],X=a[ne],!l.hasOwnProperty(ne)||F===X||F==null&&X==null||ut(t,r,ne,F,l,X)}function j_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,b=h.initiatorType,A=h.duration;if(f&&A&&j_(b)){for(b=0,A=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],q=O.startTime;if(q>A)break;var W=O.transferSize,ne=O.initiatorType;W&&j_(ne)&&(O=O.responseEnd,b+=W*(O<A?1:(A-q)/(O-q)))}if(--l,r+=8*(f+b)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var mp=null,gp=null;function Ju(t){return t.nodeType===9?t:t.ownerDocument}function B_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function yp(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var vp=null;function Rw(){var t=window.event;return t&&t.type==="popstate"?t===vp?!1:(vp=t,!0):(vp=null,!1)}var G_=typeof setTimeout=="function"?setTimeout:void 0,Cw=typeof clearTimeout=="function"?clearTimeout:void 0,H_=typeof Promise=="function"?Promise:void 0,Iw=typeof queueMicrotask=="function"?queueMicrotask:typeof H_<"u"?function(t){return H_.resolve(null).then(t).catch(Dw)}:G_;function Dw(t){setTimeout(function(){throw t})}function ss(t){return t==="head"}function q_(t,r){var a=r,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),yo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")zl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,zl(a);for(var f=a.firstChild;f;){var b=f.nextSibling,A=f.nodeName;f[Ni]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=b}}else a==="body"&&zl(t.ownerDocument.body);a=h}while(a);yo(r)}function F_(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function _p(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_p(a),Oa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Nw(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ni])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ni(t.nextSibling),t===null)break}return null}function Ow(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ni(t.nextSibling),t===null))return null;return t}function $_(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ni(t.nextSibling),t===null))return null;return t}function bp(t){return t.data==="$?"||t.data==="$~"}function Ep(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Mw(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ni(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Tp=null;function Y_(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return ni(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function X_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function Q_(t,r,a){switch(r=Ju(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function zl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Oa(t)}var ii=new Map,K_=new Set;function Zu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Sr=de.d;de.d={f:Pw,r:Vw,D:Lw,C:kw,L:Uw,m:jw,X:zw,S:Bw,M:Gw};function Pw(){var t=Sr.f(),r=qu();return t||r}function Vw(t){var r=$n(t);r!==null&&r.tag===5&&r.type==="form"?fv(r):Sr.r(t)}var po=typeof document>"u"?null:document;function W_(t,r,a){var l=po;if(l&&typeof r=="string"&&r){var h=Tn(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),K_.has(h)||(K_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),an(r,"link",t),Vt(r),l.head.appendChild(r)))}}function Lw(t){Sr.D(t),W_("dns-prefetch",t,null)}function kw(t,r){Sr.C(t,r),W_("preconnect",t,r)}function Uw(t,r,a){Sr.L(t,r,a);var l=po;if(l&&t&&r){var h='link[rel="preload"][as="'+Tn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Tn(a.imageSizes)+'"]')):h+='[href="'+Tn(t)+'"]';var f=h;switch(r){case"style":f=mo(t);break;case"script":f=go(t)}ii.has(f)||(t=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),ii.set(f,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Gl(f))||r==="script"&&l.querySelector(Hl(f))||(r=l.createElement("link"),an(r,"link",t),Vt(r),l.head.appendChild(r)))}}function jw(t,r){Sr.m(t,r);var a=po;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Tn(l)+'"][href="'+Tn(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=go(t)}if(!ii.has(f)&&(t=v({rel:"modulepreload",href:t},r),ii.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hl(f)))return}l=a.createElement("link"),an(l,"link",t),Vt(l),a.head.appendChild(l)}}}function Bw(t,r,a){Sr.S(t,r,a);var l=po;if(l&&t){var h=Mi(l).hoistableStyles,f=mo(t);r=r||"default";var b=h.get(f);if(!b){var A={loading:0,preload:null};if(b=l.querySelector(Gl(f)))A.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":r},a),(a=ii.get(f))&&Sp(t,a);var O=b=l.createElement("link");Vt(O),an(O,"link",t),O._p=new Promise(function(q,W){O.onload=q,O.onerror=W}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,ed(b,r,l)}b={type:"stylesheet",instance:b,count:1,state:A},h.set(f,b)}}}function zw(t,r){Sr.X(t,r);var a=po;if(a&&t){var l=Mi(a).hoistableScripts,h=go(t),f=l.get(h);f||(f=a.querySelector(Hl(h)),f||(t=v({src:t,async:!0},r),(r=ii.get(h))&&Ap(t,r),f=a.createElement("script"),Vt(f),an(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Gw(t,r){Sr.M(t,r);var a=po;if(a&&t){var l=Mi(a).hoistableScripts,h=go(t),f=l.get(h);f||(f=a.querySelector(Hl(h)),f||(t=v({src:t,async:!0,type:"module"},r),(r=ii.get(h))&&Ap(t,r),f=a.createElement("script"),Vt(f),an(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function J_(t,r,a,l){var h=(h=De.current)?Zu(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=mo(a.href),a=Mi(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=mo(a.href);var f=Mi(h).hoistableStyles,b=f.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,b),(f=h.querySelector(Gl(t)))&&!f._p&&(b.instance=f,b.state.loading=5),ii.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ii.set(t,a),f||Hw(h,t,a,b.state))),r&&l===null)throw Error(s(528,""));return b}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=go(a),a=Mi(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function mo(t){return'href="'+Tn(t)+'"'}function Gl(t){return'link[rel="stylesheet"]['+t+"]"}function Z_(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function Hw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),an(r,"link",a),Vt(r),t.head.appendChild(r))}function go(t){return'[src="'+Tn(t)+'"]'}function Hl(t){return"script[async]"+t}function eb(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Tn(a.href)+'"]');if(l)return r.instance=l,Vt(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Vt(l),an(l,"style",h),ed(l,a.precedence,t),r.instance=l;case"stylesheet":h=mo(a.href);var f=t.querySelector(Gl(h));if(f)return r.state.loading|=4,r.instance=f,Vt(f),f;l=Z_(a),(h=ii.get(h))&&Sp(l,h),f=(t.ownerDocument||t).createElement("link"),Vt(f);var b=f;return b._p=new Promise(function(A,O){b.onload=A,b.onerror=O}),an(f,"link",l),r.state.loading|=4,ed(f,a.precedence,t),r.instance=f;case"script":return f=go(a.src),(h=t.querySelector(Hl(f)))?(r.instance=h,Vt(h),h):(l=a,(h=ii.get(f))&&(l=v({},a),Ap(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Vt(h),an(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ed(l,a.precedence,t));return r.instance}function ed(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,b=0;b<l.length;b++){var A=l[b];if(A.dataset.precedence===r)f=A;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Sp(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Ap(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var td=null;function tb(t,r,a){if(td===null){var l=new Map,h=td=new Map;h.set(a,l)}else h=td,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ni]||f[Pt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var b=f.getAttribute(r)||"";b=t+b;var A=l.get(b);A?A.push(f):l.set(b,[f])}}return l}function nb(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function qw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ib(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Fw(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=mo(l.href),f=r.querySelector(Gl(h));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=nd.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=f,Vt(f);return}f=r.ownerDocument||r,l=Z_(l),(h=ii.get(h))&&Sp(l,h),f=f.createElement("link"),Vt(f);var b=f;b._p=new Promise(function(A,O){b.onload=A,b.onerror=O}),an(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=nd.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var wp=0;function $w(t,r){return t.stylesheets&&t.count===0&&rd(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&rd(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+r);0<t.imgBytes&&wp===0&&(wp=62500*xw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&rd(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>wp?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function nd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var id=null;function rd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,id=new Map,r.forEach(Yw,t),id=null,nd.call(t))}function Yw(t,r){if(!(r.state.loading&4)){var a=id.get(t);if(a)var l=a.get(null);else{a=new Map,id.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var b=h[f];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}h=r.instance,b=h.getAttribute("data-precedence"),f=a.get(b)||l,f===l&&a.set(null,h),a.set(b,h),this.count++,l=nd.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var ql={$$typeof:te,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Xw(t,r,a,l,h,f,b,A,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function rb(t,r,a,l,h,f,b,A,O,q,W,ne){return t=new Xw(t,r,a,b,O,q,W,ne,A),r=1,f===!0&&(r|=24),f=Vn(3,null,null,r),t.current=f,f.stateNode=t,r=rf(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},lf(f),t}function sb(t){return t?(t=$a,t):$a}function ab(t,r,a,l,h,f){h=sb(h),l.context===null?l.context=h:l.pendingContext=h,l=Xr(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Qr(t,l,r),a!==null&&(Cn(a,t,r),Tl(a,t,r))}function ob(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function xp(t,r){ob(t,r),(t=t.alternate)&&ob(t,r)}function lb(t){if(t.tag===13||t.tag===31){var r=Js(t,67108864);r!==null&&Cn(r,t,67108864),xp(t,67108864)}}function cb(t){if(t.tag===13||t.tag===31){var r=Bn();r=Bs(r);var a=Js(t,r);a!==null&&Cn(a,t,r),xp(t,r)}}var sd=!0;function Qw(t,r,a,l){var h=K.T;K.T=null;var f=de.p;try{de.p=2,Rp(t,r,a,l)}finally{de.p=f,K.T=h}}function Kw(t,r,a,l){var h=K.T;K.T=null;var f=de.p;try{de.p=8,Rp(t,r,a,l)}finally{de.p=f,K.T=h}}function Rp(t,r,a,l){if(sd){var h=Cp(l);if(h===null)fp(t,r,l,ad,a),db(t,l);else if(Jw(h,t,r,a,l))l.stopPropagation();else if(db(t,l),r&4&&-1<Ww.indexOf(t)){for(;h!==null;){var f=$n(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var b=Ri(f.pendingLanes);if(b!==0){var A=f;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var O=1<<31-Rt(b);A.entanglements[1]|=O,b&=~O}$i(f),(nt&6)===0&&(Gu=Zt()+500,Ul(0))}}break;case 31:case 13:A=Js(f,2),A!==null&&Cn(A,f,2),qu(),xp(f,2)}if(f=Cp(l),f===null&&fp(t,r,l,ad,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else fp(t,r,l,null,a)}}function Cp(t){return t=Yn(t),Ip(t)}var ad=null;function Ip(t){if(ad=null,t=Oi(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=u(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return ad=t,null}function ub(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rr()){case re:return 2;case _e:return 8;case ye:case we:return 32;case We:return 268435456;default:return 32}default:return 32}}var Dp=!1,as=null,os=null,ls=null,Fl=new Map,$l=new Map,cs=[],Ww="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function db(t,r){switch(t){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":Fl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(r.pointerId)}}function Yl(t,r,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},r!==null&&(r=$n(r),r!==null&&lb(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Jw(t,r,a,l,h){switch(r){case"focusin":return as=Yl(as,t,r,a,l,h),!0;case"dragenter":return os=Yl(os,t,r,a,l,h),!0;case"mouseover":return ls=Yl(ls,t,r,a,l,h),!0;case"pointerover":var f=h.pointerId;return Fl.set(f,Yl(Fl.get(f)||null,t,r,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,$l.set(f,Yl($l.get(f)||null,t,r,a,l,h)),!0}return!1}function hb(t){var r=Oi(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){t.blockedOn=r,di(t.priority,function(){cb(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,di(t.priority,function(){cb(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function od(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Cp(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);al=l,a.target.dispatchEvent(l),al=null}else return r=$n(a),r!==null&&lb(r),t.blockedOn=a,!1;r.shift()}return!0}function fb(t,r,a){od(t)&&a.delete(r)}function Zw(){Dp=!1,as!==null&&od(as)&&(as=null),os!==null&&od(os)&&(os=null),ls!==null&&od(ls)&&(ls=null),Fl.forEach(fb),$l.forEach(fb)}function ld(t,r){t.blockedOn===r&&(t.blockedOn=null,Dp||(Dp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Zw)))}var cd=null;function pb(t){cd!==t&&(cd=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){cd===t&&(cd=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Ip(l||a)===null)continue;break}var f=$n(a);f!==null&&(t.splice(r,3),r-=3,Cf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function yo(t){function r(O){return ld(O,t)}as!==null&&ld(as,t),os!==null&&ld(os,t),ls!==null&&ld(ls,t),Fl.forEach(r),$l.forEach(r);for(var a=0;a<cs.length;a++){var l=cs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<cs.length&&(a=cs[0],a.blockedOn===null);)hb(a),a.blockedOn===null&&cs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],b=h[$t]||null;if(typeof f=="function")b||pb(a);else if(b){var A=null;if(f&&f.hasAttribute("formAction")){if(h=f,b=f[$t]||null)A=b.formAction;else if(Ip(h)!==null)continue}else A=b.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),pb(a)}}}function mb(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function Np(t){this._internalRoot=t}ud.prototype.render=Np.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Bn();ab(a,l,t,r,null,null)},ud.prototype.unmount=Np.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;ab(t.current,2,null,t,null,null),qu(),r[Di]=null}};function ud(t){this._internalRoot=t}ud.prototype.unstable_scheduleHydration=function(t){if(t){var r=qc();t={blockedOn:null,target:t,priority:r};for(var a=0;a<cs.length&&r!==0&&r<cs[a].priority;a++);cs.splice(a,0,t),a===0&&hb(t)}};var gb=e.version;if(gb!=="19.2.0")throw Error(s(527,gb,"19.2.0"));de.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var ex={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{Nn=dd.inject(ex),en=dd}catch{}}return Ql.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Sv,f=Av,b=wv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=rb(t,1,!1,null,null,a,l,null,h,f,b,mb),t[Di]=r.current,hp(t),new Np(r)},Ql.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=Sv,b=Av,A=wv,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),r=rb(t,1,!0,r,a??null,l,h,O,f,b,A,mb),r.context=sb(null),a=r.current,l=Bn(),l=Bs(l),h=Xr(l),h.callback=null,Qr(a,h,l),a=l,r.current.lanes=a,Us(r,a),$i(r),t[Di]=r.current,hp(t),new ud(r)},Ql.version="19.2.0",Ql}var xb;function cx(){if(xb)return Pp.exports;xb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Pp.exports=lx(),Pp.exports}var ux=cx(),Hm=q0();const dx=H0(Hm);function _n(i){return`Minified Redux error #${i}; visit https://redux.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var hx=typeof Symbol=="function"&&Symbol.observable||"@@observable",Rb=hx,Cb=()=>Math.random().toString(36).substring(7).split("").join("."),fx={INIT:`@@redux/INIT${Cb()}`,REPLACE:`@@redux/REPLACE${Cb()}`},Ib=fx;function px(i){if(typeof i!="object"||i===null)return!1;let e=i;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(i)===e||Object.getPrototypeOf(i)===null}function F0(i,e,n){if(typeof i!="function")throw new Error(_n(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(_n(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(_n(1));return n(F0)(i,e)}let s=i,o=e,c=new Map,u=c,m=0,p=!1;function g(){u===c&&(u=new Map,c.forEach((V,Q)=>{u.set(Q,V)}))}function _(){if(p)throw new Error(_n(3));return o}function v(V){if(typeof V!="function")throw new Error(_n(4));if(p)throw new Error(_n(5));let Q=!0;g();const J=m++;return u.set(J,V),function(){if(Q){if(p)throw new Error(_n(6));Q=!1,g(),u.delete(J),c=null}}}function E(V){if(!px(V))throw new Error(_n(7));if(typeof V.type>"u")throw new Error(_n(8));if(typeof V.type!="string")throw new Error(_n(17));if(p)throw new Error(_n(9));try{p=!0,o=s(o,V)}finally{p=!1}return(c=u).forEach(J=>{J()}),V}function w(V){if(typeof V!="function")throw new Error(_n(10));s=V,E({type:Ib.REPLACE})}function N(){const V=v;return{subscribe(Q){if(typeof Q!="object"||Q===null)throw new Error(_n(11));function J(){const se=Q;se.next&&se.next(_())}return J(),{unsubscribe:V(J)}},[Rb](){return this}}}return E({type:Ib.INIT}),{dispatch:E,subscribe:v,getState:_,replaceReducer:w,[Rb]:N}}function Db(i,e){return function(...n){return e(i.apply(this,n))}}function Nb(i,e){if(typeof i=="function")return Db(i,e);if(typeof i!="object"||i===null)throw new Error(_n(16));const n={};for(const s in i){const o=i[s];typeof o=="function"&&(n[s]=Db(o,e))}return n}function $0(...i){return i.length===0?e=>e:i.length===1?i[0]:i.reduce((e,n)=>(...s)=>e(n(...s)))}function mx(...i){return e=>(n,s)=>{const o=e(n,s);let c=()=>{throw new Error(_n(15))};const u={getState:o.getState,dispatch:(p,...g)=>c(p,...g)},m=i.map(p=>p(u));return c=$0(...m)(o.dispatch),{...o,dispatch:c}}}var Up={exports:{}},jp={};var Ob;function gx(){if(Ob)return jp;Ob=1;var i=ch();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,s=i.useSyncExternalStore,o=i.useRef,c=i.useEffect,u=i.useMemo,m=i.useDebugValue;return jp.useSyncExternalStoreWithSelector=function(p,g,_,v,E){var w=o(null);if(w.current===null){var N={hasValue:!1,value:null};w.current=N}else N=w.current;w=u(function(){function V(ue){if(!Q){if(Q=!0,J=ue,ue=v(ue),E!==void 0&&N.hasValue){var ce=N.value;if(E(ce,ue))return te=ce}return te=ue}if(ce=te,n(J,ue))return ce;var C=v(ue);return E!==void 0&&E(ce,C)?(J=ue,ce):(J=ue,te=C)}var Q=!1,J,te,se=_===void 0?null:_;return[function(){return V(g())},se===null?void 0:function(){return V(se())}]},[g,_,v,E]);var j=s(p,w[0],w[1]);return c(function(){N.hasValue=!0,N.value=j},[j]),m(j),j},jp}var Mb;function yx(){return Mb||(Mb=1,Up.exports=gx()),Up.exports}yx();var vx=Y.version.startsWith("19"),_x=Symbol.for(vx?"react.transitional.element":"react.element"),bx=Symbol.for("react.portal"),Ex=Symbol.for("react.fragment"),Tx=Symbol.for("react.strict_mode"),Sx=Symbol.for("react.profiler"),Ax=Symbol.for("react.consumer"),wx=Symbol.for("react.context"),Y0=Symbol.for("react.forward_ref"),xx=Symbol.for("react.suspense"),Rx=Symbol.for("react.suspense_list"),qm=Symbol.for("react.memo"),Cx=Symbol.for("react.lazy"),Ix=Y0,Dx=qm;function Nx(i){if(typeof i=="object"&&i!==null){const{$$typeof:e}=i;switch(e){case _x:switch(i=i.type,i){case Ex:case Sx:case Tx:case xx:case Rx:return i;default:switch(i=i&&i.$$typeof,i){case wx:case Y0:case Cx:case qm:return i;case Ax:return i;default:return e}}case bx:return e}}}function Ox(i){return Nx(i)===qm}function Mx(i,e,n,s,{areStatesEqual:o,areOwnPropsEqual:c,areStatePropsEqual:u}){let m=!1,p,g,_,v,E;function w(J,te){return p=J,g=te,_=i(p,g),v=e(s,g),E=n(_,v,g),m=!0,E}function N(){return _=i(p,g),e.dependsOnOwnProps&&(v=e(s,g)),E=n(_,v,g),E}function j(){return i.dependsOnOwnProps&&(_=i(p,g)),e.dependsOnOwnProps&&(v=e(s,g)),E=n(_,v,g),E}function V(){const J=i(p,g),te=!u(J,_);return _=J,te&&(E=n(_,v,g)),E}function Q(J,te){const se=!c(te,g),ue=!o(J,p,te,g);return p=J,g=te,se&&ue?N():se?j():ue?V():E}return function(te,se){return m?Q(te,se):w(te,se)}}function Px(i,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:s,...o}){const c=e(i,o),u=n(i,o),m=s(i,o);return Mx(c,u,m,i,o)}function Vx(i,e){const n={};for(const s in i){const o=i[s];typeof o=="function"&&(n[s]=(...c)=>e(o(...c)))}return n}function cm(i){return function(n){const s=i(n);function o(){return s}return o.dependsOnOwnProps=!1,o}}function Pb(i){return i.dependsOnOwnProps?!!i.dependsOnOwnProps:i.length!==1}function X0(i,e){return function(s,{displayName:o}){const c=function(m,p){return c.dependsOnOwnProps?c.mapToProps(m,p):c.mapToProps(m,void 0)};return c.dependsOnOwnProps=!0,c.mapToProps=function(m,p){c.mapToProps=i,c.dependsOnOwnProps=Pb(i);let g=c(m,p);return typeof g=="function"&&(c.mapToProps=g,c.dependsOnOwnProps=Pb(g),g=c(m,p)),g},c}}function Fm(i,e){return(n,s)=>{throw new Error(`Invalid value of type ${typeof i} for ${e} argument when connecting component ${s.wrappedComponentName}.`)}}function Lx(i){return i&&typeof i=="object"?cm(e=>Vx(i,e)):i?typeof i=="function"?X0(i):Fm(i,"mapDispatchToProps"):cm(e=>({dispatch:e}))}function kx(i){return i?typeof i=="function"?X0(i):Fm(i,"mapStateToProps"):cm(()=>({}))}function Ux(i,e,n){return{...n,...i,...e}}function jx(i){return function(n,{displayName:s,areMergedPropsEqual:o}){let c=!1,u;return function(p,g,_){const v=i(p,g,_);return c?o(v,u)||(u=v):(c=!0,u=v),u}}}function Bx(i){return i?typeof i=="function"?jx(i):Fm(i,"mergeProps"):()=>Ux}function zx(i){i()}function Gx(){let i=null,e=null;return{clear(){i=null,e=null},notify(){zx(()=>{let n=i;for(;n;)n.callback(),n=n.next})},get(){const n=[];let s=i;for(;s;)n.push(s),s=s.next;return n},subscribe(n){let s=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:i=o,function(){!s||i===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:i=o.next)}}}}var Vb={notify(){},get:()=>[]};function Q0(i,e){let n,s=Vb,o=0,c=!1;function u(j){_();const V=s.subscribe(j);let Q=!1;return()=>{Q||(Q=!0,V(),v())}}function m(){s.notify()}function p(){N.onStateChange&&N.onStateChange()}function g(){return c}function _(){o++,n||(n=e?e.addNestedSub(p):i.subscribe(p),s=Gx())}function v(){o--,n&&o===0&&(n(),n=void 0,s.clear(),s=Vb)}function E(){c||(c=!0,_())}function w(){c&&(c=!1,v())}const N={addNestedSub:u,notifyNestedSubs:m,handleChangeWrapper:p,isSubscribed:g,trySubscribe:E,tryUnsubscribe:w,getListeners:()=>s};return N}var Hx=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qx=Hx(),Fx=()=>typeof navigator<"u"&&navigator.product==="ReactNative",$x=Fx(),Yx=()=>qx||$x?Y.useLayoutEffect:Y.useEffect,Md=Yx();function Lb(i,e){return i===e?i!==0||e!==0||1/i===1/e:i!==i&&e!==e}function Bp(i,e){if(Lb(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null)return!1;const n=Object.keys(i),s=Object.keys(e);if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(e,n[o])||!Lb(i[n[o]],e[n[o]]))return!1;return!0}var Xx={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Qx={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Kx={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},K0={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Wx={[Ix]:Kx,[Dx]:K0};function kb(i){return Ox(i)?K0:Wx[i.$$typeof]||Xx}var Jx=Object.defineProperty,Zx=Object.getOwnPropertyNames,Ub=Object.getOwnPropertySymbols,eR=Object.getOwnPropertyDescriptor,tR=Object.getPrototypeOf,jb=Object.prototype;function um(i,e){if(typeof e!="string"){if(jb){const c=tR(e);c&&c!==jb&&um(i,c)}let n=Zx(e);Ub&&(n=n.concat(Ub(e)));const s=kb(i),o=kb(e);for(let c=0;c<n.length;++c){const u=n[c];if(!Qx[u]&&!(o&&o[u])&&!(s&&s[u])){const m=eR(e,u);try{Jx(i,u,m)}catch{}}}}return i}var nR=Symbol.for("react-redux-context"),iR=typeof globalThis<"u"?globalThis:{};function rR(){if(!Y.createContext)return{};const i=iR[nR]??=new Map;let e=i.get(Y.createContext);return e||(e=Y.createContext(null),i.set(Y.createContext,e)),e}var W0=rR(),sR=[null,null];function aR(i,e,n){Md(()=>i(...e),n)}function oR(i,e,n,s,o,c){i.current=s,n.current=!1,o.current&&(o.current=null,c())}function lR(i,e,n,s,o,c,u,m,p,g,_){if(!i)return()=>{};let v=!1,E=null;const w=()=>{if(v||!m.current)return;const j=e.getState();let V,Q;try{V=s(j,o.current)}catch(J){Q=J,E=J}Q||(E=null),V===c.current?u.current||g():(c.current=V,p.current=V,u.current=!0,_())};return n.onStateChange=w,n.trySubscribe(),w(),()=>{if(v=!0,n.tryUnsubscribe(),n.onStateChange=null,E)throw E}}function cR(i,e){return i===e}function uR(i,e,n,{pure:s,areStatesEqual:o=cR,areOwnPropsEqual:c=Bp,areStatePropsEqual:u=Bp,areMergedPropsEqual:m=Bp,forwardRef:p=!1,context:g=W0}={}){const _=g,v=kx(i),E=Lx(e),w=Bx(n),N=!!i;return V=>{const Q=V.displayName||V.name||"Component",J=`Connect(${Q})`,te={shouldHandleStateChanges:N,displayName:J,wrappedComponentName:Q,WrappedComponent:V,initMapStateToProps:v,initMapDispatchToProps:E,initMergeProps:w,areStatesEqual:o,areStatePropsEqual:u,areOwnPropsEqual:c,areMergedPropsEqual:m};function se(C){const[R,I,P]=Y.useMemo(()=>{const{reactReduxForwardedRef:At,...bn}=C;return[C.context,At,bn]},[C]),M=Y.useMemo(()=>{let At=_;return R?.Consumer,At},[R,_]),B=Y.useContext(M),D=!!C.store&&!!C.store.getState&&!!C.store.dispatch,oe=!!B&&!!B.store,Ee=D?C.store:B.store,K=oe?B.getServerState:Ee.getState,de=Y.useMemo(()=>Px(Ee.dispatch,te),[Ee]),[le,je]=Y.useMemo(()=>{if(!N)return sR;const At=Q0(Ee,D?void 0:B.subscription),bn=At.notifyNestedSubs.bind(At);return[At,bn]},[Ee,D,B]),Xe=Y.useMemo(()=>D?B:{...B,subscription:le},[D,B,le]),L=Y.useRef(void 0),Z=Y.useRef(P),he=Y.useRef(void 0),me=Y.useRef(!1),xe=Y.useRef(!1),De=Y.useRef(void 0);Md(()=>(xe.current=!0,()=>{xe.current=!1}),[]);const Ue=Y.useMemo(()=>()=>he.current&&P===Z.current?he.current:de(Ee.getState(),P),[Ee,P]),vt=Y.useMemo(()=>bn=>le?lR(N,Ee,le,de,Z,L,me,xe,he,je,bn):()=>{},[le]);aR(oR,[Z,L,me,P,he,je]);let et;try{et=Y.useSyncExternalStore(vt,Ue,K?()=>de(K(),P):Ue)}catch(At){throw De.current&&(At.message+=`
The error may be correlated with this previous error:
${De.current.stack}

`),At}Md(()=>{De.current=void 0,he.current=void 0,L.current=et});const Dn=Y.useMemo(()=>Y.createElement(V,{...et,ref:I}),[I,V,et]);return Y.useMemo(()=>N?Y.createElement(M.Provider,{value:Xe},Dn):Dn,[M,Dn,Xe])}const ce=Y.memo(se);if(ce.WrappedComponent=V,ce.displayName=se.displayName=J,p){const R=Y.forwardRef(function(P,M){return Y.createElement(ce,{...P,reactReduxForwardedRef:M})});return R.displayName=J,R.WrappedComponent=V,um(R,V)}return um(ce,V)}}var J0=uR;function dR(i){const{children:e,context:n,serverState:s,store:o}=i,c=Y.useMemo(()=>{const p=Q0(o);return{store:o,subscription:p,getServerState:s?()=>s:void 0}},[o,s]),u=Y.useMemo(()=>o.getState(),[o]);Md(()=>{const{subscription:p}=c;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),u!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[c,u]);const m=n||W0;return Y.createElement(m.Provider,{value:c},e)}var hR=dR,fR="Invariant failed";function pR(i,e){throw new Error(fR)}var Ti=function(e){var n=e.top,s=e.right,o=e.bottom,c=e.left,u=s-c,m=o-n,p={top:n,right:s,bottom:o,left:c,width:u,height:m,x:c,y:n,center:{x:(s+c)/2,y:(o+n)/2}};return p},$m=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},Bb=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},mR=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},zp={top:0,right:0,bottom:0,left:0},Ym=function(e){var n=e.borderBox,s=e.margin,o=s===void 0?zp:s,c=e.border,u=c===void 0?zp:c,m=e.padding,p=m===void 0?zp:m,g=Ti($m(n,o)),_=Ti(Bb(n,u)),v=Ti(Bb(_,p));return{marginBox:g,borderBox:Ti(n),paddingBox:_,contentBox:v,margin:o,border:u,padding:p}},ri=function(e){var n=e.slice(0,-2),s=e.slice(-2);if(s!=="px")return 0;var o=Number(n);return isNaN(o)&&pR(),o},gR=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Pd=function(e,n){var s=e.borderBox,o=e.border,c=e.margin,u=e.padding,m=mR(s,n);return Ym({borderBox:m,border:o,margin:c,padding:u})},Vd=function(e,n){return n===void 0&&(n=gR()),Pd(e,n)},Z0=function(e,n){var s={top:ri(n.marginTop),right:ri(n.marginRight),bottom:ri(n.marginBottom),left:ri(n.marginLeft)},o={top:ri(n.paddingTop),right:ri(n.paddingRight),bottom:ri(n.paddingBottom),left:ri(n.paddingLeft)},c={top:ri(n.borderTopWidth),right:ri(n.borderRightWidth),bottom:ri(n.borderBottomWidth),left:ri(n.borderLeftWidth)};return Ym({borderBox:e,margin:s,padding:o,border:c})},eT=function(e){var n=e.getBoundingClientRect(),s=window.getComputedStyle(e);return Z0(n,s)},hc=function(e){var n=[],s=null,o=function(){for(var u=arguments.length,m=new Array(u),p=0;p<u;p++)m[p]=arguments[p];n=m,!s&&(s=requestAnimationFrame(function(){s=null,e.apply(void 0,n)}))};return o.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},o};function Ld(){return Ld=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Ld.apply(null,arguments)}function tT(i,e){}tT.bind(null,"warn");tT.bind(null,"error");function ys(){}function yR(i,e){return{...i,...e}}function oi(i,e,n){const s=e.map(o=>{const c=yR(n,o.options);return i.addEventListener(o.eventName,o.fn,c),function(){i.removeEventListener(o.eventName,o.fn,c)}});return function(){s.forEach(c=>{c()})}}const vR="Invariant failed";class kd extends Error{}kd.prototype.toString=function(){return this.message};function fe(i,e){throw new kd(vR)}class _R extends Ot.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=ys,this.onWindowError=n=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),n.error instanceof kd&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=oi(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof kd){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const bR=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Ud=i=>i+1,ER=i=>`
  You have lifted an item in position ${Ud(i.source.index)}
`,nT=(i,e)=>{const n=i.droppableId===e.droppableId,s=Ud(i.index),o=Ud(e.index);return n?`
      You have moved the item from position ${s}
      to position ${o}
    `:`
    You have moved the item from position ${s}
    in list ${i.droppableId}
    to list ${e.droppableId}
    in position ${o}
  `},iT=(i,e,n)=>e.droppableId===n.droppableId?`
      The item ${i}
      has been combined with ${n.draggableId}`:`
      The item ${i}
      in list ${e.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,TR=i=>{const e=i.destination;if(e)return nT(i.source,e);const n=i.combine;return n?iT(i.draggableId,i.source,n):"You are over an area that cannot be dropped on"},zb=i=>`
  The item has returned to its starting position
  of ${Ud(i.index)}
`,SR=i=>{if(i.reason==="CANCEL")return`
      Movement cancelled.
      ${zb(i.source)}
    `;const e=i.destination,n=i.combine;return e?`
      You have dropped the item.
      ${nT(i.source,e)}
    `:n?`
      You have dropped the item.
      ${iT(i.draggableId,i.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${zb(i.source)}
  `},Td={dragHandleUsageInstructions:bR,onDragStart:ER,onDragUpdate:TR,onDragEnd:SR};function AR(i,e){return!!(i===e||Number.isNaN(i)&&Number.isNaN(e))}function rT(i,e){if(i.length!==e.length)return!1;for(let n=0;n<i.length;n++)if(!AR(i[n],e[n]))return!1;return!0}function Ke(i,e){const n=Y.useState(()=>({inputs:e,result:i()}))[0],s=Y.useRef(!0),o=Y.useRef(n),u=s.current||!!(e&&o.current.inputs&&rT(e,o.current.inputs))?o.current:{inputs:e,result:i()};return Y.useEffect(()=>{s.current=!1,o.current=u},[u]),u.result}function Te(i,e){return Ke(()=>i,e)}const Jt={x:0,y:0},cn=(i,e)=>({x:i.x+e.x,y:i.y+e.y}),zn=(i,e)=>({x:i.x-e.x,y:i.y-e.y}),vs=(i,e)=>i.x===e.x&&i.y===e.y,jo=i=>({x:i.x!==0?-i.x:0,y:i.y!==0?-i.y:0}),_a=(i,e,n=0)=>i==="x"?{x:e,y:n}:{x:n,y:e},fc=(i,e)=>Math.sqrt((e.x-i.x)**2+(e.y-i.y)**2),Gb=(i,e)=>Math.min(...e.map(n=>fc(i,n))),sT=i=>e=>({x:i(e.x),y:i(e.y)});var wR=(i,e)=>{const n=Ti({top:Math.max(e.top,i.top),right:Math.min(e.right,i.right),bottom:Math.min(e.bottom,i.bottom),left:Math.max(e.left,i.left)});return n.width<=0||n.height<=0?null:n};const Cc=(i,e)=>({top:i.top+e.y,left:i.left+e.x,bottom:i.bottom+e.y,right:i.right+e.x}),Hb=i=>[{x:i.left,y:i.top},{x:i.right,y:i.top},{x:i.left,y:i.bottom},{x:i.right,y:i.bottom}],xR={top:0,right:0,bottom:0,left:0},RR=(i,e)=>e?Cc(i,e.scroll.diff.displacement):i,CR=(i,e,n)=>n&&n.increasedBy?{...i,[e.end]:i[e.end]+n.increasedBy[e.line]}:i,IR=(i,e)=>e&&e.shouldClipSubject?wR(e.pageMarginBox,i):Ti(i);var Io=({page:i,withPlaceholder:e,axis:n,frame:s})=>{const o=RR(i.marginBox,s),c=CR(o,n,e),u=IR(c,s);return{page:i,withPlaceholder:e,active:u}},Xm=(i,e)=>{i.frame||fe();const n=i.frame,s=zn(e,n.scroll.initial),o=jo(s),c={...n,scroll:{initial:n.scroll.initial,current:e,diff:{value:s,displacement:o},max:n.scroll.max}},u=Io({page:i.subject.page,withPlaceholder:i.subject.withPlaceholder,axis:i.axis,frame:c});return{...i,frame:c,subject:u}};function Wt(i,e=rT){let n=null;function s(...o){if(n&&n.lastThis===this&&e(o,n.lastArgs))return n.lastResult;const c=i.apply(this,o);return n={lastResult:c,lastArgs:o,lastThis:this},c}return s.clear=function(){n=null},s}const aT=Wt(i=>i.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),oT=Wt(i=>i.reduce((e,n)=>(e[n.descriptor.id]=n,e),{})),uh=Wt(i=>Object.values(i)),DR=Wt(i=>Object.values(i));var Bo=Wt((i,e)=>DR(e).filter(s=>i===s.descriptor.droppableId).sort((s,o)=>s.descriptor.index-o.descriptor.index));function Qm(i){return i.at&&i.at.type==="REORDER"?i.at.destination:null}function dh(i){return i.at&&i.at.type==="COMBINE"?i.at.combine:null}var hh=Wt((i,e)=>e.filter(n=>n.descriptor.id!==i.descriptor.id)),NR=({isMovingForward:i,draggable:e,destination:n,insideDestination:s,previousImpact:o})=>{if(!n.isCombineEnabled||!Qm(o))return null;function u(w){const N={type:"COMBINE",combine:{draggableId:w,droppableId:n.descriptor.id}};return{...o,at:N}}const m=o.displaced.all,p=m.length?m[0]:null;if(i)return p?u(p):null;const g=hh(e,s);if(!p){if(!g.length)return null;const w=g[g.length-1];return u(w.descriptor.id)}const _=g.findIndex(w=>w.descriptor.id===p);_===-1&&fe();const v=_-1;if(v<0)return null;const E=g[v];return u(E.descriptor.id)},zo=(i,e)=>i.descriptor.droppableId===e.descriptor.id;const lT={point:Jt,value:0},pc={invisible:{},visible:{},all:[]},OR={displaced:pc,displacedBy:lT,at:null};var li=(i,e)=>n=>i<=n&&n<=e,cT=i=>{const e=li(i.top,i.bottom),n=li(i.left,i.right);return s=>{if(e(s.top)&&e(s.bottom)&&n(s.left)&&n(s.right))return!0;const c=e(s.top)||e(s.bottom),u=n(s.left)||n(s.right);if(c&&u)return!0;const p=s.top<i.top&&s.bottom>i.bottom,g=s.left<i.left&&s.right>i.right;return p&&g?!0:p&&u||g&&c}},MR=i=>{const e=li(i.top,i.bottom),n=li(i.left,i.right);return s=>e(s.top)&&e(s.bottom)&&n(s.left)&&n(s.right)};const Km={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},uT={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var PR=i=>e=>{const n=li(e.top,e.bottom),s=li(e.left,e.right);return o=>i===Km?n(o.top)&&n(o.bottom):s(o.left)&&s(o.right)};const VR=(i,e)=>{const n=e.frame?e.frame.scroll.diff.displacement:Jt;return Cc(i,n)},LR=(i,e,n)=>e.subject.active?n(e.subject.active)(i):!1,kR=(i,e,n)=>n(e)(i),Wm=({target:i,destination:e,viewport:n,withDroppableDisplacement:s,isVisibleThroughFrameFn:o})=>{const c=s?VR(i,e):i;return LR(c,e,o)&&kR(c,n,o)},UR=i=>Wm({...i,isVisibleThroughFrameFn:cT}),dT=i=>Wm({...i,isVisibleThroughFrameFn:MR}),jR=i=>Wm({...i,isVisibleThroughFrameFn:PR(i.destination.axis)}),BR=(i,e,n)=>{if(typeof n=="boolean")return n;if(!e)return!0;const{invisible:s,visible:o}=e;if(s[i])return!1;const c=o[i];return c?c.shouldAnimate:!0};function zR(i,e){const n=i.page.marginBox,s={top:e.point.y,right:0,bottom:0,left:e.point.x};return Ti($m(n,s))}function mc({afterDragging:i,destination:e,displacedBy:n,viewport:s,forceShouldAnimate:o,last:c}){return i.reduce(function(m,p){const g=zR(p,n),_=p.descriptor.id;if(m.all.push(_),!UR({target:g,destination:e,viewport:s,withDroppableDisplacement:!0}))return m.invisible[p.descriptor.id]=!0,m;const E=BR(_,c,o),w={draggableId:_,shouldAnimate:E};return m.visible[_]=w,m},{all:[],visible:{},invisible:{}})}function GR(i,e){if(!i.length)return 0;const n=i[i.length-1].descriptor.index;return e.inHomeList?n:n+1}function qb({insideDestination:i,inHomeList:e,displacedBy:n,destination:s}){const o=GR(i,{inHomeList:e});return{displaced:pc,displacedBy:n,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:o}}}}function jd({draggable:i,insideDestination:e,destination:n,viewport:s,displacedBy:o,last:c,index:u,forceShouldAnimate:m}){const p=zo(i,n);if(u==null)return qb({insideDestination:e,inHomeList:p,displacedBy:o,destination:n});const g=e.find(N=>N.descriptor.index===u);if(!g)return qb({insideDestination:e,inHomeList:p,displacedBy:o,destination:n});const _=hh(i,e),v=e.indexOf(g),E=_.slice(v);return{displaced:mc({afterDragging:E,destination:n,displacedBy:o,last:c,viewport:s.frame,forceShouldAnimate:m}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:u}}}}function ws(i,e){return!!e.effected[i]}var HR=({isMovingForward:i,destination:e,draggables:n,combine:s,afterCritical:o})=>{if(!e.isCombineEnabled)return null;const c=s.draggableId,m=n[c].descriptor.index;return ws(c,o)?i?m:m-1:i?m+1:m},qR=({isMovingForward:i,isInHomeList:e,insideDestination:n,location:s})=>{if(!n.length)return null;const o=s.index,c=i?o+1:o-1,u=n[0].descriptor.index,m=n[n.length-1].descriptor.index,p=e?m:m+1;return c<u||c>p?null:c},FR=({isMovingForward:i,isInHomeList:e,draggable:n,draggables:s,destination:o,insideDestination:c,previousImpact:u,viewport:m,afterCritical:p})=>{const g=u.at;if(g||fe(),g.type==="REORDER"){const v=qR({isMovingForward:i,isInHomeList:e,location:g.destination,insideDestination:c});return v==null?null:jd({draggable:n,insideDestination:c,destination:o,viewport:m,last:u.displaced,displacedBy:u.displacedBy,index:v})}const _=HR({isMovingForward:i,destination:o,displaced:u.displaced,draggables:s,combine:g.combine,afterCritical:p});return _==null?null:jd({draggable:n,insideDestination:c,destination:o,viewport:m,last:u.displaced,displacedBy:u.displacedBy,index:_})},$R=({displaced:i,afterCritical:e,combineWith:n,displacedBy:s})=>{const o=!!(i.visible[n]||i.invisible[n]);return ws(n,e)?o?Jt:jo(s.point):o?s.point:Jt},YR=({afterCritical:i,impact:e,draggables:n})=>{const s=dh(e);s||fe();const o=s.draggableId,c=n[o].page.borderBox.center,u=$R({displaced:e.displaced,afterCritical:i,combineWith:o,displacedBy:e.displacedBy});return cn(c,u)};const hT=(i,e)=>e.margin[i.start]+e.borderBox[i.size]/2,XR=(i,e)=>e.margin[i.end]+e.borderBox[i.size]/2,Jm=(i,e,n)=>e[i.crossAxisStart]+n.margin[i.crossAxisStart]+n.borderBox[i.crossAxisSize]/2,Fb=({axis:i,moveRelativeTo:e,isMoving:n})=>_a(i.line,e.marginBox[i.end]+hT(i,n),Jm(i,e.marginBox,n)),$b=({axis:i,moveRelativeTo:e,isMoving:n})=>_a(i.line,e.marginBox[i.start]-XR(i,n),Jm(i,e.marginBox,n)),QR=({axis:i,moveInto:e,isMoving:n})=>_a(i.line,e.contentBox[i.start]+hT(i,n),Jm(i,e.contentBox,n));var KR=({impact:i,draggable:e,draggables:n,droppable:s,afterCritical:o})=>{const c=Bo(s.descriptor.id,n),u=e.page,m=s.axis;if(!c.length)return QR({axis:m,moveInto:s.page,isMoving:u});const{displaced:p,displacedBy:g}=i,_=p.all[0];if(_){const E=n[_];if(ws(_,o))return $b({axis:m,moveRelativeTo:E.page,isMoving:u});const w=Pd(E.page,g.point);return $b({axis:m,moveRelativeTo:w,isMoving:u})}const v=c[c.length-1];if(v.descriptor.id===e.descriptor.id)return u.borderBox.center;if(ws(v.descriptor.id,o)){const E=Pd(v.page,jo(o.displacedBy.point));return Fb({axis:m,moveRelativeTo:E,isMoving:u})}return Fb({axis:m,moveRelativeTo:v.page,isMoving:u})},dm=(i,e)=>{const n=i.frame;return n?cn(e,n.scroll.diff.displacement):e};const WR=({impact:i,draggable:e,droppable:n,draggables:s,afterCritical:o})=>{const c=e.page.borderBox.center,u=i.at;return!n||!u?c:u.type==="REORDER"?KR({impact:i,draggable:e,draggables:s,droppable:n,afterCritical:o}):YR({impact:i,draggables:s,afterCritical:o})};var fh=i=>{const e=WR(i),n=i.droppable;return n?dm(n,e):e},fT=(i,e)=>{const n=zn(e,i.scroll.initial),s=jo(n);return{frame:Ti({top:e.y,bottom:e.y+i.frame.height,left:e.x,right:e.x+i.frame.width}),scroll:{initial:i.scroll.initial,max:i.scroll.max,current:e,diff:{value:n,displacement:s}}}};function Yb(i,e){return i.map(n=>e[n])}function JR(i,e){for(let n=0;n<e.length;n++){const s=e[n].visible[i];if(s)return s}return null}var ZR=({impact:i,viewport:e,destination:n,draggables:s,maxScrollChange:o})=>{const c=fT(e,cn(e.scroll.current,o)),u=n.frame?Xm(n,cn(n.frame.scroll.current,o)):n,m=i.displaced,p=mc({afterDragging:Yb(m.all,s),destination:n,displacedBy:i.displacedBy,viewport:c.frame,last:m,forceShouldAnimate:!1}),g=mc({afterDragging:Yb(m.all,s),destination:u,displacedBy:i.displacedBy,viewport:e.frame,last:m,forceShouldAnimate:!1}),_={},v={},E=[m,p,g];return m.all.forEach(N=>{const j=JR(N,E);if(j){v[N]=j;return}_[N]=!0}),{...i,displaced:{all:m.all,invisible:_,visible:v}}},eC=(i,e)=>cn(i.scroll.diff.displacement,e),Zm=({pageBorderBoxCenter:i,draggable:e,viewport:n})=>{const s=eC(n,i),o=zn(s,e.page.borderBox.center);return cn(e.client.borderBox.center,o)},pT=({draggable:i,destination:e,newPageBorderBoxCenter:n,viewport:s,withDroppableDisplacement:o,onlyOnMainAxis:c=!1})=>{const u=zn(n,i.page.borderBox.center),p={target:Cc(i.page.borderBox,u),destination:e,withDroppableDisplacement:o,viewport:s};return c?jR(p):dT(p)},tC=({isMovingForward:i,draggable:e,destination:n,draggables:s,previousImpact:o,viewport:c,previousPageBorderBoxCenter:u,previousClientSelection:m,afterCritical:p})=>{if(!n.isEnabled)return null;const g=Bo(n.descriptor.id,s),_=zo(e,n),v=NR({isMovingForward:i,draggable:e,destination:n,insideDestination:g,previousImpact:o})||FR({isMovingForward:i,isInHomeList:_,draggable:e,draggables:s,destination:n,insideDestination:g,previousImpact:o,viewport:c,afterCritical:p});if(!v)return null;const E=fh({impact:v,draggable:e,droppable:n,draggables:s,afterCritical:p});if(pT({draggable:e,destination:n,newPageBorderBoxCenter:E,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Zm({pageBorderBoxCenter:E,draggable:e,viewport:c}),impact:v,scrollJumpRequest:null};const N=zn(E,u),j=ZR({impact:v,viewport:c,destination:n,draggables:s,maxScrollChange:N});return{clientSelection:m,impact:j,scrollJumpRequest:N}};const vn=i=>{const e=i.subject.active;return e||fe(),e};var nC=({isMovingForward:i,pageBorderBoxCenter:e,source:n,droppables:s,viewport:o})=>{const c=n.subject.active;if(!c)return null;const u=n.axis,m=li(c[u.start],c[u.end]),p=uh(s).filter(_=>_!==n).filter(_=>_.isEnabled).filter(_=>!!_.subject.active).filter(_=>cT(o.frame)(vn(_))).filter(_=>{const v=vn(_);return i?c[u.crossAxisEnd]<v[u.crossAxisEnd]:v[u.crossAxisStart]<c[u.crossAxisStart]}).filter(_=>{const v=vn(_),E=li(v[u.start],v[u.end]);return m(v[u.start])||m(v[u.end])||E(c[u.start])||E(c[u.end])}).sort((_,v)=>{const E=vn(_)[u.crossAxisStart],w=vn(v)[u.crossAxisStart];return i?E-w:w-E}).filter((_,v,E)=>vn(_)[u.crossAxisStart]===vn(E[0])[u.crossAxisStart]);if(!p.length)return null;if(p.length===1)return p[0];const g=p.filter(_=>li(vn(_)[u.start],vn(_)[u.end])(e[u.line]));return g.length===1?g[0]:g.length>1?g.sort((_,v)=>vn(_)[u.start]-vn(v)[u.start])[0]:p.sort((_,v)=>{const E=Gb(e,Hb(vn(_))),w=Gb(e,Hb(vn(v)));return E!==w?E-w:vn(_)[u.start]-vn(v)[u.start]})[0]};const Xb=(i,e)=>{const n=i.page.borderBox.center;return ws(i.descriptor.id,e)?zn(n,e.displacedBy.point):n},iC=(i,e)=>{const n=i.page.borderBox;return ws(i.descriptor.id,e)?Cc(n,jo(e.displacedBy.point)):n};var rC=({pageBorderBoxCenter:i,viewport:e,destination:n,insideDestination:s,afterCritical:o})=>s.filter(u=>dT({target:iC(u,o),destination:n,viewport:e.frame,withDroppableDisplacement:!0})).sort((u,m)=>{const p=fc(i,dm(n,Xb(u,o))),g=fc(i,dm(n,Xb(m,o)));return p<g?-1:g<p?1:u.descriptor.index-m.descriptor.index})[0]||null,Ic=Wt(function(e,n){const s=n[e.line];return{value:s,point:_a(e.line,s)}});const sC=(i,e,n)=>{const s=i.axis;if(i.descriptor.mode==="virtual")return _a(s.line,e[s.line]);const o=i.subject.page.contentBox[s.size],p=Bo(i.descriptor.id,n).reduce((g,_)=>g+_.client.marginBox[s.size],0)+e[s.line]-o;return p<=0?null:_a(s.line,p)},mT=(i,e)=>({...i,scroll:{...i.scroll,max:e}}),gT=(i,e,n)=>{const s=i.frame;zo(e,i)&&fe(),i.subject.withPlaceholder&&fe();const o=Ic(i.axis,e.displaceBy).point,c=sC(i,o,n),u={placeholderSize:o,increasedBy:c,oldFrameMaxScroll:i.frame?i.frame.scroll.max:null};if(!s){const _=Io({page:i.subject.page,withPlaceholder:u,axis:i.axis,frame:i.frame});return{...i,subject:_}}const m=c?cn(s.scroll.max,c):s.scroll.max,p=mT(s,m),g=Io({page:i.subject.page,withPlaceholder:u,axis:i.axis,frame:p});return{...i,subject:g,frame:p}},aC=i=>{const e=i.subject.withPlaceholder;e||fe();const n=i.frame;if(!n){const u=Io({page:i.subject.page,axis:i.axis,frame:null,withPlaceholder:null});return{...i,subject:u}}const s=e.oldFrameMaxScroll;s||fe();const o=mT(n,s),c=Io({page:i.subject.page,axis:i.axis,frame:o,withPlaceholder:null});return{...i,subject:c,frame:o}};var oC=({previousPageBorderBoxCenter:i,moveRelativeTo:e,insideDestination:n,draggable:s,draggables:o,destination:c,viewport:u,afterCritical:m})=>{if(!e){if(n.length)return null;const v={displaced:pc,displacedBy:lT,at:{type:"REORDER",destination:{droppableId:c.descriptor.id,index:0}}},E=fh({impact:v,draggable:s,droppable:c,draggables:o,afterCritical:m}),w=zo(s,c)?c:gT(c,s,o);return pT({draggable:s,destination:w,newPageBorderBoxCenter:E,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?v:null}const p=i[c.axis.line]<=e.page.borderBox.center[c.axis.line],g=(()=>{const v=e.descriptor.index;return e.descriptor.id===s.descriptor.id||p?v:v+1})(),_=Ic(c.axis,s.displaceBy);return jd({draggable:s,insideDestination:n,destination:c,viewport:u,displacedBy:_,last:pc,index:g})},lC=({isMovingForward:i,previousPageBorderBoxCenter:e,draggable:n,isOver:s,draggables:o,droppables:c,viewport:u,afterCritical:m})=>{const p=nC({isMovingForward:i,pageBorderBoxCenter:e,source:s,droppables:c,viewport:u});if(!p)return null;const g=Bo(p.descriptor.id,o),_=rC({pageBorderBoxCenter:e,viewport:u,destination:p,insideDestination:g,afterCritical:m}),v=oC({previousPageBorderBoxCenter:e,destination:p,draggable:n,draggables:o,moveRelativeTo:_,insideDestination:g,viewport:u,afterCritical:m});if(!v)return null;const E=fh({impact:v,draggable:n,droppable:p,draggables:o,afterCritical:m});return{clientSelection:Zm({pageBorderBoxCenter:E,draggable:n,viewport:u}),impact:v,scrollJumpRequest:null}},Gn=i=>{const e=i.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const cC=(i,e)=>{const n=Gn(i);return n?e[n]:null};var uC=({state:i,type:e})=>{const n=cC(i.impact,i.dimensions.droppables),s=!!n,o=i.dimensions.droppables[i.critical.droppable.id],c=n||o,u=c.axis.direction,m=u==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||u==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(m&&!s)return null;const p=e==="MOVE_DOWN"||e==="MOVE_RIGHT",g=i.dimensions.draggables[i.critical.draggable.id],_=i.current.page.borderBoxCenter,{draggables:v,droppables:E}=i.dimensions;return m?tC({isMovingForward:p,previousPageBorderBoxCenter:_,draggable:g,destination:c,draggables:v,viewport:i.viewport,previousClientSelection:i.current.client.selection,previousImpact:i.impact,afterCritical:i.afterCritical}):lC({isMovingForward:p,previousPageBorderBoxCenter:_,draggable:g,isOver:c,draggables:v,droppables:E,viewport:i.viewport,afterCritical:i.afterCritical})};function ha(i){return i.phase==="DRAGGING"||i.phase==="COLLECTING"}function yT(i){const e=li(i.top,i.bottom),n=li(i.left,i.right);return function(o){return e(o.y)&&n(o.x)}}function dC(i,e){return i.left<e.right&&i.right>e.left&&i.top<e.bottom&&i.bottom>e.top}function hC({pageBorderBox:i,draggable:e,candidates:n}){const s=e.page.borderBox.center,o=n.map(c=>{const u=c.axis,m=_a(c.axis.line,i.center[u.line],c.page.borderBox.center[u.crossAxisLine]);return{id:c.descriptor.id,distance:fc(s,m)}}).sort((c,u)=>u.distance-c.distance);return o[0]?o[0].id:null}function fC({pageBorderBox:i,draggable:e,droppables:n}){const s=uh(n).filter(o=>{if(!o.isEnabled)return!1;const c=o.subject.active;if(!c||!dC(i,c))return!1;if(yT(c)(i.center))return!0;const u=o.axis,m=c.center[u.crossAxisLine],p=i[u.crossAxisStart],g=i[u.crossAxisEnd],_=li(c[u.crossAxisStart],c[u.crossAxisEnd]),v=_(p),E=_(g);return!v&&!E?!0:v?p<m:g>m});return s.length?s.length===1?s[0].descriptor.id:hC({pageBorderBox:i,draggable:e,candidates:s}):null}const vT=(i,e)=>Ti(Cc(i,e));var pC=(i,e)=>{const n=i.frame;return n?vT(e,n.scroll.diff.value):e};function _T({displaced:i,id:e}){return!!(i.visible[e]||i.invisible[e])}function mC({draggable:i,closest:e,inHomeList:n}){return e?n&&e.descriptor.index>i.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var gC=({pageBorderBoxWithDroppableScroll:i,draggable:e,destination:n,insideDestination:s,last:o,viewport:c,afterCritical:u})=>{const m=n.axis,p=Ic(n.axis,e.displaceBy),g=p.value,_=i[m.start],v=i[m.end],w=hh(e,s).find(j=>{const V=j.descriptor.id,Q=j.page.borderBox.center[m.line],J=ws(V,u),te=_T({displaced:o,id:V});return J?te?v<=Q:_<Q-g:te?v<=Q+g:_<Q})||null,N=mC({draggable:e,closest:w,inHomeList:zo(e,n)});return jd({draggable:e,insideDestination:s,destination:n,viewport:c,last:o,displacedBy:p,index:N})};const yC=4;var vC=({draggable:i,pageBorderBoxWithDroppableScroll:e,previousImpact:n,destination:s,insideDestination:o,afterCritical:c})=>{if(!s.isCombineEnabled)return null;const u=s.axis,m=Ic(s.axis,i.displaceBy),p=m.value,g=e[u.start],_=e[u.end],E=hh(i,o).find(N=>{const j=N.descriptor.id,V=N.page.borderBox,J=V[u.size]/yC,te=ws(j,c),se=_T({displaced:n.displaced,id:j});return te?se?_>V[u.start]+J&&_<V[u.end]-J:g>V[u.start]-p+J&&g<V[u.end]-p-J:se?_>V[u.start]+p+J&&_<V[u.end]+p-J:g>V[u.start]+J&&g<V[u.end]-J});return E?{displacedBy:m,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:E.descriptor.id,droppableId:s.descriptor.id}}}:null},bT=({pageOffset:i,draggable:e,draggables:n,droppables:s,previousImpact:o,viewport:c,afterCritical:u})=>{const m=vT(e.page.borderBox,i),p=fC({pageBorderBox:m,draggable:e,droppables:s});if(!p)return OR;const g=s[p],_=Bo(g.descriptor.id,n),v=pC(g,m);return vC({pageBorderBoxWithDroppableScroll:v,draggable:e,previousImpact:o,destination:g,insideDestination:_,afterCritical:u})||gC({pageBorderBoxWithDroppableScroll:v,draggable:e,destination:g,insideDestination:_,last:o.displaced,viewport:c,afterCritical:u})},eg=(i,e)=>({...i,[e.descriptor.id]:e});const _C=({previousImpact:i,impact:e,droppables:n})=>{const s=Gn(i),o=Gn(e);if(!s||s===o)return n;const c=n[s];if(!c.subject.withPlaceholder)return n;const u=aC(c);return eg(n,u)};var bC=({draggable:i,draggables:e,droppables:n,previousImpact:s,impact:o})=>{const c=_C({previousImpact:s,impact:o,droppables:n}),u=Gn(o);if(!u)return c;const m=n[u];if(zo(i,m)||m.subject.withPlaceholder)return c;const p=gT(m,i,e);return eg(c,p)},rc=({state:i,clientSelection:e,dimensions:n,viewport:s,impact:o,scrollJumpRequest:c})=>{const u=s||i.viewport,m=n||i.dimensions,p=e||i.current.client.selection,g=zn(p,i.initial.client.selection),_={offset:g,selection:p,borderBoxCenter:cn(i.initial.client.borderBoxCenter,g)},v={selection:cn(_.selection,u.scroll.current),borderBoxCenter:cn(_.borderBoxCenter,u.scroll.current),offset:cn(_.offset,u.scroll.diff.value)},E={client:_,page:v};if(i.phase==="COLLECTING")return{...i,dimensions:m,viewport:u,current:E};const w=m.draggables[i.critical.draggable.id],N=o||bT({pageOffset:v.offset,draggable:w,draggables:m.draggables,droppables:m.droppables,previousImpact:i.impact,viewport:u,afterCritical:i.afterCritical}),j=bC({draggable:w,impact:N,previousImpact:i.impact,draggables:m.draggables,droppables:m.droppables});return{...i,current:E,dimensions:{draggables:m.draggables,droppables:j},impact:N,viewport:u,scrollJumpRequest:c||null,forceShouldAnimate:c?!1:null}};function EC(i,e){return i.map(n=>e[n])}var ET=({impact:i,viewport:e,draggables:n,destination:s,forceShouldAnimate:o})=>{const c=i.displaced,u=EC(c.all,n),m=mc({afterDragging:u,destination:s,displacedBy:i.displacedBy,viewport:e.frame,forceShouldAnimate:o,last:c});return{...i,displaced:m}},TT=({impact:i,draggable:e,droppable:n,draggables:s,viewport:o,afterCritical:c})=>{const u=fh({impact:i,draggable:e,draggables:s,droppable:n,afterCritical:c});return Zm({pageBorderBoxCenter:u,draggable:e,viewport:o})},ST=({state:i,dimensions:e,viewport:n})=>{i.movementMode!=="SNAP"&&fe();const s=i.impact,o=n||i.viewport,c=e||i.dimensions,{draggables:u,droppables:m}=c,p=u[i.critical.draggable.id],g=Gn(s);g||fe();const _=m[g],v=ET({impact:s,viewport:o,destination:_,draggables:u}),E=TT({impact:v,draggable:p,droppable:_,draggables:u,viewport:o,afterCritical:i.afterCritical});return rc({impact:v,clientSelection:E,state:i,dimensions:c,viewport:o})},TC=i=>({index:i.index,droppableId:i.droppableId}),AT=({draggable:i,home:e,draggables:n,viewport:s})=>{const o=Ic(e.axis,i.displaceBy),c=Bo(e.descriptor.id,n),u=c.indexOf(i);u===-1&&fe();const m=c.slice(u+1),p=m.reduce((E,w)=>(E[w.descriptor.id]=!0,E),{}),g={inVirtualList:e.descriptor.mode==="virtual",displacedBy:o,effected:p};return{impact:{displaced:mc({afterDragging:m,destination:e,displacedBy:o,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:TC(i.descriptor)}},afterCritical:g}},SC=(i,e)=>({draggables:i.draggables,droppables:eg(i.droppables,e)}),AC=({draggable:i,offset:e,initialWindowScroll:n})=>{const s=Pd(i.client,e),o=Vd(s,n);return{...i,placeholder:{...i.placeholder,client:s},client:s,page:o}},wC=i=>{const e=i.frame;return e||fe(),e},xC=({additions:i,updatedDroppables:e,viewport:n})=>{const s=n.scroll.diff.value;return i.map(o=>{const c=o.descriptor.droppableId,u=e[c],p=wC(u).scroll.diff.value,g=cn(s,p);return AC({draggable:o,offset:g,initialWindowScroll:n.scroll.initial})})},RC=({state:i,published:e})=>{const n=e.modified.map(Q=>{const J=i.dimensions.droppables[Q.droppableId];return Xm(J,Q.scroll)}),s={...i.dimensions.droppables,...aT(n)},o=oT(xC({additions:e.additions,updatedDroppables:s,viewport:i.viewport})),c={...i.dimensions.draggables,...o};e.removals.forEach(Q=>{delete c[Q]});const u={droppables:s,draggables:c},m=Gn(i.impact),p=m?u.droppables[m]:null,g=u.draggables[i.critical.draggable.id],_=u.droppables[i.critical.droppable.id],{impact:v,afterCritical:E}=AT({draggable:g,home:_,draggables:c,viewport:i.viewport}),w=p&&p.isCombineEnabled?i.impact:v,N=bT({pageOffset:i.current.page.offset,draggable:u.draggables[i.critical.draggable.id],draggables:u.draggables,droppables:u.droppables,previousImpact:w,viewport:i.viewport,afterCritical:E}),j={...i,phase:"DRAGGING",impact:N,onLiftImpact:v,dimensions:u,afterCritical:E,forceShouldAnimate:!1};return i.phase==="COLLECTING"?j:{...j,phase:"DROP_PENDING",reason:i.reason,isWaiting:!1}};const hm=i=>i.movementMode==="SNAP",Gp=(i,e,n)=>{const s=SC(i.dimensions,e);return!hm(i)||n?rc({state:i,dimensions:s}):ST({state:i,dimensions:s})};function Hp(i){return i.isDragging&&i.movementMode==="SNAP"?{...i,scrollJumpRequest:null}:i}const Qb={phase:"IDLE",completed:null,shouldFlush:!1};var CC=(i=Qb,e)=>{if(e.type==="FLUSH")return{...Qb,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){i.phase!=="IDLE"&&fe();const{critical:n,clientSelection:s,viewport:o,dimensions:c,movementMode:u}=e.payload,m=c.draggables[n.draggable.id],p=c.droppables[n.droppable.id],g={selection:s,borderBoxCenter:m.client.borderBox.center,offset:Jt},_={client:g,page:{selection:cn(g.selection,o.scroll.initial),borderBoxCenter:cn(g.selection,o.scroll.initial),offset:cn(g.selection,o.scroll.diff.value)}},v=uh(c.droppables).every(j=>!j.isFixedOnPage),{impact:E,afterCritical:w}=AT({draggable:m,home:p,draggables:c.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:u,dimensions:c,initial:_,current:_,isWindowScrollAllowed:v,impact:E,afterCritical:w,onLiftImpact:E,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return i.phase==="COLLECTING"||i.phase==="DROP_PENDING"?i:(i.phase!=="DRAGGING"&&fe(),{...i,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return i.phase==="COLLECTING"||i.phase==="DROP_PENDING"||fe(),RC({state:i,published:e.payload});if(e.type==="MOVE"){if(i.phase==="DROP_PENDING")return i;ha(i)||fe();const{client:n}=e.payload;return vs(n,i.current.client.selection)?i:rc({state:i,clientSelection:n,impact:hm(i)?i.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(i.phase==="DROP_PENDING"||i.phase==="COLLECTING")return Hp(i);ha(i)||fe();const{id:n,newScroll:s}=e.payload,o=i.dimensions.droppables[n];if(!o)return i;const c=Xm(o,s);return Gp(i,c,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(i.phase==="DROP_PENDING")return i;ha(i)||fe();const{id:n,isEnabled:s}=e.payload,o=i.dimensions.droppables[n];o||fe(),o.isEnabled===s&&fe();const c={...o,isEnabled:s};return Gp(i,c,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(i.phase==="DROP_PENDING")return i;ha(i)||fe();const{id:n,isCombineEnabled:s}=e.payload,o=i.dimensions.droppables[n];o||fe(),o.isCombineEnabled===s&&fe();const c={...o,isCombineEnabled:s};return Gp(i,c,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(i.phase==="DROP_PENDING"||i.phase==="DROP_ANIMATING")return i;ha(i)||fe(),i.isWindowScrollAllowed||fe();const n=e.payload.newScroll;if(vs(i.viewport.scroll.current,n))return Hp(i);const s=fT(i.viewport,n);return hm(i)?ST({state:i,viewport:s}):rc({state:i,viewport:s})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!ha(i))return i;const n=e.payload.maxScroll;if(vs(n,i.viewport.scroll.max))return i;const s={...i.viewport,scroll:{...i.viewport.scroll,max:n}};return{...i,viewport:s}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(i.phase==="COLLECTING"||i.phase==="DROP_PENDING")return i;i.phase!=="DRAGGING"&&fe();const n=uC({state:i,type:e.type});return n?rc({state:i,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):i}if(e.type==="DROP_PENDING"){const n=e.payload.reason;return i.phase!=="COLLECTING"&&fe(),{...i,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(e.type==="DROP_ANIMATE"){const{completed:n,dropDuration:s,newHomeClientOffset:o}=e.payload;return i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||fe(),{phase:"DROP_ANIMATING",completed:n,dropDuration:s,newHomeClientOffset:o,dimensions:i.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:n}=e.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return i};function it(i,e){return i instanceof Object&&"type"in i&&i.type===e}const IC=i=>({type:"BEFORE_INITIAL_CAPTURE",payload:i}),DC=i=>({type:"LIFT",payload:i}),NC=i=>({type:"INITIAL_PUBLISH",payload:i}),OC=i=>({type:"PUBLISH_WHILE_DRAGGING",payload:i}),MC=()=>({type:"COLLECTION_STARTING",payload:null}),PC=i=>({type:"UPDATE_DROPPABLE_SCROLL",payload:i}),VC=i=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:i}),LC=i=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:i}),wT=i=>({type:"MOVE",payload:i}),kC=i=>({type:"MOVE_BY_WINDOW_SCROLL",payload:i}),UC=i=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:i}),jC=()=>({type:"MOVE_UP",payload:null}),BC=()=>({type:"MOVE_DOWN",payload:null}),zC=()=>({type:"MOVE_RIGHT",payload:null}),GC=()=>({type:"MOVE_LEFT",payload:null}),tg=()=>({type:"FLUSH",payload:null}),HC=i=>({type:"DROP_ANIMATE",payload:i}),ng=i=>({type:"DROP_COMPLETE",payload:i}),xT=i=>({type:"DROP",payload:i}),qC=i=>({type:"DROP_PENDING",payload:i}),RT=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var FC=i=>({getState:e,dispatch:n})=>s=>o=>{if(!it(o,"LIFT")){s(o);return}const{id:c,clientSelection:u,movementMode:m}=o.payload,p=e();p.phase==="DROP_ANIMATING"&&n(ng({completed:p.completed})),e().phase!=="IDLE"&&fe(),n(tg()),n(IC({draggableId:c,movementMode:m}));const _={draggableId:c,scrollOptions:{shouldPublishImmediately:m==="SNAP"}},{critical:v,dimensions:E,viewport:w}=i.startPublishing(_);n(NC({critical:v,dimensions:E,clientSelection:u,movementMode:m,viewport:w}))},$C=i=>()=>e=>n=>{it(n,"INITIAL_PUBLISH")&&i.dragging(),it(n,"DROP_ANIMATE")&&i.dropping(n.payload.completed.result.reason),(it(n,"FLUSH")||it(n,"DROP_COMPLETE"))&&i.resting(),e(n)};const ig={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},gc={opacity:{drop:0,combining:.7},scale:{drop:.75}},CT={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},da=`${CT.outOfTheWay}s ${ig.outOfTheWay}`,sc={fluid:`opacity ${da}`,snap:`transform ${da}, opacity ${da}`,drop:i=>{const e=`${i}s ${ig.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${da}`,placeholder:`height ${da}, width ${da}, margin ${da}`},Kb=i=>vs(i,Jt)?void 0:`translate(${i.x}px, ${i.y}px)`,fm={moveTo:Kb,drop:(i,e)=>{const n=Kb(i);if(n)return e?`${n} scale(${gc.scale.drop})`:n}},{minDropTime:pm,maxDropTime:IT}=CT,YC=IT-pm,Wb=1500,XC=.6;var QC=({current:i,destination:e,reason:n})=>{const s=fc(i,e);if(s<=0)return pm;if(s>=Wb)return IT;const o=s/Wb,c=pm+YC*o,u=n==="CANCEL"?c*XC:c;return Number(u.toFixed(2))},KC=({impact:i,draggable:e,dimensions:n,viewport:s,afterCritical:o})=>{const{draggables:c,droppables:u}=n,m=Gn(i),p=m?u[m]:null,g=u[e.descriptor.droppableId],_=TT({impact:i,draggable:e,draggables:c,afterCritical:o,droppable:p||g,viewport:s});return zn(_,e.client.borderBox.center)},WC=({draggables:i,reason:e,lastImpact:n,home:s,viewport:o,onLiftImpact:c})=>!n.at||e!=="DROP"?{impact:ET({draggables:i,impact:c,destination:s,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:pc},didDropInsideDroppable:!0};const JC=({getState:i,dispatch:e})=>n=>s=>{if(!it(s,"DROP")){n(s);return}const o=i(),c=s.payload.reason;if(o.phase==="COLLECTING"){e(qC({reason:c}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&fe(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||fe();const m=o.critical,p=o.dimensions,g=p.draggables[o.critical.draggable.id],{impact:_,didDropInsideDroppable:v}=WC({reason:c,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),E=v?Qm(_):null,w=v?dh(_):null,N={index:m.draggable.index,droppableId:m.droppable.id},j={draggableId:g.descriptor.id,type:g.descriptor.type,source:N,reason:c,mode:o.movementMode,destination:E,combine:w},V=KC({impact:_,draggable:g,dimensions:p,viewport:o.viewport,afterCritical:o.afterCritical}),Q={critical:o.critical,afterCritical:o.afterCritical,result:j,impact:_};if(!(!vs(o.current.client.offset,V)||!!j.combine)){e(ng({completed:Q}));return}const te=QC({current:o.current.client.offset,destination:V,reason:c});e(HC({newHomeClientOffset:V,dropDuration:te,completed:Q}))};var DT=()=>({x:window.pageXOffset,y:window.pageYOffset});function ZC(i){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||i()}}}function eI({onWindowScroll:i}){function e(){i(DT())}const n=hc(e),s=ZC(n);let o=ys;function c(){return o!==ys}function u(){c()&&fe(),o=oi(window,[s])}function m(){c()||fe(),n.cancel(),o(),o=ys}return{start:u,stop:m,isActive:c}}const tI=i=>it(i,"DROP_COMPLETE")||it(i,"DROP_ANIMATE")||it(i,"FLUSH"),nI=i=>{const e=eI({onWindowScroll:n=>{i.dispatch(kC({newScroll:n}))}});return n=>s=>{!e.isActive()&&it(s,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&tI(s)&&e.stop(),n(s)}};var iI=i=>{let e=!1,n=!1;const s=setTimeout(()=>{n=!0}),o=c=>{e||n||(e=!0,i(c),clearTimeout(s))};return o.wasCalled=()=>e,o},rI=()=>{const i=[],e=o=>{const c=i.findIndex(m=>m.timerId===o);c===-1&&fe();const[u]=i.splice(c,1);u.callback()};return{add:o=>{const c=setTimeout(()=>e(c)),u={timerId:c,callback:o};i.push(u)},flush:()=>{if(!i.length)return;const o=[...i];i.length=0,o.forEach(c=>{clearTimeout(c.timerId),c.callback()})}}};const sI=(i,e)=>i==null&&e==null?!0:i==null||e==null?!1:i.droppableId===e.droppableId&&i.index===e.index,aI=(i,e)=>i==null&&e==null?!0:i==null||e==null?!1:i.draggableId===e.draggableId&&i.droppableId===e.droppableId,oI=(i,e)=>{if(i===e)return!0;const n=i.draggable.id===e.draggable.id&&i.draggable.droppableId===e.draggable.droppableId&&i.draggable.type===e.draggable.type&&i.draggable.index===e.draggable.index,s=i.droppable.id===e.droppable.id&&i.droppable.type===e.droppable.type;return n&&s},Kl=(i,e)=>{e()},hd=(i,e)=>({draggableId:i.draggable.id,type:i.droppable.type,source:{droppableId:i.droppable.id,index:i.draggable.index},mode:e});function qp(i,e,n,s){if(!i){n(s(e));return}const o=iI(n);i(e,{announce:o}),o.wasCalled()||n(s(e))}var lI=(i,e)=>{const n=rI();let s=null;const o=(v,E)=>{s&&fe(),Kl("onBeforeCapture",()=>{const w=i().onBeforeCapture;w&&w({draggableId:v,mode:E})})},c=(v,E)=>{s&&fe(),Kl("onBeforeDragStart",()=>{const w=i().onBeforeDragStart;w&&w(hd(v,E))})},u=(v,E)=>{s&&fe();const w=hd(v,E);s={mode:E,lastCritical:v,lastLocation:w.source,lastCombine:null},n.add(()=>{Kl("onDragStart",()=>qp(i().onDragStart,w,e,Td.onDragStart))})},m=(v,E)=>{const w=Qm(E),N=dh(E);s||fe();const j=!oI(v,s.lastCritical);j&&(s.lastCritical=v);const V=!sI(s.lastLocation,w);V&&(s.lastLocation=w);const Q=!aI(s.lastCombine,N);if(Q&&(s.lastCombine=N),!j&&!V&&!Q)return;const J={...hd(v,s.mode),combine:N,destination:w};n.add(()=>{Kl("onDragUpdate",()=>qp(i().onDragUpdate,J,e,Td.onDragUpdate))})},p=()=>{s||fe(),n.flush()},g=v=>{s||fe(),s=null,Kl("onDragEnd",()=>qp(i().onDragEnd,v,e,Td.onDragEnd))};return{beforeCapture:o,beforeStart:c,start:u,update:m,flush:p,drop:g,abort:()=>{if(!s)return;const v={...hd(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};g(v)}}},cI=(i,e)=>{const n=lI(i,e);return s=>o=>c=>{if(it(c,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(c.payload.draggableId,c.payload.movementMode);return}if(it(c,"INITIAL_PUBLISH")){const m=c.payload.critical;n.beforeStart(m,c.payload.movementMode),o(c),n.start(m,c.payload.movementMode);return}if(it(c,"DROP_COMPLETE")){const m=c.payload.completed.result;n.flush(),o(c),n.drop(m);return}if(o(c),it(c,"FLUSH")){n.abort();return}const u=s.getState();u.phase==="DRAGGING"&&n.update(u.critical,u.impact)}};const uI=i=>e=>n=>{if(!it(n,"DROP_ANIMATION_FINISHED")){e(n);return}const s=i.getState();s.phase!=="DROP_ANIMATING"&&fe(),i.dispatch(ng({completed:s.completed}))},dI=i=>{let e=null,n=null;function s(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return o=>c=>{if((it(c,"FLUSH")||it(c,"DROP_COMPLETE")||it(c,"DROP_ANIMATION_FINISHED"))&&s(),o(c),!it(c,"DROP_ANIMATE"))return;const u={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){i.getState().phase==="DROP_ANIMATING"&&i.dispatch(RT())}};n=requestAnimationFrame(()=>{n=null,e=oi(window,[u])})}};var hI=i=>()=>e=>n=>{(it(n,"DROP_COMPLETE")||it(n,"FLUSH")||it(n,"DROP_ANIMATE"))&&i.stopPublishing(),e(n)},fI=i=>{let e=!1;return()=>n=>s=>{if(it(s,"INITIAL_PUBLISH")){e=!0,i.tryRecordFocus(s.payload.critical.draggable.id),n(s),i.tryRestoreFocusRecorded();return}if(n(s),!!e){if(it(s,"FLUSH")){e=!1,i.tryRestoreFocusRecorded();return}if(it(s,"DROP_COMPLETE")){e=!1;const o=s.payload.completed.result;o.combine&&i.tryShiftRecord(o.draggableId,o.combine.draggableId),i.tryRestoreFocusRecorded()}}}};const pI=i=>it(i,"DROP_COMPLETE")||it(i,"DROP_ANIMATE")||it(i,"FLUSH");var mI=i=>e=>n=>s=>{if(pI(s)){i.stop(),n(s);return}if(it(s,"INITIAL_PUBLISH")){n(s);const o=e.getState();o.phase!=="DRAGGING"&&fe(),i.start(o);return}n(s),i.scroll(e.getState())};const gI=i=>e=>n=>{if(e(n),!it(n,"PUBLISH_WHILE_DRAGGING"))return;const s=i.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||i.dispatch(xT({reason:s.reason})))},yI=$0;var vI=({dimensionMarshal:i,focusMarshal:e,styleMarshal:n,getResponders:s,announce:o,autoScroller:c})=>F0(CC,yI(mx($C(n),hI(i),FC(i),JC,uI,dI,gI,mI(c),nI,fI(e),cI(s,o))));const Fp=()=>({additions:{},removals:{},modified:{}});function _I({registry:i,callbacks:e}){let n=Fp(),s=null;const o=()=>{s||(e.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:p,removals:g,modified:_}=n,v=Object.keys(p).map(N=>i.draggable.getById(N).getDimension(Jt)).sort((N,j)=>N.descriptor.index-j.descriptor.index),E=Object.keys(_).map(N=>{const V=i.droppable.getById(N).callbacks.getScrollWhileDragging();return{droppableId:N,scroll:V}}),w={additions:v,removals:Object.keys(g),modified:E};n=Fp(),e.publish(w)}))};return{add:p=>{const g=p.descriptor.id;n.additions[g]=p,n.modified[p.descriptor.droppableId]=!0,n.removals[g]&&delete n.removals[g],o()},remove:p=>{const g=p.descriptor;n.removals[g.id]=!0,n.modified[g.droppableId]=!0,n.additions[g.id]&&delete n.additions[g.id],o()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,n=Fp())}}}var NT=({scrollHeight:i,scrollWidth:e,height:n,width:s})=>{const o=zn({x:e,y:i},{x:s,y:n});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},OT=()=>{const i=document.documentElement;return i||fe(),i},MT=()=>{const i=OT();return NT({scrollHeight:i.scrollHeight,scrollWidth:i.scrollWidth,width:i.clientWidth,height:i.clientHeight})},bI=()=>{const i=DT(),e=MT(),n=i.y,s=i.x,o=OT(),c=o.clientWidth,u=o.clientHeight,m=s+c,p=n+u;return{frame:Ti({top:n,left:s,right:m,bottom:p}),scroll:{initial:i,current:i,max:e,diff:{value:Jt,displacement:Jt}}}},EI=({critical:i,scrollOptions:e,registry:n})=>{const s=bI(),o=s.scroll.current,c=i.droppable,u=n.droppable.getAllByType(c.type).map(_=>_.callbacks.getDimensionAndWatchScroll(o,e)),m=n.draggable.getAllByType(i.draggable.type).map(_=>_.getDimension(o));return{dimensions:{draggables:oT(m),droppables:aT(u)},critical:i,viewport:s}};function Jb(i,e,n){return!(n.descriptor.id===e.id||n.descriptor.type!==e.type||i.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var TI=(i,e)=>{let n=null;const s=_I({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:i}),o=(E,w)=>{i.droppable.exists(E)||fe(),n&&e.updateDroppableIsEnabled({id:E,isEnabled:w})},c=(E,w)=>{n&&(i.droppable.exists(E)||fe(),e.updateDroppableIsCombineEnabled({id:E,isCombineEnabled:w}))},u=(E,w)=>{n&&(i.droppable.exists(E)||fe(),e.updateDroppableScroll({id:E,newScroll:w}))},m=(E,w)=>{n&&i.droppable.getById(E).callbacks.scroll(w)},p=()=>{if(!n)return;s.stop();const E=n.critical.droppable;i.droppable.getAllByType(E.type).forEach(w=>w.callbacks.dragStopped()),n.unsubscribe(),n=null},g=E=>{n||fe();const w=n.critical.draggable;E.type==="ADDITION"&&Jb(i,w,E.value)&&s.add(E.value),E.type==="REMOVAL"&&Jb(i,w,E.value)&&s.remove(E.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:c,scrollDroppable:m,updateDroppableScroll:u,startPublishing:E=>{n&&fe();const w=i.draggable.getById(E.draggableId),N=i.droppable.getById(w.descriptor.droppableId),j={draggable:w.descriptor,droppable:N.descriptor},V=i.subscribe(g);return n={critical:j,unsubscribe:V},EI({critical:j,registry:i,scrollOptions:E.scrollOptions})},stopPublishing:p}},PT=(i,e)=>i.phase==="IDLE"?!0:i.phase!=="DROP_ANIMATING"||i.completed.result.draggableId===e?!1:i.completed.result.reason==="DROP",SI=i=>{window.scrollBy(i.x,i.y)};const AI=Wt(i=>uh(i).filter(e=>!(!e.isEnabled||!e.frame))),wI=(i,e)=>AI(e).find(s=>(s.frame||fe(),yT(s.frame.pageMarginBox)(i)))||null;var xI=({center:i,destination:e,droppables:n})=>{if(e){const o=n[e];return o.frame?o:null}return wI(i,n)};const yc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:i=>i**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var RI=(i,e,n=()=>yc)=>{const s=n(),o=i[e.size]*s.startFromPercentage,c=i[e.size]*s.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:c}},VT=({startOfRange:i,endOfRange:e,current:n})=>{const s=e-i;return s===0?0:(n-i)/s},rg=1,CI=(i,e,n=()=>yc)=>{const s=n();if(i>e.startScrollingFrom)return 0;if(i<=e.maxScrollValueAt)return s.maxPixelScroll;if(i===e.startScrollingFrom)return rg;const c=1-VT({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:i}),u=s.maxPixelScroll*s.ease(c);return Math.ceil(u)},II=(i,e,n)=>{const s=n(),o=s.durationDampening.accelerateAt,c=s.durationDampening.stopDampeningAt,u=e,m=c,g=Date.now()-u;if(g>=c)return i;if(g<o)return rg;const _=VT({startOfRange:o,endOfRange:m,current:g}),v=i*s.ease(_);return Math.ceil(v)},Zb=({distanceToEdge:i,thresholds:e,dragStartTime:n,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const c=CI(i,e,o);return c===0?0:s?Math.max(II(c,n,o),rg):c},eE=({container:i,distanceToEdges:e,dragStartTime:n,axis:s,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const u=RI(i,s,c);return e[s.end]<e[s.start]?Zb({distanceToEdge:e[s.end],thresholds:u,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:c}):-1*Zb({distanceToEdge:e[s.start],thresholds:u,dragStartTime:n,shouldUseTimeDampening:o,getAutoScrollerOptions:c})},DI=({container:i,subject:e,proposedScroll:n})=>{const s=e.height>i.height,o=e.width>i.width;return!o&&!s?n:o&&s?null:{x:o?0:n.x,y:s?0:n.y}};const NI=sT(i=>i===0?0:i);var LT=({dragStartTime:i,container:e,subject:n,center:s,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const u={top:s.y-e.top,right:e.right-s.x,bottom:e.bottom-s.y,left:s.x-e.left},m=eE({container:e,distanceToEdges:u,dragStartTime:i,axis:Km,shouldUseTimeDampening:o,getAutoScrollerOptions:c}),p=eE({container:e,distanceToEdges:u,dragStartTime:i,axis:uT,shouldUseTimeDampening:o,getAutoScrollerOptions:c}),g=NI({x:p,y:m});if(vs(g,Jt))return null;const _=DI({container:e,subject:n,proposedScroll:g});return _?vs(_,Jt)?null:_:null};const OI=sT(i=>i===0?0:i>0?1:-1),sg=(()=>{const i=(e,n)=>e<0?e:e>n?e-n:0;return({current:e,max:n,change:s})=>{const o=cn(e,s),c={x:i(o.x,n.x),y:i(o.y,n.y)};return vs(c,Jt)?null:c}})(),kT=({max:i,current:e,change:n})=>{const s={x:Math.max(e.x,i.x),y:Math.max(e.y,i.y)},o=OI(n),c=sg({max:s,current:e,change:o});return!c||o.x!==0&&c.x===0||o.y!==0&&c.y===0},ag=(i,e)=>kT({current:i.scroll.current,max:i.scroll.max,change:e}),MI=(i,e)=>{if(!ag(i,e))return null;const n=i.scroll.max,s=i.scroll.current;return sg({current:s,max:n,change:e})},og=(i,e)=>{const n=i.frame;return n?kT({current:n.scroll.current,max:n.scroll.max,change:e}):!1},PI=(i,e)=>{const n=i.frame;return!n||!og(i,e)?null:sg({current:n.scroll.current,max:n.scroll.max,change:e})};var VI=({viewport:i,subject:e,center:n,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const u=LT({dragStartTime:s,container:i.frame,subject:e,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:c});return u&&ag(i,u)?u:null},LI=({droppable:i,subject:e,center:n,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const u=i.frame;if(!u)return null;const m=LT({dragStartTime:s,container:u.pageMarginBox,subject:e,center:n,shouldUseTimeDampening:o,getAutoScrollerOptions:c});return m&&og(i,m)?m:null},tE=({state:i,dragStartTime:e,shouldUseTimeDampening:n,scrollWindow:s,scrollDroppable:o,getAutoScrollerOptions:c})=>{const u=i.current.page.borderBoxCenter,p=i.dimensions.draggables[i.critical.draggable.id].page.marginBox;if(i.isWindowScrollAllowed){const v=i.viewport,E=VI({dragStartTime:e,viewport:v,subject:p,center:u,shouldUseTimeDampening:n,getAutoScrollerOptions:c});if(E){s(E);return}}const g=xI({center:u,destination:Gn(i.impact),droppables:i.dimensions.droppables});if(!g)return;const _=LI({dragStartTime:e,droppable:g,subject:p,center:u,shouldUseTimeDampening:n,getAutoScrollerOptions:c});_&&o(g.descriptor.id,_)},kI=({scrollWindow:i,scrollDroppable:e,getAutoScrollerOptions:n=()=>yc})=>{const s=hc(i),o=hc(e);let c=null;const u=g=>{c||fe();const{shouldUseTimeDampening:_,dragStartTime:v}=c;tE({state:g,scrollWindow:s,scrollDroppable:o,dragStartTime:v,shouldUseTimeDampening:_,getAutoScrollerOptions:n})};return{start:g=>{c&&fe();const _=Date.now();let v=!1;const E=()=>{v=!0};tE({state:g,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:E,scrollDroppable:E,getAutoScrollerOptions:n}),c={dragStartTime:_,shouldUseTimeDampening:v},v&&u(g)},stop:()=>{c&&(s.cancel(),o.cancel(),c=null)},scroll:u}},UI=({move:i,scrollDroppable:e,scrollWindow:n})=>{const s=(m,p)=>{const g=cn(m.current.client.selection,p);i({client:g})},o=(m,p)=>{if(!og(m,p))return p;const g=PI(m,p);if(!g)return e(m.descriptor.id,p),null;const _=zn(p,g);return e(m.descriptor.id,_),zn(p,_)},c=(m,p,g)=>{if(!m||!ag(p,g))return g;const _=MI(p,g);if(!_)return n(g),null;const v=zn(g,_);return n(v),zn(g,v)};return m=>{const p=m.scrollJumpRequest;if(!p)return;const g=Gn(m.impact);g||fe();const _=o(m.dimensions.droppables[g],p);if(!_)return;const v=m.viewport,E=c(m.isWindowScrollAllowed,v,_);E&&s(m,E)}},jI=({scrollDroppable:i,scrollWindow:e,move:n,getAutoScrollerOptions:s})=>{const o=kI({scrollWindow:e,scrollDroppable:i,getAutoScrollerOptions:s}),c=UI({move:n,scrollWindow:e,scrollDroppable:i});return{scroll:p=>{if(!(s().disabled||p.phase!=="DRAGGING")){if(p.movementMode==="FLUID"){o.scroll(p);return}p.scrollJumpRequest&&c(p)}},start:o.start,stop:o.stop}};const Do="data-rfd",No=(()=>{const i=`${Do}-drag-handle`;return{base:i,draggableId:`${i}-draggable-id`,contextId:`${i}-context-id`}})(),mm=(()=>{const i=`${Do}-draggable`;return{base:i,contextId:`${i}-context-id`,id:`${i}-id`}})(),BI=(()=>{const i=`${Do}-droppable`;return{base:i,contextId:`${i}-context-id`,id:`${i}-id`}})(),nE={contextId:`${Do}-scroll-container-context-id`},zI=i=>e=>`[${e}="${i}"]`,Wl=(i,e)=>i.map(n=>{const s=n.styles[e];return s?`${n.selector} { ${s} }`:""}).join(" "),GI="pointer-events: none;";var HI=i=>{const e=zI(i),n=(()=>{const m=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(No.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:m,dragging:GI,dropAnimating:m}}})(),s=(()=>{const m=`
      transition: ${sc.outOfTheWay};
    `;return{selector:e(mm.contextId),styles:{dragging:m,dropAnimating:m,userCancel:m}}})(),o={selector:e(BI.contextId),styles:{always:"overflow-anchor: none;"}},u=[s,n,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Wl(u,"always"),resting:Wl(u,"resting"),dragging:Wl(u,"dragging"),dropAnimating:Wl(u,"dropAnimating"),userCancel:Wl(u,"userCancel")}};const Hn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Y.useLayoutEffect:Y.useEffect,$p=()=>{const i=document.querySelector("head");return i||fe(),i},iE=i=>{const e=document.createElement("style");return i&&e.setAttribute("nonce",i),e.type="text/css",e};function qI(i,e){const n=Ke(()=>HI(i),[i]),s=Y.useRef(null),o=Y.useRef(null),c=Te(Wt(v=>{const E=o.current;E||fe(),E.textContent=v}),[]),u=Te(v=>{const E=s.current;E||fe(),E.textContent=v},[]);Hn(()=>{!s.current&&!o.current||fe();const v=iE(e),E=iE(e);return s.current=v,o.current=E,v.setAttribute(`${Do}-always`,i),E.setAttribute(`${Do}-dynamic`,i),$p().appendChild(v),$p().appendChild(E),u(n.always),c(n.resting),()=>{const w=N=>{const j=N.current;j||fe(),$p().removeChild(j),N.current=null};w(s),w(o)}},[e,u,c,n.always,n.resting,i]);const m=Te(()=>c(n.dragging),[c,n.dragging]),p=Te(v=>{if(v==="DROP"){c(n.dropAnimating);return}c(n.userCancel)},[c,n.dropAnimating,n.userCancel]),g=Te(()=>{o.current&&c(n.resting)},[c,n.resting]);return Ke(()=>({dragging:m,dropping:p,resting:g}),[m,p,g])}function UT(i,e){return Array.from(i.querySelectorAll(e))}var jT=i=>i&&i.ownerDocument&&i.ownerDocument.defaultView?i.ownerDocument.defaultView:window;function ph(i){return i instanceof jT(i).HTMLElement}function FI(i,e){const n=`[${No.contextId}="${i}"]`,s=UT(document,n);if(!s.length)return null;const o=s.find(c=>c.getAttribute(No.draggableId)===e);return!o||!ph(o)?null:o}function $I(i){const e=Y.useRef({}),n=Y.useRef(null),s=Y.useRef(null),o=Y.useRef(!1),c=Te(function(E,w){const N={id:E,focus:w};return e.current[E]=N,function(){const V=e.current;V[E]!==N&&delete V[E]}},[]),u=Te(function(E){const w=FI(i,E);w&&w!==document.activeElement&&w.focus()},[i]),m=Te(function(E,w){n.current===E&&(n.current=w)},[]),p=Te(function(){s.current||o.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const E=n.current;E&&u(E)}))},[u]),g=Te(function(E){n.current=null;const w=document.activeElement;w&&w.getAttribute(No.draggableId)===E&&(n.current=E)},[]);return Hn(()=>(o.current=!0,function(){o.current=!1;const E=s.current;E&&cancelAnimationFrame(E)}),[]),Ke(()=>({register:c,tryRecordFocus:g,tryRestoreFocusRecorded:p,tryShiftRecord:m}),[c,g,p,m])}function YI(){const i={draggables:{},droppables:{}},e=[];function n(v){return e.push(v),function(){const w=e.indexOf(v);w!==-1&&e.splice(w,1)}}function s(v){e.length&&e.forEach(E=>E(v))}function o(v){return i.draggables[v]||null}function c(v){const E=o(v);return E||fe(),E}const u={register:v=>{i.draggables[v.descriptor.id]=v,s({type:"ADDITION",value:v})},update:(v,E)=>{const w=i.draggables[E.descriptor.id];w&&w.uniqueId===v.uniqueId&&(delete i.draggables[E.descriptor.id],i.draggables[v.descriptor.id]=v)},unregister:v=>{const E=v.descriptor.id,w=o(E);w&&v.uniqueId===w.uniqueId&&(delete i.draggables[E],i.droppables[v.descriptor.droppableId]&&s({type:"REMOVAL",value:v}))},getById:c,findById:o,exists:v=>!!o(v),getAllByType:v=>Object.values(i.draggables).filter(E=>E.descriptor.type===v)};function m(v){return i.droppables[v]||null}function p(v){const E=m(v);return E||fe(),E}const g={register:v=>{i.droppables[v.descriptor.id]=v},unregister:v=>{const E=m(v.descriptor.id);E&&v.uniqueId===E.uniqueId&&delete i.droppables[v.descriptor.id]},getById:p,findById:m,exists:v=>!!m(v),getAllByType:v=>Object.values(i.droppables).filter(E=>E.descriptor.type===v)};function _(){i.draggables={},i.droppables={},e.length=0}return{draggable:u,droppable:g,subscribe:n,clean:_}}function XI(){const i=Ke(YI,[]);return Y.useEffect(()=>function(){i.clean()},[i]),i}var lg=Ot.createContext(null),Bd=()=>{const i=document.body;return i||fe(),i};const QI={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},KI=i=>`rfd-announcement-${i}`;function WI(i){const e=Ke(()=>KI(i),[i]),n=Y.useRef(null);return Y.useEffect(function(){const c=document.createElement("div");return n.current=c,c.id=e,c.setAttribute("aria-live","assertive"),c.setAttribute("aria-atomic","true"),Ld(c.style,QI),Bd().appendChild(c),function(){setTimeout(function(){const p=Bd();p.contains(c)&&p.removeChild(c),c===n.current&&(n.current=null)})}},[e]),Te(o=>{const c=n.current;if(c){c.textContent=o;return}},[])}const JI={separator:"::"};function cg(i,e=JI){const n=Ot.useId();return Ke(()=>`${i}${e.separator}${n}`,[e.separator,i,n])}function ZI({contextId:i,uniqueId:e}){return`rfd-hidden-text-${i}-${e}`}function e2({contextId:i,text:e}){const n=cg("hidden-text",{separator:"-"}),s=Ke(()=>ZI({contextId:i,uniqueId:n}),[n,i]);return Y.useEffect(function(){const c=document.createElement("div");return c.id=s,c.textContent=e,c.style.display="none",Bd().appendChild(c),function(){const m=Bd();m.contains(c)&&m.removeChild(c)}},[s,e]),s}var mh=Ot.createContext(null);function BT(i){const e=Y.useRef(i);return Y.useEffect(()=>{e.current=i}),e}function t2(){let i=null;function e(){return!!i}function n(u){return u===i}function s(u){i&&fe();const m={abandon:u};return i=m,m}function o(){i||fe(),i=null}function c(){i&&(i.abandon(),o())}return{isClaimed:e,isActive:n,claim:s,release:o,tryAbandon:c}}function vc(i){return i.phase==="IDLE"||i.phase==="DROP_ANIMATING"?!1:i.isDragging}const n2=9,i2=13,ug=27,zT=32,r2=33,s2=34,a2=35,o2=36,l2=37,c2=38,u2=39,d2=40,h2={[i2]:!0,[n2]:!0};var GT=i=>{h2[i.keyCode]&&i.preventDefault()};const gh=(()=>{const i="visibilitychange";return typeof document>"u"?i:[i,`ms${i}`,`webkit${i}`,`moz${i}`,`o${i}`].find(s=>`on${s}`in document)||i})(),HT=0,rE=5;function f2(i,e){return Math.abs(e.x-i.x)>=rE||Math.abs(e.y-i.y)>=rE}const sE={type:"IDLE"};function p2({cancel:i,completed:e,getPhase:n,setPhase:s}){return[{eventName:"mousemove",fn:o=>{const{button:c,clientX:u,clientY:m}=o;if(c!==HT)return;const p={x:u,y:m},g=n();if(g.type==="DRAGGING"){o.preventDefault(),g.actions.move(p);return}g.type!=="PENDING"&&fe();const _=g.point;if(!f2(_,p))return;o.preventDefault();const v=g.actions.fluidLift(p);s({type:"DRAGGING",actions:v})}},{eventName:"mouseup",fn:o=>{const c=n();if(c.type!=="DRAGGING"){i();return}o.preventDefault(),c.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:o=>{n().type==="DRAGGING"&&o.preventDefault(),i()}},{eventName:"keydown",fn:o=>{if(n().type==="PENDING"){i();return}if(o.keyCode===ug){o.preventDefault(),i();return}GT(o)}},{eventName:"resize",fn:i},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&i()}},{eventName:"webkitmouseforcedown",fn:o=>{const c=n();if(c.type==="IDLE"&&fe(),c.actions.shouldRespectForcePress()){i();return}o.preventDefault()}},{eventName:gh,fn:i}]}function m2(i){const e=Y.useRef(sE),n=Y.useRef(ys),s=Ke(()=>({eventName:"mousedown",fn:function(v){if(v.defaultPrevented||v.button!==HT||v.ctrlKey||v.metaKey||v.shiftKey||v.altKey)return;const E=i.findClosestDraggableId(v);if(!E)return;const w=i.tryGetLock(E,u,{sourceEvent:v});if(!w)return;v.preventDefault();const N={x:v.clientX,y:v.clientY};n.current(),g(w,N)}}),[i]),o=Ke(()=>({eventName:"webkitmouseforcewillbegin",fn:_=>{if(_.defaultPrevented)return;const v=i.findClosestDraggableId(_);if(!v)return;const E=i.findOptionsForDraggable(v);E&&(E.shouldRespectForcePress||i.canGetLock(v)&&_.preventDefault())}}),[i]),c=Te(function(){const v={passive:!1,capture:!0};n.current=oi(window,[o,s],v)},[o,s]),u=Te(()=>{e.current.type!=="IDLE"&&(e.current=sE,n.current(),c())},[c]),m=Te(()=>{const _=e.current;u(),_.type==="DRAGGING"&&_.actions.cancel({shouldBlockNextClick:!0}),_.type==="PENDING"&&_.actions.abort()},[u]),p=Te(function(){const v={capture:!0,passive:!1},E=p2({cancel:m,completed:u,getPhase:()=>e.current,setPhase:w=>{e.current=w}});n.current=oi(window,E,v)},[m,u]),g=Te(function(v,E){e.current.type!=="IDLE"&&fe(),e.current={type:"PENDING",point:E,actions:v},p()},[p]);Hn(function(){return c(),function(){n.current()}},[c])}function g2(){}const y2={[s2]:!0,[r2]:!0,[o2]:!0,[a2]:!0};function v2(i,e){function n(){e(),i.cancel()}function s(){e(),i.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===ug){o.preventDefault(),n();return}if(o.keyCode===zT){o.preventDefault(),s();return}if(o.keyCode===d2){o.preventDefault(),i.moveDown();return}if(o.keyCode===c2){o.preventDefault(),i.moveUp();return}if(o.keyCode===u2){o.preventDefault(),i.moveRight();return}if(o.keyCode===l2){o.preventDefault(),i.moveLeft();return}if(y2[o.keyCode]){o.preventDefault();return}GT(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:gh,fn:n}]}function _2(i){const e=Y.useRef(g2),n=Ke(()=>({eventName:"keydown",fn:function(c){if(c.defaultPrevented||c.keyCode!==zT)return;const u=i.findClosestDraggableId(c);if(!u)return;const m=i.tryGetLock(u,_,{sourceEvent:c});if(!m)return;c.preventDefault();let p=!0;const g=m.snapLift();e.current();function _(){p||fe(),p=!1,e.current(),s()}e.current=oi(window,v2(g,_),{capture:!0,passive:!1})}}),[i]),s=Te(function(){const c={passive:!1,capture:!0};e.current=oi(window,[n],c)},[n]);Hn(function(){return s(),function(){e.current()}},[s])}const Yp={type:"IDLE"},b2=120,E2=.15;function T2({cancel:i,getPhase:e}){return[{eventName:"orientationchange",fn:i},{eventName:"resize",fn:i},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(e().type!=="DRAGGING"){i();return}n.keyCode===ug&&n.preventDefault(),i()}},{eventName:gh,fn:i}]}function S2({cancel:i,completed:e,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const o=n();if(o.type!=="DRAGGING"){i();return}o.hasMoved=!0;const{clientX:c,clientY:u}=s.touches[0],m={x:c,y:u};s.preventDefault(),o.actions.move(m)}},{eventName:"touchend",fn:s=>{const o=n();if(o.type!=="DRAGGING"){i();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:s=>{if(n().type!=="DRAGGING"){i();return}s.preventDefault(),i()}},{eventName:"touchforcechange",fn:s=>{const o=n();o.type==="IDLE"&&fe();const c=s.touches[0];if(!c||!(c.force>=E2))return;const m=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){m&&i();return}if(m){if(o.hasMoved){s.preventDefault();return}i();return}s.preventDefault()}},{eventName:gh,fn:i}]}function A2(i){const e=Y.useRef(Yp),n=Y.useRef(ys),s=Te(function(){return e.current},[]),o=Te(function(w){e.current=w},[]),c=Ke(()=>({eventName:"touchstart",fn:function(w){if(w.defaultPrevented)return;const N=i.findClosestDraggableId(w);if(!N)return;const j=i.tryGetLock(N,m,{sourceEvent:w});if(!j)return;const V=w.touches[0],{clientX:Q,clientY:J}=V,te={x:Q,y:J};n.current(),v(j,te)}}),[i]),u=Te(function(){const w={capture:!0,passive:!1};n.current=oi(window,[c],w)},[c]),m=Te(()=>{const E=e.current;E.type!=="IDLE"&&(E.type==="PENDING"&&clearTimeout(E.longPressTimerId),o(Yp),n.current(),u())},[u,o]),p=Te(()=>{const E=e.current;m(),E.type==="DRAGGING"&&E.actions.cancel({shouldBlockNextClick:!0}),E.type==="PENDING"&&E.actions.abort()},[m]),g=Te(function(){const w={capture:!0,passive:!1},N={cancel:p,completed:m,getPhase:s},j=oi(window,S2(N),w),V=oi(window,T2(N),w);n.current=function(){j(),V()}},[p,s,m]),_=Te(function(){const w=s();w.type!=="PENDING"&&fe();const N=w.actions.fluidLift(w.point);o({type:"DRAGGING",actions:N,hasMoved:!1})},[s,o]),v=Te(function(w,N){s().type!=="IDLE"&&fe();const j=setTimeout(_,b2);o({type:"PENDING",point:N,actions:w,longPressTimerId:j}),g()},[g,s,o,_]);Hn(function(){return u(),function(){n.current();const N=s();N.type==="PENDING"&&(clearTimeout(N.longPressTimerId),o(Yp))}},[s,u,o]),Hn(function(){return oi(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const w2=["input","button","textarea","select","option","optgroup","video","audio"];function qT(i,e){if(e==null)return!1;if(w2.includes(e.tagName.toLowerCase()))return!0;const s=e.getAttribute("contenteditable");return s==="true"||s===""?!0:e===i?!1:qT(i,e.parentElement)}function x2(i,e){const n=e.target;return ph(n)?qT(i,n):!1}var R2=i=>Ti(i.getBoundingClientRect()).center;function C2(i){return i instanceof jT(i).Element}const I2=(()=>{const i="matches";return typeof document>"u"?i:[i,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||i})();function FT(i,e){return i==null?null:i[I2](e)?i:FT(i.parentElement,e)}function D2(i,e){return i.closest?i.closest(e):FT(i,e)}function N2(i){return`[${No.contextId}="${i}"]`}function O2(i,e){const n=e.target;if(!C2(n))return null;const s=N2(i),o=D2(n,s);return!o||!ph(o)?null:o}function M2(i,e){const n=O2(i,e);return n?n.getAttribute(No.draggableId):null}function P2(i,e){const n=`[${mm.contextId}="${i}"]`,o=UT(document,n).find(c=>c.getAttribute(mm.id)===e);return!o||!ph(o)?null:o}function V2(i){i.preventDefault()}function fd({expected:i,phase:e,isLockActive:n,shouldWarn:s}){return!(!n()||i!==e)}function $T({lockAPI:i,store:e,registry:n,draggableId:s}){if(i.isClaimed())return!1;const o=n.draggable.findById(s);return!(!o||!o.options.isEnabled||!PT(e.getState(),s))}function L2({lockAPI:i,contextId:e,store:n,registry:s,draggableId:o,forceSensorStop:c,sourceEvent:u}){if(!$T({lockAPI:i,store:n,registry:s,draggableId:o}))return null;const p=s.draggable.getById(o),g=P2(e,p.descriptor.id);if(!g||u&&!p.options.canDragInteractiveElements&&x2(g,u))return null;const _=i.claim(c||ys);let v="PRE_DRAG";function E(){return p.options.shouldRespectForcePress}function w(){return i.isActive(_)}function N(ue,ce){fd({expected:ue,phase:v,isLockActive:w,shouldWarn:!0})&&n.dispatch(ce())}const j=N.bind(null,"DRAGGING");function V(ue){function ce(){i.release(),v="COMPLETED"}v!=="PRE_DRAG"&&(ce(),fe()),n.dispatch(DC(ue.liftActionArgs)),v="DRAGGING";function C(R,I={shouldBlockNextClick:!1}){if(ue.cleanup(),I.shouldBlockNextClick){const P=oi(window,[{eventName:"click",fn:V2,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}ce(),n.dispatch(xT({reason:R}))}return{isActive:()=>fd({expected:"DRAGGING",phase:v,isLockActive:w,shouldWarn:!1}),shouldRespectForcePress:E,drop:R=>C("DROP",R),cancel:R=>C("CANCEL",R),...ue.actions}}function Q(ue){const ce=hc(R=>{j(()=>wT({client:R}))});return{...V({liftActionArgs:{id:o,clientSelection:ue,movementMode:"FLUID"},cleanup:()=>ce.cancel(),actions:{move:ce}}),move:ce}}function J(){const ue={moveUp:()=>j(jC),moveRight:()=>j(zC),moveDown:()=>j(BC),moveLeft:()=>j(GC)};return V({liftActionArgs:{id:o,clientSelection:R2(g),movementMode:"SNAP"},cleanup:ys,actions:ue})}function te(){fd({expected:"PRE_DRAG",phase:v,isLockActive:w,shouldWarn:!0})&&i.release()}return{isActive:()=>fd({expected:"PRE_DRAG",phase:v,isLockActive:w,shouldWarn:!1}),shouldRespectForcePress:E,fluidLift:Q,snapLift:J,abort:te}}const k2=[m2,_2,A2];function U2({contextId:i,store:e,registry:n,customSensors:s,enableDefaultSensors:o}){const c=[...o?k2:[],...s||[]],u=Y.useState(()=>t2())[0],m=Te(function(V,Q){vc(V)&&!vc(Q)&&u.tryAbandon()},[u]);Hn(function(){let V=e.getState();return e.subscribe(()=>{const J=e.getState();m(V,J),V=J})},[u,e,m]),Hn(()=>u.tryAbandon,[u.tryAbandon]);const p=Te(j=>$T({lockAPI:u,registry:n,store:e,draggableId:j}),[u,n,e]),g=Te((j,V,Q)=>L2({lockAPI:u,registry:n,contextId:i,store:e,draggableId:j,forceSensorStop:V||null,sourceEvent:Q&&Q.sourceEvent?Q.sourceEvent:null}),[i,u,n,e]),_=Te(j=>M2(i,j),[i]),v=Te(j=>{const V=n.draggable.findById(j);return V?V.options:null},[n.draggable]),E=Te(function(){u.isClaimed()&&(u.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(tg()))},[u,e]),w=Te(()=>u.isClaimed(),[u]),N=Ke(()=>({canGetLock:p,tryGetLock:g,findClosestDraggableId:_,findOptionsForDraggable:v,tryReleaseLock:E,isLockClaimed:w}),[p,g,_,v,E,w]);for(let j=0;j<c.length;j++)c[j](N)}const j2=i=>({onBeforeCapture:e=>{const n=()=>{i.onBeforeCapture&&i.onBeforeCapture(e)};Hm.flushSync(n)},onBeforeDragStart:i.onBeforeDragStart,onDragStart:i.onDragStart,onDragEnd:i.onDragEnd,onDragUpdate:i.onDragUpdate}),B2=i=>({...yc,...i.autoScrollerOptions,durationDampening:{...yc.durationDampening,...i.autoScrollerOptions}});function Jl(i){return i.current||fe(),i.current}function z2(i){const{contextId:e,setCallbacks:n,sensors:s,nonce:o,dragHandleUsageInstructions:c}=i,u=Y.useRef(null),m=BT(i),p=Te(()=>j2(m.current),[m]),g=Te(()=>B2(m.current),[m]),_=WI(e),v=e2({contextId:e,text:c}),E=qI(e,o),w=Te(P=>{Jl(u).dispatch(P)},[]),N=Ke(()=>Nb({publishWhileDragging:OC,updateDroppableScroll:PC,updateDroppableIsEnabled:VC,updateDroppableIsCombineEnabled:LC,collectionStarting:MC},w),[w]),j=XI(),V=Ke(()=>TI(j,N),[j,N]),Q=Ke(()=>jI({scrollWindow:SI,scrollDroppable:V.scrollDroppable,getAutoScrollerOptions:g,...Nb({move:wT},w)}),[V.scrollDroppable,w,g]),J=$I(e),te=Ke(()=>vI({announce:_,autoScroller:Q,dimensionMarshal:V,focusMarshal:J,getResponders:p,styleMarshal:E}),[_,Q,V,J,p,E]);u.current=te;const se=Te(()=>{const P=Jl(u);P.getState().phase!=="IDLE"&&P.dispatch(tg())},[]),ue=Te(()=>{const P=Jl(u).getState();return P.phase==="DROP_ANIMATING"?!0:P.phase==="IDLE"?!1:P.isDragging},[]),ce=Ke(()=>({isDragging:ue,tryAbort:se}),[ue,se]);n(ce);const C=Te(P=>PT(Jl(u).getState(),P),[]),R=Te(()=>ha(Jl(u).getState()),[]),I=Ke(()=>({marshal:V,focus:J,contextId:e,canLift:C,isMovementAllowed:R,dragHandleUsageInstructionsId:v,registry:j}),[e,V,v,J,C,R,j]);return U2({contextId:e,store:te,registry:j,customSensors:s||null,enableDefaultSensors:i.enableDefaultSensors!==!1}),Y.useEffect(()=>se,[se]),Ot.createElement(mh.Provider,{value:I},Ot.createElement(hR,{context:lg,store:te},i.children))}function G2(){return Ot.useId()}function YT(i){const e=G2(),n=i.dragHandleUsageInstructions||Td.dragHandleUsageInstructions;return Ot.createElement(_R,null,s=>Ot.createElement(z2,{nonce:i.nonce,contextId:e,setCallbacks:s,dragHandleUsageInstructions:n,enableDefaultSensors:i.enableDefaultSensors,sensors:i.sensors,onBeforeCapture:i.onBeforeCapture,onBeforeDragStart:i.onBeforeDragStart,onDragStart:i.onDragStart,onDragUpdate:i.onDragUpdate,onDragEnd:i.onDragEnd,autoScrollerOptions:i.autoScrollerOptions},i.children))}const aE={dragging:5e3,dropAnimating:4500},H2=(i,e)=>e?sc.drop(e.duration):i?sc.snap:sc.fluid,q2=(i,e)=>{if(i)return e?gc.opacity.drop:gc.opacity.combining},F2=i=>i.forceShouldAnimate!=null?i.forceShouldAnimate:i.mode==="SNAP";function $2(i){const n=i.dimension.client,{offset:s,combineWith:o,dropping:c}=i,u=!!o,m=F2(i),p=!!c,g=p?fm.drop(s,u):fm.moveTo(s);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:H2(m,c),transform:g,opacity:q2(u,p),zIndex:p?aE.dropAnimating:aE.dragging,pointerEvents:"none"}}function Y2(i){return{transform:fm.moveTo(i.offset),transition:i.shouldAnimateDisplacement?void 0:"none"}}function X2(i){return i.type==="DRAGGING"?$2(i):Y2(i)}function Q2(i,e,n=Jt){const s=window.getComputedStyle(e),o=e.getBoundingClientRect(),c=Z0(o,s),u=Vd(c,n),m={client:c,tagName:e.tagName.toLowerCase(),display:s.display},p={x:c.marginBox.width,y:c.marginBox.height};return{descriptor:i,placeholder:m,displaceBy:p,client:c,page:u}}function K2(i){const e=cg("draggable"),{descriptor:n,registry:s,getDraggableRef:o,canDragInteractiveElements:c,shouldRespectForcePress:u,isEnabled:m}=i,p=Ke(()=>({canDragInteractiveElements:c,shouldRespectForcePress:u,isEnabled:m}),[c,m,u]),g=Te(w=>{const N=o();return N||fe(),Q2(n,N,w)},[n,o]),_=Ke(()=>({uniqueId:e,descriptor:n,options:p,getDimension:g}),[n,g,p,e]),v=Y.useRef(_),E=Y.useRef(!0);Hn(()=>(s.draggable.register(v.current),()=>s.draggable.unregister(v.current)),[s.draggable]),Hn(()=>{if(E.current){E.current=!1;return}const w=v.current;v.current=_,s.draggable.update(_,w)},[_,s.draggable])}var dg=Ot.createContext(null);function zd(i){const e=Y.useContext(i);return e||fe(),e}function W2(i){i.preventDefault()}const J2=i=>{const e=Y.useRef(null),n=Te((ce=null)=>{e.current=ce},[]),s=Te(()=>e.current,[]),{contextId:o,dragHandleUsageInstructionsId:c,registry:u}=zd(mh),{type:m,droppableId:p}=zd(dg),g=Ke(()=>({id:i.draggableId,index:i.index,type:m,droppableId:p}),[i.draggableId,i.index,m,p]),{children:_,draggableId:v,isEnabled:E,shouldRespectForcePress:w,canDragInteractiveElements:N,isClone:j,mapped:V,dropAnimationFinished:Q}=i;if(!j){const ce=Ke(()=>({descriptor:g,registry:u,getDraggableRef:s,canDragInteractiveElements:N,shouldRespectForcePress:w,isEnabled:E}),[g,u,s,N,w,E]);K2(ce)}const J=Ke(()=>E?{tabIndex:0,role:"button","aria-describedby":c,"data-rfd-drag-handle-draggable-id":v,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:W2}:null,[o,c,v,E]),te=Te(ce=>{V.type==="DRAGGING"&&V.dropping&&ce.propertyName==="transform"&&Hm.flushSync(Q)},[Q,V]),se=Ke(()=>{const ce=X2(V),C=V.type==="DRAGGING"&&V.dropping?te:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":v,style:ce,onTransitionEnd:C},dragHandleProps:J}},[o,J,v,V,te,n]),ue=Ke(()=>({draggableId:g.id,type:g.type,source:{index:g.index,droppableId:g.droppableId}}),[g.droppableId,g.id,g.index,g.type]);return Ot.createElement(Ot.Fragment,null,_(se,V.snapshot,ue))};var XT=(i,e)=>i===e,QT=i=>{const{combine:e,destination:n}=i;return n?n.droppableId:e?e.droppableId:null};const Z2=i=>i.combine?i.combine.draggableId:null,eD=i=>i.at&&i.at.type==="COMBINE"?i.at.combine.draggableId:null;function tD(){const i=Wt((o,c)=>({x:o,y:c})),e=Wt((o,c,u=null,m=null,p=null)=>({isDragging:!0,isClone:c,isDropAnimating:!!p,dropAnimation:p,mode:o,draggingOver:u,combineWith:m,combineTargetFor:null})),n=Wt((o,c,u,m,p=null,g=null,_=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:p,combineWith:g,mode:c,offset:o,dimension:u,forceShouldAnimate:_,snapshot:e(c,m,p,g,null)}}));return(o,c)=>{if(vc(o)){if(o.critical.draggable.id!==c.draggableId)return null;const u=o.current.client.offset,m=o.dimensions.draggables[c.draggableId],p=Gn(o.impact),g=eD(o.impact),_=o.forceShouldAnimate;return n(i(u.x,u.y),o.movementMode,m,c.isClone,p,g,_)}if(o.phase==="DROP_ANIMATING"){const u=o.completed;if(u.result.draggableId!==c.draggableId)return null;const m=c.isClone,p=o.dimensions.draggables[c.draggableId],g=u.result,_=g.mode,v=QT(g),E=Z2(g),N={duration:o.dropDuration,curve:ig.drop,moveTo:o.newHomeClientOffset,opacity:E?gc.opacity.drop:null,scale:E?gc.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:p,dropping:N,draggingOver:v,combineWith:E,mode:_,forceShouldAnimate:null,snapshot:e(_,m,v,E,N)}}}return null}}function KT(i=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:i,combineWith:null}}const nD={mapped:{type:"SECONDARY",offset:Jt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:KT(null)}};function iD(){const i=Wt((u,m)=>({x:u,y:m})),e=Wt(KT),n=Wt((u,m=null,p)=>({mapped:{type:"SECONDARY",offset:u,combineTargetFor:m,shouldAnimateDisplacement:p,snapshot:e(m)}})),s=u=>u?n(Jt,u,!0):null,o=(u,m,p,g)=>{const _=p.displaced.visible[u],v=!!(g.inVirtualList&&g.effected[u]),E=dh(p),w=E&&E.draggableId===u?m:null;if(!_){if(!v)return s(w);if(p.displaced.invisible[u])return null;const V=jo(g.displacedBy.point),Q=i(V.x,V.y);return n(Q,w,!0)}if(v)return s(w);const N=p.displacedBy.point,j=i(N.x,N.y);return n(j,w,_.shouldAnimate)};return(u,m)=>{if(vc(u))return u.critical.draggable.id===m.draggableId?null:o(m.draggableId,u.critical.draggable.id,u.impact,u.afterCritical);if(u.phase==="DROP_ANIMATING"){const p=u.completed;return p.result.draggableId===m.draggableId?null:o(m.draggableId,p.result.draggableId,p.impact,p.afterCritical)}return null}}const rD=()=>{const i=tD(),e=iD();return(s,o)=>i(s,o)||e(s,o)||nD},sD={dropAnimationFinished:RT},aD=J0(rD,sD,null,{context:lg,areStatePropsEqual:XT})(J2);function WT(i){return zd(dg).isUsingCloneFor===i.draggableId&&!i.isClone?null:Ot.createElement(aD,i)}function JT(i){const e=typeof i.isDragDisabled=="boolean"?!i.isDragDisabled:!0,n=!!i.disableInteractiveElementBlocking,s=!!i.shouldRespectForcePress;return Ot.createElement(WT,Ld({},i,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:s}))}const ZT=i=>e=>i===e,oD=ZT("scroll"),lD=ZT("auto"),oE=(i,e)=>e(i.overflowX)||e(i.overflowY),cD=i=>{const e=window.getComputedStyle(i),n={overflowX:e.overflowX,overflowY:e.overflowY};return oE(n,oD)||oE(n,lD)},uD=()=>!1,eS=i=>i==null?null:i===document.body?uD()?i:null:i===document.documentElement?null:cD(i)?i:eS(i.parentElement);var gm=i=>({x:i.scrollLeft,y:i.scrollTop});const tS=i=>i?window.getComputedStyle(i).position==="fixed"?!0:tS(i.parentElement):!1;var dD=i=>{const e=eS(i),n=tS(i);return{closestScrollable:e,isFixedOnPage:n}},hD=({descriptor:i,isEnabled:e,isCombineEnabled:n,isFixedOnPage:s,direction:o,client:c,page:u,closest:m})=>{const p=(()=>{if(!m)return null;const{scrollSize:E,client:w}=m,N=NT({scrollHeight:E.scrollHeight,scrollWidth:E.scrollWidth,height:w.paddingBox.height,width:w.paddingBox.width});return{pageMarginBox:m.page.marginBox,frameClient:w,scrollSize:E,shouldClipSubject:m.shouldClipSubject,scroll:{initial:m.scroll,current:m.scroll,max:N,diff:{value:Jt,displacement:Jt}}}})(),g=o==="vertical"?Km:uT,_=Io({page:u,withPlaceholder:null,axis:g,frame:p});return{descriptor:i,isCombineEnabled:n,isFixedOnPage:s,axis:g,isEnabled:e,client:c,page:u,frame:p,subject:_}};const fD=(i,e)=>{const n=eT(i);if(!e||i!==e)return n;const s=n.paddingBox.top-e.scrollTop,o=n.paddingBox.left-e.scrollLeft,c=s+e.scrollHeight,u=o+e.scrollWidth,p=$m({top:s,right:u,bottom:c,left:o},n.border);return Ym({borderBox:p,margin:n.margin,border:n.border,padding:n.padding})};var pD=({ref:i,descriptor:e,env:n,windowScroll:s,direction:o,isDropDisabled:c,isCombineEnabled:u,shouldClipSubject:m})=>{const p=n.closestScrollable,g=fD(i,p),_=Vd(g,s),v=(()=>{if(!p)return null;const w=eT(p),N={scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth};return{client:w,page:Vd(w,s),scroll:gm(p),scrollSize:N,shouldClipSubject:m}})();return hD({descriptor:e,isEnabled:!c,isCombineEnabled:u,isFixedOnPage:n.isFixedOnPage,direction:o,client:g,page:_,closest:v})};const mD={passive:!1},gD={passive:!0};var lE=i=>i.shouldPublishImmediately?mD:gD;const pd=i=>i&&i.env.closestScrollable||null;function yD(i){const e=Y.useRef(null),n=zd(mh),s=cg("droppable"),{registry:o,marshal:c}=n,u=BT(i),m=Ke(()=>({id:i.droppableId,type:i.type,mode:i.mode}),[i.droppableId,i.mode,i.type]),p=Y.useRef(m),g=Ke(()=>Wt((se,ue)=>{e.current||fe();const ce={x:se,y:ue};c.updateDroppableScroll(m.id,ce)}),[m.id,c]),_=Te(()=>{const se=e.current;return!se||!se.env.closestScrollable?Jt:gm(se.env.closestScrollable)},[]),v=Te(()=>{const se=_();g(se.x,se.y)},[_,g]),E=Ke(()=>hc(v),[v]),w=Te(()=>{const se=e.current,ue=pd(se);if(se&&ue||fe(),se.scrollOptions.shouldPublishImmediately){v();return}E()},[E,v]),N=Te((se,ue)=>{e.current&&fe();const ce=u.current,C=ce.getDroppableRef();C||fe();const R=dD(C),I={ref:C,descriptor:m,env:R,scrollOptions:ue};e.current=I;const P=pD({ref:C,descriptor:m,env:R,windowScroll:se,direction:ce.direction,isDropDisabled:ce.isDropDisabled,isCombineEnabled:ce.isCombineEnabled,shouldClipSubject:!ce.ignoreContainerClipping}),M=R.closestScrollable;return M&&(M.setAttribute(nE.contextId,n.contextId),M.addEventListener("scroll",w,lE(I.scrollOptions))),P},[n.contextId,m,w,u]),j=Te(()=>{const se=e.current,ue=pd(se);return se&&ue||fe(),gm(ue)},[]),V=Te(()=>{const se=e.current;se||fe();const ue=pd(se);e.current=null,ue&&(E.cancel(),ue.removeAttribute(nE.contextId),ue.removeEventListener("scroll",w,lE(se.scrollOptions)))},[w,E]),Q=Te(se=>{const ue=e.current;ue||fe();const ce=pd(ue);ce||fe(),ce.scrollTop+=se.y,ce.scrollLeft+=se.x},[]),J=Ke(()=>({getDimensionAndWatchScroll:N,getScrollWhileDragging:j,dragStopped:V,scroll:Q}),[V,N,j,Q]),te=Ke(()=>({uniqueId:s,descriptor:m,callbacks:J}),[J,m,s]);Hn(()=>(p.current=te.descriptor,o.droppable.register(te),()=>{e.current&&V(),o.droppable.unregister(te)}),[J,m,V,te,c,o.droppable]),Hn(()=>{e.current&&c.updateDroppableIsEnabled(p.current.id,!i.isDropDisabled)},[i.isDropDisabled,c]),Hn(()=>{e.current&&c.updateDroppableIsCombineEnabled(p.current.id,i.isCombineEnabled)},[i.isCombineEnabled,c])}function Xp(){}const cE={width:0,height:0,margin:xR},vD=({isAnimatingOpenOnMount:i,placeholder:e,animate:n})=>i||n==="close"?cE:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},_D=({isAnimatingOpenOnMount:i,placeholder:e,animate:n})=>{const s=vD({isAnimatingOpenOnMount:i,placeholder:e,animate:n});return{display:e.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?sc.placeholder:null}},bD=i=>{const e=Y.useRef(null),n=Te(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:s,onTransitionEnd:o,onClose:c,contextId:u}=i,[m,p]=Y.useState(i.animate==="open");Y.useEffect(()=>m?s!=="open"?(n(),p(!1),Xp):e.current?Xp:(e.current=setTimeout(()=>{e.current=null,p(!1)}),n):Xp,[s,m,n]);const g=Te(v=>{v.propertyName==="height"&&(o(),s==="close"&&c())},[s,c,o]),_=_D({isAnimatingOpenOnMount:m,animate:i.animate,placeholder:i.placeholder});return Ot.createElement(i.placeholder.tagName,{style:_,"data-rfd-placeholder-context-id":u,onTransitionEnd:g,ref:i.innerRef})};var ED=Ot.memo(bD);class TD extends Ot.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,n){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const SD=i=>{const e=Y.useContext(mh);e||fe();const{contextId:n,isMovementAllowed:s}=e,o=Y.useRef(null),c=Y.useRef(null),{children:u,droppableId:m,type:p,mode:g,direction:_,ignoreContainerClipping:v,isDropDisabled:E,isCombineEnabled:w,snapshot:N,useClone:j,updateViewportMaxScroll:V,getContainerForClone:Q}=i,J=Te(()=>o.current,[]),te=Te((M=null)=>{o.current=M},[]);Te(()=>c.current,[]);const se=Te((M=null)=>{c.current=M},[]),ue=Te(()=>{s()&&V({maxScroll:MT()})},[s,V]);yD({droppableId:m,type:p,mode:g,direction:_,isDropDisabled:E,isCombineEnabled:w,ignoreContainerClipping:v,getDroppableRef:J});const ce=Ke(()=>Ot.createElement(TD,{on:i.placeholder,shouldAnimate:i.shouldAnimatePlaceholder},({onClose:M,data:B,animate:D})=>Ot.createElement(ED,{placeholder:B,onClose:M,innerRef:se,animate:D,contextId:n,onTransitionEnd:ue})),[n,ue,i.placeholder,i.shouldAnimatePlaceholder,se]),C=Ke(()=>({innerRef:te,placeholder:ce,droppableProps:{"data-rfd-droppable-id":m,"data-rfd-droppable-context-id":n}}),[n,m,ce,te]),R=j?j.dragging.draggableId:null,I=Ke(()=>({droppableId:m,type:p,isUsingCloneFor:R}),[m,R,p]);function P(){if(!j)return null;const{dragging:M,render:B}=j,D=Ot.createElement(WT,{draggableId:M.draggableId,index:M.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(oe,Ee)=>B(oe,Ee,M));return dx.createPortal(D,Q())}return Ot.createElement(dg.Provider,{value:I},u(C,N),P())};function AD(){return document.body||fe(),document.body}const uE={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:AD},nS=i=>{let e={...i},n;for(n in uE)i[n]===void 0&&(e={...e,[n]:uE[n]});return e},Qp=(i,e)=>i===e.droppable.type,dE=(i,e)=>e.draggables[i.draggable.id],wD=()=>{const i={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...i,shouldAnimatePlaceholder:!1},n=Wt(c=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}})),s=Wt((c,u,m,p,g,_)=>{const v=g.descriptor.id;if(g.descriptor.droppableId===c){const N=_?{render:_,dragging:n(g.descriptor)}:null,j={isDraggingOver:m,draggingOverWith:m?v:null,draggingFromThisWith:v,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!1,snapshot:j,useClone:N}}if(!u)return e;if(!p)return i;const w={isDraggingOver:m,draggingOverWith:v,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!0,snapshot:w,useClone:null}});return(c,u)=>{const m=nS(u),p=m.droppableId,g=m.type,_=!m.isDropDisabled,v=m.renderClone;if(vc(c)){const E=c.critical;if(!Qp(g,E))return e;const w=dE(E,c.dimensions),N=Gn(c.impact)===p;return s(p,_,N,N,w,v)}if(c.phase==="DROP_ANIMATING"){const E=c.completed;if(!Qp(g,E.critical))return e;const w=dE(E.critical,c.dimensions);return s(p,_,QT(E.result)===p,Gn(E.impact)===p,w,v)}if(c.phase==="IDLE"&&c.completed&&!c.shouldFlush){const E=c.completed;if(!Qp(g,E.critical))return e;const w=Gn(E.impact)===p,N=!!(E.impact.at&&E.impact.at.type==="COMBINE"),j=E.critical.droppable.id===p;return w?N?i:e:j?i:e}return e}},xD={updateViewportMaxScroll:UC},iS=J0(wD,xD,(i,e,n)=>({...nS(n),...i,...e}),{context:lg,areStatePropsEqual:XT})(SD),RD=()=>{};var hE={};const rS=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},CD=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],u=i[n++],m=i[n++],p=((o&7)<<18|(c&63)<<12|(u&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=i[n++],u=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},sS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const c=i[o],u=o+1<i.length,m=u?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=c>>2,v=(c&3)<<4|m>>4;let E=(m&15)<<2|g>>6,w=g&63;p||(w=64,u||(E=64)),s.push(n[_],n[v],n[E],n[w])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(rS(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):CD(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const v=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||m==null||g==null||v==null)throw new ID;const E=c<<2|m>>4;if(s.push(E),g!==64){const w=m<<4&240|g>>2;if(s.push(w),v!==64){const N=g<<6&192|v;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class ID extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DD=function(i){const e=rS(i);return sS.encodeByteArray(e,!0)},Gd=function(i){return DD(i).replace(/\./g,"")},aS=function(i){try{return sS.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ND(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const OD=()=>ND().__FIREBASE_DEFAULTS__,MD=()=>{if(typeof process>"u"||typeof hE>"u")return;const i=hE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},PD=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&aS(i[1]);return e&&JSON.parse(e)},yh=()=>{try{return RD()||OD()||MD()||PD()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},oS=i=>yh()?.emulatorHosts?.[i],VD=i=>{const e=oS(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},lS=()=>yh()?.config,cS=i=>yh()?.[`_${i}`];class LD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Go(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uS(i){return(await fetch(i,{credentials:"include"})).ok}function kD(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Gd(JSON.stringify(n)),Gd(JSON.stringify(u)),""].join(".")}const ac={};function UD(){const i={prod:[],emulator:[]};for(const e of Object.keys(ac))ac[e]?i.emulator.push(e):i.prod.push(e);return i}function jD(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let fE=!1;function dS(i,e){if(typeof window>"u"||typeof document>"u"||!Go(window.location.host)||ac[i]===e||ac[i]||fE)return;ac[i]=e;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",c=UD().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function p(E,w){E.setAttribute("width","24"),E.setAttribute("id",w),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{fE=!0,u()},E}function _(E,w){E.setAttribute("id",w),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=jD(s),w=n("text"),N=document.getElementById(w)||document.createElement("span"),j=n("learnmore"),V=document.getElementById(j)||document.createElement("a"),Q=n("preprendIcon"),J=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const te=E.element;m(te),_(V,j);const se=g();p(J,Q),te.append(J,N,V,se),document.body.appendChild(te)}c?(N.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function zD(){const i=yh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HD(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function qD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FD(){const i=mn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function $D(){return!zD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YD(){try{return typeof indexedDB=="object"}catch{return!1}}function XD(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const QD="FirebaseError";class Mr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=QD,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dc.prototype.create)}}class Dc{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?KD(c,s):"Error",m=`${this.serviceName}: ${u} (${o}).`;return new Mr(o,m,s)}}function KD(i,e){return i.replace(WD,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const WD=/\{\$([^}]+)}/g;function JD(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ba(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=i[o],u=e[o];if(pE(c)&&pE(u)){if(!ba(c,u))return!1}else if(c!==u)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function pE(i){return i!==null&&typeof i=="object"}function Nc(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ZD(i,e){const n=new eN(i,e);return n.subscribe.bind(n)}class eN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");tN(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Kp),o.error===void 0&&(o.error=Kp),o.complete===void 0&&(o.complete=Kp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tN(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Kp(){}function ci(i){return i&&i._delegate?i._delegate:i}class Ea{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const fa="[DEFAULT]";class nN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new LD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rN(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,u]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&u.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:iN(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iN(i){return i===fa?void 0:i}function rN(i){return i.instantiationMode==="EAGER"}class sN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var qe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(qe||(qe={}));const aN={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},oN=qe.INFO,lN={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},cN=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=lN[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hg{constructor(e){this.name=e,this._logLevel=oN,this._logHandler=cN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const uN=(i,e)=>e.some(n=>i instanceof n);let mE,gE;function dN(){return mE||(mE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hN(){return gE||(gE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hS=new WeakMap,ym=new WeakMap,fS=new WeakMap,Wp=new WeakMap,fg=new WeakMap;function fN(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",u)},c=()=>{n(_s(i.result)),o()},u=()=>{s(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&hS.set(n,i)}).catch(()=>{}),fg.set(e,i),e}function pN(i){if(ym.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",u),i.removeEventListener("abort",u)},c=()=>{n(),o()},u=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",u),i.addEventListener("abort",u)});ym.set(i,e)}let vm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return ym.get(i);if(e==="objectStoreNames")return i.objectStoreNames||fS.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _s(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function mN(i){vm=i(vm)}function gN(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Jp(this),e,...n);return fS.set(s,e.sort?e.sort():[e]),_s(s)}:hN().includes(i)?function(...e){return i.apply(Jp(this),e),_s(hS.get(this))}:function(...e){return _s(i.apply(Jp(this),e))}}function yN(i){return typeof i=="function"?gN(i):(i instanceof IDBTransaction&&pN(i),uN(i,dN())?new Proxy(i,vm):i)}function _s(i){if(i instanceof IDBRequest)return fN(i);if(Wp.has(i))return Wp.get(i);const e=yN(i);return e!==i&&(Wp.set(i,e),fg.set(e,i)),e}const Jp=i=>fg.get(i);function vN(i,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const u=indexedDB.open(i,e),m=_s(u);return s&&u.addEventListener("upgradeneeded",p=>{s(_s(u.result),p.oldVersion,p.newVersion,_s(u.transaction),p)}),n&&u.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const _N=["get","getKey","getAll","getAllKeys","count"],bN=["put","add","delete","clear"],Zp=new Map;function yE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Zp.get(e))return Zp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=bN.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||_N.includes(n)))return;const c=async function(u,...m){const p=this.transaction(u,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Zp.set(e,c),c}mN(i=>({...i,get:(e,n,s)=>yE(e,n)||i.get(e,n,s),has:(e,n)=>!!yE(e,n)||i.has(e,n)}));class EN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TN(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function TN(i){return i.getComponent()?.type==="VERSION"}const _m="@firebase/app",vE="0.14.6";const Cr=new hg("@firebase/app"),SN="@firebase/app-compat",AN="@firebase/analytics-compat",wN="@firebase/analytics",xN="@firebase/app-check-compat",RN="@firebase/app-check",CN="@firebase/auth",IN="@firebase/auth-compat",DN="@firebase/database",NN="@firebase/data-connect",ON="@firebase/database-compat",MN="@firebase/functions",PN="@firebase/functions-compat",VN="@firebase/installations",LN="@firebase/installations-compat",kN="@firebase/messaging",UN="@firebase/messaging-compat",jN="@firebase/performance",BN="@firebase/performance-compat",zN="@firebase/remote-config",GN="@firebase/remote-config-compat",HN="@firebase/storage",qN="@firebase/storage-compat",FN="@firebase/firestore",$N="@firebase/ai",YN="@firebase/firestore-compat",XN="firebase",QN="12.6.0";const bm="[DEFAULT]",KN={[_m]:"fire-core",[SN]:"fire-core-compat",[wN]:"fire-analytics",[AN]:"fire-analytics-compat",[RN]:"fire-app-check",[xN]:"fire-app-check-compat",[CN]:"fire-auth",[IN]:"fire-auth-compat",[DN]:"fire-rtdb",[NN]:"fire-data-connect",[ON]:"fire-rtdb-compat",[MN]:"fire-fn",[PN]:"fire-fn-compat",[VN]:"fire-iid",[LN]:"fire-iid-compat",[kN]:"fire-fcm",[UN]:"fire-fcm-compat",[jN]:"fire-perf",[BN]:"fire-perf-compat",[zN]:"fire-rc",[GN]:"fire-rc-compat",[HN]:"fire-gcs",[qN]:"fire-gcs-compat",[FN]:"fire-fst",[YN]:"fire-fst-compat",[$N]:"fire-vertex","fire-js":"fire-js",[XN]:"fire-js-all"};const Hd=new Map,WN=new Map,Em=new Map;function _E(i,e){try{i.container.addComponent(e)}catch(n){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Oo(i){const e=i.name;if(Em.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,i);for(const n of Hd.values())_E(n,i);for(const n of WN.values())_E(n,i);return!0}function pg(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Ei(i){return i==null?!1:i.settings!==void 0}const JN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new Dc("app","Firebase",JN);class ZN{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}const Ho=QN;function pS(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:bm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw bs.create("bad-app-name",{appName:String(o)});if(n||(n=lS()),!n)throw bs.create("no-options");const c=Hd.get(o);if(c){if(ba(n,c.options)&&ba(s,c.config))return c;throw bs.create("duplicate-app",{appName:o})}const u=new sN(o);for(const p of Em.values())u.addComponent(p);const m=new ZN(n,s,u);return Hd.set(o,m),m}function mS(i=bm){const e=Hd.get(i);if(!e&&i===bm&&lS())return pS();if(!e)throw bs.create("no-app",{appName:i});return e}function Es(i,e,n){let s=KN[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(u.join(" "));return}Oo(new Ea(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const eO="firebase-heartbeat-database",tO=1,_c="firebase-heartbeat-store";let em=null;function gS(){return em||(em=vN(eO,tO,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(_c)}catch(n){console.warn(n)}}}}).catch(i=>{throw bs.create("idb-open",{originalErrorMessage:i.message})})),em}async function nO(i){try{const n=(await gS()).transaction(_c),s=await n.objectStore(_c).get(yS(i));return await n.done,s}catch(e){if(e instanceof Mr)Cr.warn(e.message);else{const n=bs.create("idb-get",{originalErrorMessage:e?.message});Cr.warn(n.message)}}}async function bE(i,e){try{const s=(await gS()).transaction(_c,"readwrite");await s.objectStore(_c).put(e,yS(i)),await s.done}catch(n){if(n instanceof Mr)Cr.warn(n.message);else{const s=bs.create("idb-set",{originalErrorMessage:n?.message});Cr.warn(s.message)}}}function yS(i){return`${i.name}!${i.options.appId}`}const iO=1024,rO=30;class sO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oO(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=EE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>rO){const o=lO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Cr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=EE(),{heartbeatsToSend:n,unsentEntries:s}=aO(this._heartbeatsCache.heartbeats),o=Gd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Cr.warn(e),""}}}function EE(){return new Date().toISOString().substring(0,10)}function aO(i,e=iO){const n=[];let s=i.slice();for(const o of i){const c=n.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),TE(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),TE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class oO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YD()?XD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return bE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return bE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function TE(i){return Gd(JSON.stringify({version:2,heartbeats:i})).length}function lO(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function cO(i){Oo(new Ea("platform-logger",e=>new EN(e),"PRIVATE")),Oo(new Ea("heartbeat",e=>new sO(e),"PRIVATE")),Es(_m,vE,i),Es(_m,vE,"esm2020"),Es("fire-js","")}cO("");var uO="firebase",dO="12.6.0";Es(uO,dO,"app");function vS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hO=vS,_S=new Dc("auth","Firebase",vS());const qd=new hg("@firebase/auth");function fO(i,...e){qd.logLevel<=qe.WARN&&qd.warn(`Auth (${Ho}): ${i}`,...e)}function Sd(i,...e){qd.logLevel<=qe.ERROR&&qd.error(`Auth (${Ho}): ${i}`,...e)}function Ir(i,...e){throw mg(i,...e)}function Xi(i,...e){return mg(i,...e)}function bS(i,e,n){const s={...hO(),[e]:n};return new Dc("auth","Firebase",s).create(e,{appName:i.name})}function Ts(i){return bS(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return _S.create(i,...e)}function Ne(i,e,...n){if(!i)throw mg(e,...n)}function Ar(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Sd(e),new Error(e)}function Dr(i,e){i||Ar(e)}function Tm(){return typeof self<"u"&&self.location?.href||""}function pO(){return SE()==="http:"||SE()==="https:"}function SE(){return typeof self<"u"&&self.location?.protocol||null}function mO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pO()||HD()||"connection"in navigator)?navigator.onLine:!0}function gO(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Dr(n>e,"Short delay should be less than long delay!"),this.isMobile=BD()||qD()}get(){return mO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gg(i,e){Dr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class ES{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const vO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_O=new Oc(3e4,6e4);function vh(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function qo(i,e,n,s,o={}){return TS(i,o,async()=>{let c={},u={};s&&(e==="GET"?u=s:c={body:JSON.stringify(s)});const m=Nc({key:i.config.apiKey,...u}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...c};return GD()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Go(i.emulatorConfig.host)&&(g.credentials="include"),ES.fetch()(await AS(i,i.config.apiHost,n,m),g)})}async function TS(i,e,n){i._canInitEmulator=!1;const s={...yO,...e};try{const o=new bO(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw md(i,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const m=c.ok?u.errorMessage:u.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw md(i,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw md(i,"email-already-in-use",u);if(p==="USER_DISABLED")throw md(i,"user-disabled",u);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw bS(i,_,g);Ir(i,_)}}catch(o){if(o instanceof Mr)throw o;Ir(i,"network-request-failed",{message:String(o)})}}async function SS(i,e,n,s,o={}){const c=await qo(i,e,n,s,o);return"mfaPendingCredential"in c&&Ir(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function AS(i,e,n,s){const o=`${e}${n}?${s}`,c=i,u=c.config.emulator?gg(i.config,o):`${i.config.apiScheme}://${o}`;return vO.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}class bO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Xi(this.auth,"network-request-failed")),_O.get())})}}function md(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Xi(i,e,s);return o.customData._tokenResponse=n,o}async function EO(i,e){return qo(i,"POST","/v1/accounts:delete",e)}async function Fd(i,e){return qo(i,"POST","/v1/accounts:lookup",e)}function oc(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TO(i,e=!1){const n=ci(i),s=await n.getIdToken(e),o=yg(s);Ne(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:s,authTime:oc(tm(o.auth_time)),issuedAtTime:oc(tm(o.iat)),expirationTime:oc(tm(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function tm(i){return Number(i)*1e3}function yg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Sd("JWT malformed, contained fewer than 3 sections"),null;try{const o=aS(n);return o?JSON.parse(o):(Sd("Failed to decode base64 JWT payload"),null)}catch(o){return Sd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function AE(i){const e=yg(i);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function bc(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Mr&&SO(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function SO({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class AO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=oc(this.lastLoginAt),this.creationTime=oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $d(i){const e=i.auth,n=await i.getIdToken(),s=await bc(i,Fd(e,{idToken:n}));Ne(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const c=o.providerUserInfo?.length?wS(o.providerUserInfo):[],u=xO(i.providerData,c),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!u?.length,g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Sm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function wO(i){const e=ci(i);await $d(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xO(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function wS(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function RO(i,e){const n=await TS(i,{},async()=>{const s=Nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,u=await AS(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Go(i.emulatorConfig.host)&&(p.credentials="include"),ES.fetch()(u,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CO(i,e){return qo(i,"POST","/v2/accounts:revokeToken",vh(i,e))}class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=AE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await RO(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,u=new So;return s&&(Ne(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(Ne(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(Ne(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return Ar("not implemented")}}function ds(i,e){Ne(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Si{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new AO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await bc(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TO(this,e)}reload(){return wO(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await $d(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ei(this.auth.app))return Promise.reject(Ts(this.auth));const e=await this.getIdToken();return await bc(this,EO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,u=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:w,providerData:N,stsTokenManager:j}=n;Ne(v&&j,e,"internal-error");const V=So.fromJSON(this.name,j);Ne(typeof v=="string",e,"internal-error"),ds(s,e.name),ds(o,e.name),Ne(typeof E=="boolean",e,"internal-error"),Ne(typeof w=="boolean",e,"internal-error"),ds(c,e.name),ds(u,e.name),ds(m,e.name),ds(p,e.name),ds(g,e.name),ds(_,e.name);const Q=new Si({uid:v,auth:e,email:o,emailVerified:E,displayName:s,isAnonymous:w,photoURL:u,phoneNumber:c,tenantId:m,stsTokenManager:V,createdAt:g,lastLoginAt:_});return N&&Array.isArray(N)&&(Q.providerData=N.map(J=>({...J}))),p&&(Q._redirectEventId=p),Q}static async _fromIdTokenResponse(e,n,s=!1){const o=new So;o.updateFromServerResponse(n);const c=new Si({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await $d(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ne(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?wS(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,m=new So;m.updateFromIdToken(s);const p=new Si({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Sm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(p,g),p}}const wE=new Map;function wr(i){Dr(i instanceof Function,"Expected a class definition");let e=wE.get(i);return e?(Dr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,wE.set(i,e),e)}class xS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xS.type="NONE";const xE=xS;function Ad(i,e,n){return`firebase:${i}:${e}:${n}`}class Ao{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Ad(this.userKey,o.apiKey,c),this.fullPersistenceKey=Ad("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fd(this.auth,{idToken:e}).catch(()=>{});return n?Si._fromGetAccountInfoResponse(this.auth,n,e):null}return Si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ao(wr(xE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||wr(xE);const u=Ad(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const _=await g._get(u);if(_){let v;if(typeof _=="string"){const E=await Fd(e,{idToken:_}).catch(()=>{});if(!E)break;v=await Si._fromGetAccountInfoResponse(e,E,_)}else v=Si._fromJSON(e,_);g!==c&&(m=v),c=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Ao(c,e,s):(c=p[0],m&&await c._set(u,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==c)try{await g._remove(u)}catch{}})),new Ao(c,e,s))}}function RE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OS(e))return"Blackberry";if(MS(e))return"Webos";if(CS(e))return"Safari";if((e.includes("chrome/")||IS(e))&&!e.includes("edge/"))return"Chrome";if(NS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function RS(i=mn()){return/firefox\//i.test(i)}function CS(i=mn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IS(i=mn()){return/crios\//i.test(i)}function DS(i=mn()){return/iemobile/i.test(i)}function NS(i=mn()){return/android/i.test(i)}function OS(i=mn()){return/blackberry/i.test(i)}function MS(i=mn()){return/webos/i.test(i)}function vg(i=mn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function IO(i=mn()){return vg(i)&&!!window.navigator?.standalone}function DO(){return FD()&&document.documentMode===10}function PS(i=mn()){return vg(i)||NS(i)||MS(i)||OS(i)||/windows phone/i.test(i)||DS(i)}function VS(i,e=[]){let n;switch(i){case"Browser":n=RE(mn());break;case"Worker":n=`${RE(mn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ho}/${s}`}class NO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((u,m)=>{try{const p=e(c);u(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function OO(i,e={}){return qo(i,"GET","/v2/passwordPolicy",vh(i,e))}const MO=6;class PO{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??MO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class VO{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CE(this),this.idTokenSubscription=new CE(this),this.beforeStateQueue=new NO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_S,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fd(this,{idToken:e}),s=await Si._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ei(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===u)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await $d(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ei(this.app))return Promise.reject(Ts(this));const n=e?ci(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ei(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ei(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OO(this),n=new PO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dc("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await CO(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wr(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let u=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(m,this,"internal-error"),m.then(()=>{u||c(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{u=!0,p()}}else{const p=e.addObserver(n);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _h(i){return ci(i)}class CE{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZD(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _g={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LO(i){_g=i}function kO(i){return _g.loadJS(i)}function UO(){return _g.gapiScript}function jO(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function BO(i,e){const n=pg(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(ba(c,e??{}))return o;Ir(o,"already-initialized")}return n.initialize({options:e})}function zO(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(wr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function GO(i,e,n){const s=_h(i);Ne(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=LS(e),{host:u,port:m}=HO(e),p=m===null?"":`:${m}`,g={url:`${c}//${u}${p}/`},_=Object.freeze({host:u,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ne(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ne(ba(g,s.config.emulator)&&ba(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Go(u)?(uS(`${c}//${u}${p}`),dS("Auth",!0)):qO()}function LS(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function HO(i){const e=LS(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:IE(s.substr(c.length+1))}}else{const[c,u]=s.split(":");return{host:c,port:IE(u)}}}function IE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function qO(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class kS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,n){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}async function wo(i,e){return SS(i,"POST","/v1/accounts:signInWithIdp",vh(i,e))}const FO="http://localhost";class Ta extends kS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const u=new Ta(s,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return wo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,wo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,wo(e,n)}buildRequest(){const e={requestUri:FO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nc(n)}return e}}class US{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Mc extends US{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hs extends Mc{constructor(){super("facebook.com")}static credential(e){return Ta._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";class fs extends Mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ta._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return fs.credential(n,s)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";class ps extends Mc{constructor(){super("github.com")}static credential(e){return Ta._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";class ms extends Mc{constructor(){super("twitter.com")}static credential(e,n){return Ta._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ms.credential(n,s)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";async function $O(i,e){return SS(i,"POST","/v1/accounts:signUp",vh(i,e))}class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await Si._fromIdTokenResponse(e,s,o),u=DE(s);return new xs({user:c,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=DE(s);return new xs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function DE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}async function YO(i){if(Ei(i.app))return Promise.reject(Ts(i));const e=_h(i);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new xs({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await $O(e,{returnSecureToken:!0}),s=await xs._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(s.user),s}class Yd extends Mr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Yd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Yd(e,n,s,o)}}function jS(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Yd._fromErrorAndOperation(i,c,e,s):c})}async function XO(i,e,n=!1){const s=await bc(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return xs._forOperation(i,"link",s)}async function QO(i,e,n=!1){const{auth:s}=i;if(Ei(s.app))return Promise.reject(Ts(s));const o="reauthenticate";try{const c=await bc(i,jS(s,o,e,i),n);Ne(c.idToken,s,"internal-error");const u=yg(c.idToken);Ne(u,s,"internal-error");const{sub:m}=u;return Ne(i.uid===m,s,"user-mismatch"),xs._forOperation(i,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ir(s,"user-mismatch"),c}}async function KO(i,e,n=!1){if(Ei(i.app))return Promise.reject(Ts(i));const s="signIn",o=await jS(i,s,e),c=await xs._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(c.user),c}function WO(i,e,n,s){return ci(i).onIdTokenChanged(e,n,s)}function JO(i,e,n){return ci(i).beforeAuthStateChanged(e,n)}function ZO(i,e,n,s){return ci(i).onAuthStateChanged(e,n,s)}const Xd="__sak";class BS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xd,"1"),this.storage.removeItem(Xd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const eM=1e3,tM=10;class zS extends BS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,m,p)=>{this.notifyListeners(u,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},c=this.storage.getItem(s);DO()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,tM):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},eM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zS.type="LOCAL";const nM=zS;class GS extends BS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}GS.type="SESSION";const HS=GS;function iM(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new bh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,u=this.handlersMap[o];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(u).map(async g=>g(n.origin,c)),p=await iM(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];function bg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class rM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((m,p)=>{const g=bg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(v){const E=v;if(E.data.eventId===g)switch(E.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(E.data.response);break;default:clearTimeout(_),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Qi(){return window}function sM(i){Qi().location.href=i}function qS(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function aM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oM(){return navigator?.serviceWorker?.controller||null}function lM(){return qS()?self:null}const FS="firebaseLocalStorageDb",cM=1,Qd="firebaseLocalStorage",$S="fbase_key";class Pc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Eh(i,e){return i.transaction([Qd],e?"readwrite":"readonly").objectStore(Qd)}function uM(){const i=indexedDB.deleteDatabase(FS);return new Pc(i).toPromise()}function Am(){const i=indexedDB.open(FS,cM);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Qd,{keyPath:$S})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Qd)?e(s):(s.close(),await uM(),e(await Am()))})})}async function NE(i,e,n){const s=Eh(i,!0).put({[$S]:e,value:n});return new Pc(s).toPromise()}async function dM(i,e){const n=Eh(i,!1).get(e),s=await new Pc(n).toPromise();return s===void 0?null:s.value}function OE(i,e){const n=Eh(i,!0).delete(e);return new Pc(n).toPromise()}const hM=800,fM=3;class YS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>fM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(lM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aM(),!this.activeServiceWorker)return;this.sender=new rM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await NE(e,Xd,"1"),await OE(e,Xd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>NE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>dM(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>OE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Eh(o,!1).getAll();return new Pc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YS.type="LOCAL";const pM=YS;new Oc(3e4,6e4);function mM(i,e){return e?wr(e):(Ne(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Eg extends kS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return wo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return wo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return wo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gM(i){return KO(i.auth,new Eg(i),i.bypassAuthState)}function yM(i){const{auth:e,user:n}=i;return Ne(n,e,"internal-error"),QO(n,new Eg(i),i.bypassAuthState)}async function vM(i){const{auth:e,user:n}=i;return Ne(n,e,"internal-error"),XO(n,new Eg(i),i.bypassAuthState)}class XS{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:u,type:m}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gM;case"linkViaPopup":case"linkViaRedirect":return vM;case"reauthViaPopup":case"reauthViaRedirect":return yM;default:Ir(this.auth,"internal-error")}}resolve(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _M=new Oc(2e3,1e4);class To extends XS{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Dr(this.filter.length===1,"Popup operations only handle one event");const e=bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Xi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_M.get())};e()}}To.currentPopupAction=null;const bM="pendingRedirect",wd=new Map;class EM extends XS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=wd.get(this.auth._key());if(!e){try{const s=await TM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}wd.set(this.auth._key(),e)}return this.bypassAuthState||wd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TM(i,e){const n=wM(e),s=AM(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function SM(i,e){wd.set(i._key(),e)}function AM(i){return wr(i._redirectPersistence)}function wM(i){return Ad(bM,i.config.apiKey,i.name)}async function xM(i,e,n=!1){if(Ei(i.app))return Promise.reject(Ts(i));const s=_h(i),o=mM(s,e),u=await new EM(s,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const RM=600*1e3;class CM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!QS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Xi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RM&&this.cachedEventUids.clear(),this.cachedEventUids.has(ME(e))}saveEventToCache(e){this.cachedEventUids.add(ME(e)),this.lastProcessedEventTime=Date.now()}}function ME(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function QS({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function IM(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QS(i);default:return!1}}async function DM(i,e={}){return qo(i,"GET","/v1/projects",e)}const NM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OM=/^https?/;async function MM(i){if(i.config.emulator)return;const{authorizedDomains:e}=await DM(i);for(const n of e)try{if(PM(n))return}catch{}Ir(i,"unauthorized-domain")}function PM(i){const e=Tm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const u=new URL(i);return u.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!OM.test(n))return!1;if(NM.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const VM=new Oc(3e4,6e4);function PE(){const i=Qi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function LM(i){return new Promise((e,n)=>{function s(){PE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PE(),n(Xi(i,"network-request-failed"))},timeout:VM.get()})}if(Qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qi().gapi?.load)s();else{const o=jO("iframefcb");return Qi()[o]=()=>{gapi.load?s():n(Xi(i,"network-request-failed"))},kO(`${UO()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw xd=null,e})}let xd=null;function kM(i){return xd=xd||LM(i),xd}const UM=new Oc(5e3,15e3),jM="__/auth/iframe",BM="emulator/auth/iframe",zM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HM(i){const e=i.config;Ne(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?gg(e,BM):`https://${i.config.authDomain}/${jM}`,s={apiKey:e.apiKey,appName:i.name,v:Ho},o=GM.get(i.config.apiHost);o&&(s.eid=o);const c=i._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Nc(s).slice(1)}`}async function qM(i){const e=await kM(i),n=Qi().gapi;return Ne(n,i,"internal-error"),e.open({where:document.body,url:HM(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zM,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const u=Xi(i,"network-request-failed"),m=Qi().setTimeout(()=>{c(u)},UM.get());function p(){Qi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{c(u)})}))}const FM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$M=500,YM=600,XM="_blank",QM="http://localhost";class VE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KM(i,e,n,s=$M,o=YM){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...FM,width:s.toString(),height:o.toString(),top:c,left:u},g=mn().toLowerCase();n&&(m=IS(g)?XM:n),RS(g)&&(e=e||QM,p.scrollbars="yes");const _=Object.entries(p).reduce((E,[w,N])=>`${E}${w}=${N},`,"");if(IO(g)&&m!=="_self")return WM(e||"",m),new VE(null);const v=window.open(e||"",m,_);Ne(v,i,"popup-blocked");try{v.focus()}catch{}return new VE(v)}function WM(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const JM="__/auth/handler",ZM="emulator/auth/handler",e4=encodeURIComponent("fac");async function LE(i,e,n,s,o,c){Ne(i.config.authDomain,i,"auth-domain-config-required"),Ne(i.config.apiKey,i,"invalid-api-key");const u={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Ho,eventId:o};if(e instanceof US){e.setDefaultLanguage(i.languageCode),u.providerId=e.providerId||"",JD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))u[_]=v}if(e instanceof Mc){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(u.scopes=_.join(","))}i.tenantId&&(u.tid=i.tenantId);const m=u;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${e4}=${encodeURIComponent(p)}`:"";return`${t4(i)}?${Nc(m).slice(1)}${g}`}function t4({config:i}){return i.emulator?gg(i,ZM):`https://${i.authDomain}/${JM}`}const nm="webStorageSupport";class n4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HS,this._completeRedirectFn=xM,this._overrideRedirectResult=SM}async _openPopup(e,n,s,o){Dr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await LE(e,n,s,Tm(),o);return KM(e,c,bg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await LE(e,n,s,Tm(),o);return sM(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Dr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await qM(e),s=new CM(e);return n.register("authEvent",o=>(Ne(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nm,{type:nm},o=>{const c=o?.[0]?.[nm];c!==void 0&&n(!!c),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PS()||CS()||vg()}}const i4=n4;var kE="@firebase/auth",UE="1.11.1";class r4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function s4(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a4(i){Oo(new Ea("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:m}=s.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:u,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VS(i)},g=new VO(s,o,c,p);return zO(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Oo(new Ea("auth-internal",e=>{const n=_h(e.getProvider("auth").getImmediate());return(s=>new r4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(kE,UE,s4(i)),Es(kE,UE,"esm2020")}const o4=300,l4=cS("authIdTokenMaxAge")||o4;let jE=null;const c4=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>l4)return;const o=n?.token;jE!==o&&(jE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function u4(i=mS()){const e=pg(i,"auth");if(e.isInitialized())return e.getImmediate();const n=BO(i,{popupRedirectResolver:i4,persistence:[pM,nM,HS]}),s=cS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const u=c4(c.toString());JO(n,u,()=>u(n.currentUser)),WO(n,m=>u(m))}}const o=oS("auth");return o&&GO(n,`http://${o}`),n}function d4(){return document.getElementsByTagName("head")?.[0]??document}LO({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const c=Xi("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",d4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a4("Browser");var BE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ss,KS;(function(){var i;function e(C,R){function I(){}I.prototype=R.prototype,C.F=R.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(P,M,B){for(var D=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)D[oe-2]=arguments[oe];return R.prototype[M].apply(P,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,R,I){I||(I=0);const P=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)P[M]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(M=0;M<16;++M)P[M]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=C.g[0],I=C.g[1],M=C.g[2];let B=C.g[3],D;D=R+(B^I&(M^B))+P[0]+3614090360&4294967295,R=I+(D<<7&4294967295|D>>>25),D=B+(M^R&(I^M))+P[1]+3905402710&4294967295,B=R+(D<<12&4294967295|D>>>20),D=M+(I^B&(R^I))+P[2]+606105819&4294967295,M=B+(D<<17&4294967295|D>>>15),D=I+(R^M&(B^R))+P[3]+3250441966&4294967295,I=M+(D<<22&4294967295|D>>>10),D=R+(B^I&(M^B))+P[4]+4118548399&4294967295,R=I+(D<<7&4294967295|D>>>25),D=B+(M^R&(I^M))+P[5]+1200080426&4294967295,B=R+(D<<12&4294967295|D>>>20),D=M+(I^B&(R^I))+P[6]+2821735955&4294967295,M=B+(D<<17&4294967295|D>>>15),D=I+(R^M&(B^R))+P[7]+4249261313&4294967295,I=M+(D<<22&4294967295|D>>>10),D=R+(B^I&(M^B))+P[8]+1770035416&4294967295,R=I+(D<<7&4294967295|D>>>25),D=B+(M^R&(I^M))+P[9]+2336552879&4294967295,B=R+(D<<12&4294967295|D>>>20),D=M+(I^B&(R^I))+P[10]+4294925233&4294967295,M=B+(D<<17&4294967295|D>>>15),D=I+(R^M&(B^R))+P[11]+2304563134&4294967295,I=M+(D<<22&4294967295|D>>>10),D=R+(B^I&(M^B))+P[12]+1804603682&4294967295,R=I+(D<<7&4294967295|D>>>25),D=B+(M^R&(I^M))+P[13]+4254626195&4294967295,B=R+(D<<12&4294967295|D>>>20),D=M+(I^B&(R^I))+P[14]+2792965006&4294967295,M=B+(D<<17&4294967295|D>>>15),D=I+(R^M&(B^R))+P[15]+1236535329&4294967295,I=M+(D<<22&4294967295|D>>>10),D=R+(M^B&(I^M))+P[1]+4129170786&4294967295,R=I+(D<<5&4294967295|D>>>27),D=B+(I^M&(R^I))+P[6]+3225465664&4294967295,B=R+(D<<9&4294967295|D>>>23),D=M+(R^I&(B^R))+P[11]+643717713&4294967295,M=B+(D<<14&4294967295|D>>>18),D=I+(B^R&(M^B))+P[0]+3921069994&4294967295,I=M+(D<<20&4294967295|D>>>12),D=R+(M^B&(I^M))+P[5]+3593408605&4294967295,R=I+(D<<5&4294967295|D>>>27),D=B+(I^M&(R^I))+P[10]+38016083&4294967295,B=R+(D<<9&4294967295|D>>>23),D=M+(R^I&(B^R))+P[15]+3634488961&4294967295,M=B+(D<<14&4294967295|D>>>18),D=I+(B^R&(M^B))+P[4]+3889429448&4294967295,I=M+(D<<20&4294967295|D>>>12),D=R+(M^B&(I^M))+P[9]+568446438&4294967295,R=I+(D<<5&4294967295|D>>>27),D=B+(I^M&(R^I))+P[14]+3275163606&4294967295,B=R+(D<<9&4294967295|D>>>23),D=M+(R^I&(B^R))+P[3]+4107603335&4294967295,M=B+(D<<14&4294967295|D>>>18),D=I+(B^R&(M^B))+P[8]+1163531501&4294967295,I=M+(D<<20&4294967295|D>>>12),D=R+(M^B&(I^M))+P[13]+2850285829&4294967295,R=I+(D<<5&4294967295|D>>>27),D=B+(I^M&(R^I))+P[2]+4243563512&4294967295,B=R+(D<<9&4294967295|D>>>23),D=M+(R^I&(B^R))+P[7]+1735328473&4294967295,M=B+(D<<14&4294967295|D>>>18),D=I+(B^R&(M^B))+P[12]+2368359562&4294967295,I=M+(D<<20&4294967295|D>>>12),D=R+(I^M^B)+P[5]+4294588738&4294967295,R=I+(D<<4&4294967295|D>>>28),D=B+(R^I^M)+P[8]+2272392833&4294967295,B=R+(D<<11&4294967295|D>>>21),D=M+(B^R^I)+P[11]+1839030562&4294967295,M=B+(D<<16&4294967295|D>>>16),D=I+(M^B^R)+P[14]+4259657740&4294967295,I=M+(D<<23&4294967295|D>>>9),D=R+(I^M^B)+P[1]+2763975236&4294967295,R=I+(D<<4&4294967295|D>>>28),D=B+(R^I^M)+P[4]+1272893353&4294967295,B=R+(D<<11&4294967295|D>>>21),D=M+(B^R^I)+P[7]+4139469664&4294967295,M=B+(D<<16&4294967295|D>>>16),D=I+(M^B^R)+P[10]+3200236656&4294967295,I=M+(D<<23&4294967295|D>>>9),D=R+(I^M^B)+P[13]+681279174&4294967295,R=I+(D<<4&4294967295|D>>>28),D=B+(R^I^M)+P[0]+3936430074&4294967295,B=R+(D<<11&4294967295|D>>>21),D=M+(B^R^I)+P[3]+3572445317&4294967295,M=B+(D<<16&4294967295|D>>>16),D=I+(M^B^R)+P[6]+76029189&4294967295,I=M+(D<<23&4294967295|D>>>9),D=R+(I^M^B)+P[9]+3654602809&4294967295,R=I+(D<<4&4294967295|D>>>28),D=B+(R^I^M)+P[12]+3873151461&4294967295,B=R+(D<<11&4294967295|D>>>21),D=M+(B^R^I)+P[15]+530742520&4294967295,M=B+(D<<16&4294967295|D>>>16),D=I+(M^B^R)+P[2]+3299628645&4294967295,I=M+(D<<23&4294967295|D>>>9),D=R+(M^(I|~B))+P[0]+4096336452&4294967295,R=I+(D<<6&4294967295|D>>>26),D=B+(I^(R|~M))+P[7]+1126891415&4294967295,B=R+(D<<10&4294967295|D>>>22),D=M+(R^(B|~I))+P[14]+2878612391&4294967295,M=B+(D<<15&4294967295|D>>>17),D=I+(B^(M|~R))+P[5]+4237533241&4294967295,I=M+(D<<21&4294967295|D>>>11),D=R+(M^(I|~B))+P[12]+1700485571&4294967295,R=I+(D<<6&4294967295|D>>>26),D=B+(I^(R|~M))+P[3]+2399980690&4294967295,B=R+(D<<10&4294967295|D>>>22),D=M+(R^(B|~I))+P[10]+4293915773&4294967295,M=B+(D<<15&4294967295|D>>>17),D=I+(B^(M|~R))+P[1]+2240044497&4294967295,I=M+(D<<21&4294967295|D>>>11),D=R+(M^(I|~B))+P[8]+1873313359&4294967295,R=I+(D<<6&4294967295|D>>>26),D=B+(I^(R|~M))+P[15]+4264355552&4294967295,B=R+(D<<10&4294967295|D>>>22),D=M+(R^(B|~I))+P[6]+2734768916&4294967295,M=B+(D<<15&4294967295|D>>>17),D=I+(B^(M|~R))+P[13]+1309151649&4294967295,I=M+(D<<21&4294967295|D>>>11),D=R+(M^(I|~B))+P[4]+4149444226&4294967295,R=I+(D<<6&4294967295|D>>>26),D=B+(I^(R|~M))+P[11]+3174756917&4294967295,B=R+(D<<10&4294967295|D>>>22),D=M+(R^(B|~I))+P[2]+718787259&4294967295,M=B+(D<<15&4294967295|D>>>17),D=I+(B^(M|~R))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+B&4294967295}s.prototype.v=function(C,R){R===void 0&&(R=C.length);const I=R-this.blockSize,P=this.C;let M=this.h,B=0;for(;B<R;){if(M==0)for(;B<=I;)o(this,C,B),B+=this.blockSize;if(typeof C=="string"){for(;B<R;)if(P[M++]=C.charCodeAt(B++),M==this.blockSize){o(this,P),M=0;break}}else for(;B<R;)if(P[M++]=C[B++],M==this.blockSize){o(this,P),M=0;break}}this.h=M,this.o+=R},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,I=0;I<4;++I)for(let P=0;P<32;P+=8)C[R++]=this.g[I]>>>P&255;return C};function c(C,R){var I=m;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=R(C)}function u(C,R){this.h=R;const I=[];let P=!0;for(let M=C.length-1;M>=0;M--){const B=C[M]|0;P&&B==R||(I[M]=B,P=!1)}this.g=I}var m={};function p(C){return-128<=C&&C<128?c(C,function(R){return new u([R|0],R<0?-1:0)}):new u([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return v;if(C<0)return V(g(-C));const R=[];let I=1;for(let P=0;C>=I;P++)R[P]=C/I|0,I*=4294967296;return new u(R,0)}function _(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return V(_(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(R,8));let P=v;for(let B=0;B<C.length;B+=8){var M=Math.min(8,C.length-B);const D=parseInt(C.substring(B,B+M),R);M<8?(M=g(Math.pow(R,M)),P=P.j(M).add(g(D))):(P=P.j(I),P=P.add(g(D)))}return P}var v=p(0),E=p(1),w=p(16777216);i=u.prototype,i.m=function(){if(j(this))return-V(this).m();let C=0,R=1;for(let I=0;I<this.g.length;I++){const P=this.i(I);C+=(P>=0?P:4294967296+P)*R,R*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(j(this))return"-"+V(this).toString(C);const R=g(Math.pow(C,6));var I=this;let P="";for(;;){const M=se(I,R).g;I=Q(I,M.j(R));let B=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=M,N(I))return B+P;for(;B.length<6;)B="0"+B;P=B+P}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function j(C){return C.h==-1}i.l=function(C){return C=Q(this,C),j(C)?-1:N(C)?0:1};function V(C){const R=C.g.length,I=[];for(let P=0;P<R;P++)I[P]=~C.g[P];return new u(I,~C.h).add(E)}i.abs=function(){return j(this)?V(this):this},i.add=function(C){const R=Math.max(this.g.length,C.g.length),I=[];let P=0;for(let M=0;M<=R;M++){let B=P+(this.i(M)&65535)+(C.i(M)&65535),D=(B>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);P=D>>>16,B&=65535,D&=65535,I[M]=D<<16|B}return new u(I,I[I.length-1]&-2147483648?-1:0)};function Q(C,R){return C.add(V(R))}i.j=function(C){if(N(this)||N(C))return v;if(j(this))return j(C)?V(this).j(V(C)):V(V(this).j(C));if(j(C))return V(this.j(V(C)));if(this.l(w)<0&&C.l(w)<0)return g(this.m()*C.m());const R=this.g.length+C.g.length,I=[];for(var P=0;P<2*R;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(let M=0;M<C.g.length;M++){const B=this.i(P)>>>16,D=this.i(P)&65535,oe=C.i(M)>>>16,Ee=C.i(M)&65535;I[2*P+2*M]+=D*Ee,J(I,2*P+2*M),I[2*P+2*M+1]+=B*Ee,J(I,2*P+2*M+1),I[2*P+2*M+1]+=D*oe,J(I,2*P+2*M+1),I[2*P+2*M+2]+=B*oe,J(I,2*P+2*M+2)}for(C=0;C<R;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=R;C<2*R;C++)I[C]=0;return new u(I,0)};function J(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function te(C,R){this.g=C,this.h=R}function se(C,R){if(N(R))throw Error("division by zero");if(N(C))return new te(v,v);if(j(C))return R=se(V(C),R),new te(V(R.g),V(R.h));if(j(R))return R=se(C,V(R)),new te(V(R.g),R.h);if(C.g.length>30){if(j(C)||j(R))throw Error("slowDivide_ only works with positive integers.");for(var I=E,P=R;P.l(C)<=0;)I=ue(I),P=ue(P);var M=ce(I,1),B=ce(P,1);for(P=ce(P,2),I=ce(I,2);!N(P);){var D=B.add(P);D.l(C)<=0&&(M=M.add(I),B=D),P=ce(P,1),I=ce(I,1)}return R=Q(C,M.j(R)),new te(M,R)}for(M=v;C.l(R)>=0;){for(I=Math.max(1,Math.floor(C.m()/R.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),B=g(I),D=B.j(R);j(D)||D.l(C)>0;)I-=P,B=g(I),D=B.j(R);N(B)&&(B=E),M=M.add(B),C=Q(C,D)}return new te(M,C)}i.B=function(C){return se(this,C).h},i.and=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<R;P++)I[P]=this.i(P)&C.i(P);return new u(I,this.h&C.h)},i.or=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<R;P++)I[P]=this.i(P)|C.i(P);return new u(I,this.h|C.h)},i.xor=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let P=0;P<R;P++)I[P]=this.i(P)^C.i(P);return new u(I,this.h^C.h)};function ue(C){const R=C.g.length+1,I=[];for(let P=0;P<R;P++)I[P]=C.i(P)<<1|C.i(P-1)>>>31;return new u(I,C.h)}function ce(C,R){const I=R>>5;R%=32;const P=C.g.length-I,M=[];for(let B=0;B<P;B++)M[B]=R>0?C.i(B+I)>>>R|C.i(B+I+1)<<32-R:C.i(B+I);return new u(M,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,KS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=_,Ss=u}).apply(typeof BE<"u"?BE:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var WS,Zl,JS,Rd,wm,ZS,eA,tA;(function(){var i,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var y=0;y<d.length;++y){var T=d[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function o(d,y){if(y)e:{var T=s;d=d.split(".");for(var x=0;x<d.length-1;x++){var G=d[x];if(!(G in T))break e;T=T[G]}d=d[d.length-1],x=T[d],y=y(x),y!=x&&y!=null&&e(T,d,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(y){var T=[],x;for(x in y)Object.prototype.hasOwnProperty.call(y,x)&&T.push([x,y[x]]);return T}});var c=c||{},u=this||self;function m(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function p(d,y,T){return d.call.apply(d.bind,arguments)}function g(d,y,T){return g=p,g.apply(null,arguments)}function _(d,y){var T=Array.prototype.slice.call(arguments,1);return function(){var x=T.slice();return x.push.apply(x,arguments),d.apply(this,x)}}function v(d,y){function T(){}T.prototype=y.prototype,d.Z=y.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(x,G,$){for(var pe=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)pe[Ve-2]=arguments[Ve];return y.prototype[G].apply(x,pe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function w(d){const y=d.length;if(y>0){const T=Array(y);for(let x=0;x<y;x++)T[x]=d[x];return T}return[]}function N(d,y){for(let x=1;x<arguments.length;x++){const G=arguments[x];var T=typeof G;if(T=T!="object"?T:G?Array.isArray(G)?"array":T:"null",T=="array"||T=="object"&&typeof G.length=="number"){T=d.length||0;const $=G.length||0;d.length=T+$;for(let pe=0;pe<$;pe++)d[T+pe]=G[pe]}else d.push(G)}}class j{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(d){u.setTimeout(()=>{throw d},0)}function Q(){var d=C;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class J{constructor(){this.h=this.g=null}add(y,T){const x=te.get();x.set(y,T),this.h?this.h.next=x:this.g=x,this.h=x}}var te=new j(()=>new se,d=>d.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,ce=!1,C=new J,R=()=>{const d=Promise.resolve(void 0);ue=()=>{d.then(I)}};function I(){for(var d;d=Q();){try{d.h.call(d.g)}catch(T){V(T)}var y=te;y.j(d),y.h<100&&(y.h++,d.next=y.g,y.g=d)}ce=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};u.addEventListener("test",T,y),u.removeEventListener("test",T,y)}catch{}return d})();function D(d){return/^[\s\xa0]*$/.test(d)}function oe(d,y){M.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,y)}v(oe,M),oe.prototype.init=function(d,y){const T=this.type=d.type,x=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget,y||(T=="mouseover"?y=d.fromElement:T=="mouseout"&&(y=d.toElement)),this.relatedTarget=y,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),K=0;function de(d,y,T,x,G){this.listener=d,this.proxy=null,this.src=y,this.type=T,this.capture=!!x,this.ha=G,this.key=++K,this.da=this.fa=!1}function le(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function je(d,y,T){for(const x in d)y.call(T,d[x],x,d)}function Xe(d,y){for(const T in d)y.call(void 0,d[T],T,d)}function L(d){const y={};for(const T in d)y[T]=d[T];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(d,y){let T,x;for(let G=1;G<arguments.length;G++){x=arguments[G];for(T in x)d[T]=x[T];for(let $=0;$<Z.length;$++)T=Z[$],Object.prototype.hasOwnProperty.call(x,T)&&(d[T]=x[T])}}function me(d){this.src=d,this.g={},this.h=0}me.prototype.add=function(d,y,T,x,G){const $=d.toString();d=this.g[$],d||(d=this.g[$]=[],this.h++);const pe=De(d,y,x,G);return pe>-1?(y=d[pe],T||(y.fa=!1)):(y=new de(y,this.src,$,!!x,G),y.fa=T,d.push(y)),y};function xe(d,y){const T=y.type;if(T in d.g){var x=d.g[T],G=Array.prototype.indexOf.call(x,y,void 0),$;($=G>=0)&&Array.prototype.splice.call(x,G,1),$&&(le(y),d.g[T].length==0&&(delete d.g[T],d.h--))}}function De(d,y,T,x){for(let G=0;G<d.length;++G){const $=d[G];if(!$.da&&$.listener==y&&$.capture==!!T&&$.ha==x)return G}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),vt={};function et(d,y,T,x,G){if(Array.isArray(y)){for(let $=0;$<y.length;$++)et(d,y[$],T,x,G);return null}return T=Vs(T),d&&d[Ee]?d.J(y,T,m(x)?!!x.capture:!1,G):Dn(d,y,T,!1,x,G)}function Dn(d,y,T,x,G,$){if(!y)throw Error("Invalid event type");const pe=m(G)?!!G.capture:!!G;let Ve=ir(d);if(Ve||(d[Ue]=Ve=new me(d)),T=Ve.add(y,T,x,pe,$),T.proxy)return T;if(x=nr(),T.proxy=x,x.src=d,x.listener=T,d.addEventListener)B||(G=pe),G===void 0&&(G=!1),d.addEventListener(y.toString(),x,G);else if(d.attachEvent)d.attachEvent(qn(y.toString()),x);else if(d.addListener&&d.removeListener)d.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return T}function nr(){function d(T){return y.call(d.src,d.listener,T)}const y=Ms;return d}function At(d,y,T,x,G){if(Array.isArray(y))for(var $=0;$<y.length;$++)At(d,y[$],T,x,G);else x=m(x)?!!x.capture:!!x,T=Vs(T),d&&d[Ee]?(d=d.i,$=String(y).toString(),$ in d.g&&(y=d.g[$],T=De(y,T,x,G),T>-1&&(le(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete d.g[$],d.h--)))):d&&(d=ir(d))&&(y=d.g[y.toString()],d=-1,y&&(d=De(y,T,x,G)),(T=d>-1?y[d]:null)&&bn(T))}function bn(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Ee])xe(y.i,d);else{var T=d.type,x=d.proxy;y.removeEventListener?y.removeEventListener(T,x,d.capture):y.detachEvent?y.detachEvent(qn(T),x):y.addListener&&y.removeListener&&y.removeListener(x),(T=ir(y))?(xe(T,d),T.h==0&&(T.src=null,y[Ue]=null)):le(d)}}}function qn(d){return d in vt?vt[d]:vt[d]="on"+d}function Ms(d,y){if(d.da)d=!0;else{y=new oe(y,this);const T=d.listener,x=d.ha||d.src;d.fa&&bn(d),d=T.call(x,y)}return d}function ir(d){return d=d[Ue],d instanceof me?d:null}var Ps="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vs(d){return typeof d=="function"?d:(d[Ps]||(d[Ps]=function(y){return d.handleEvent(y)}),d[Ps])}function Et(){P.call(this),this.i=new me(this),this.M=this,this.G=null}v(Et,P),Et.prototype[Ee]=!0,Et.prototype.removeEventListener=function(d,y,T,x){At(this,d,y,T,x)};function wt(d,y){var T,x=d.G;if(x)for(T=[];x;x=x.G)T.push(x);if(d=d.M,x=y.type||y,typeof y=="string")y=new M(y,d);else if(y instanceof M)y.target=y.target||d;else{var G=y;y=new M(x,d),he(y,G)}G=!0;let $,pe;if(T)for(pe=T.length-1;pe>=0;pe--)$=y.g=T[pe],G=wi($,x,!0,y)&&G;if($=y.g=d,G=wi($,x,!0,y)&&G,G=wi($,x,!1,y)&&G,T)for(pe=0;pe<T.length;pe++)$=y.g=T[pe],G=wi($,x,!1,y)&&G}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var d=this.i;for(const y in d.g){const T=d.g[y];for(let x=0;x<T.length;x++)le(T[x]);delete d.g[y],d.h--}}this.G=null},Et.prototype.J=function(d,y,T,x){return this.i.add(String(d),y,!1,T,x)},Et.prototype.K=function(d,y,T,x){return this.i.add(String(d),y,!0,T,x)};function wi(d,y,T,x){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();let G=!0;for(let $=0;$<y.length;++$){const pe=y[$];if(pe&&!pe.da&&pe.capture==T){const Ve=pe.listener,Ct=pe.ha||pe.src;pe.fa&&xe(d.i,pe),G=Ve.call(Ct,x)!==!1&&G}}return G&&!x.defaultPrevented}function En(d,y){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:u.setTimeout(d,y||0)}function Ia(d){d.g=En(()=>{d.g=null,d.i&&(d.i=!1,Ia(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Zt extends P{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ia(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(d){P.call(this),this.h=d,this.g={}}v(rr,P);var re=[];function _e(d){je(d.g,function(y,T){this.g.hasOwnProperty(T)&&bn(y)},d),d.g={}}rr.prototype.N=function(){rr.Z.N.call(this),_e(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ye=u.JSON.stringify,we=u.JSON.parse,We=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function xt(){}function Ls(){}var Nn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function en(){M.call(this,"d")}v(en,M);function Fn(){M.call(this,"c")}v(Fn,M);var Rt={},zc=null;function Da(){return zc=zc||new Et}Rt.Ia="serverreachability";function Gc(d){M.call(this,Rt.Ia,d)}v(Gc,M);function xi(d){const y=Da();wt(y,new Gc(y))}Rt.STAT_EVENT="statevent";function ks(d,y){M.call(this,Rt.STAT_EVENT,d),this.stat=y}v(ks,M);function Mt(d){const y=Da();wt(y,new ks(y,d))}Rt.Ja="timingevent";function Ri(d,y){M.call(this,Rt.Ja,d),this.size=y}v(Ri,M);function Ci(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},y)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function Vh(d,y,T,x,G,$){d.info(function(){if(d.g)if($){var pe="",Ve=$.split("&");for(let tt=0;tt<Ve.length;tt++){var Ct=Ve[tt].split("=");if(Ct.length>1){const gt=Ct[0];Ct=Ct[1];const Qn=gt.split("_");pe=Qn.length>=2&&Qn[1]=="type"?pe+(gt+"="+Ct+"&"):pe+(gt+"=redacted&")}}}else pe=null;else pe=$;return"XMLHTTP REQ ("+x+") [attempt "+G+"]: "+y+`
`+T+`
`+pe})}function Hc(d,y,T,x,G,$,pe){d.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+G+"]: "+y+`
`+T+`
`+$+" "+pe})}function Ii(d,y,T,x){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Lh(d,T)+(x?" "+x:"")})}function Us(d,y){d.info(function(){return"TIMEOUT: "+y})}ui.prototype.info=function(){};function Lh(d,y){if(!d.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(d=0;d<$.length;d++)if(Array.isArray($[d])){var T=$[d];if(!(T.length<2)){var x=T[1];if(Array.isArray(x)&&!(x.length<1)){var G=x[0];if(G!="noop"&&G!="stop"&&G!="close")for(let pe=1;pe<x.length;pe++)x[pe]=""}}}}return ye($)}catch{return y}}var js={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ko;function Bs(){}v(Bs,xt),Bs.prototype.g=function(){return new XMLHttpRequest},Ko=new Bs;function sr(d){return encodeURIComponent(String(d))}function qc(d){var y=1;d=d.split(":");const T=[];for(;y>0&&d.length;)T.push(d.shift()),y--;return d.length&&T.push(d.join(":")),T}function di(d,y,T,x){this.j=d,this.i=y,this.l=T,this.S=x||1,this.V=new rr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Pt={},$t={};function Di(d,y,T){d.M=1,d.A=zs(Lt(y)),d.u=T,d.R=!0,Na(d,null)}function Na(d,y){d.F=Date.now(),Ni(d),d.B=Lt(d.A);var T=d.B,x=d.S;Array.isArray(x)||(x=[String(x)]),Va(T.i,"t",x),d.C=0,T=d.j.L,d.h=new hi,d.g=su(d.j,T?y:null,!d.u),d.P>0&&(d.O=new Zt(g(d.Y,d,d.g),d.P)),y=d.V,T=d.g,x=d.ba;var G="readystatechange";Array.isArray(G)||(G&&(re[0]=G.toString()),G=re);for(let $=0;$<G.length;$++){const pe=et(T,G[$],x||y.handleEvent,!1,y.h||y);if(!pe)break;y.g[pe.key]=pe}y=d.J?L(d.J):{},d.u?(d.v||(d.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,y)):(d.v="GET",d.g.ea(d.B,d.v,null,y)),xi(),Vh(d.i,d.v,d.B,d.l,d.S,d.u)}di.prototype.ba=function(d){d=d.target;const y=this.O;y&&mi(d)==3?y.j():this.Y(d)},di.prototype.Y=function(d){try{if(d==this.g)e:{const Ve=mi(this.g),Ct=this.g.ya(),tt=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Ve!=4||Ct==7||(Ct==8||tt<=0?xi(3):xi(2)),Oi(this);var y=this.g.ca();this.X=y;var T=kh(this);if(this.o=y==200,Hc(this.i,this.v,this.B,this.l,this.S,Ve,y),this.o){if(this.U&&!this.L){t:{if(this.g){var x,G=this.g;if((x=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(x)){var $=x;break t}}$=null}if(d=$)Ii(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mi(this,d);else{this.o=!1,this.m=3,Mt(12),On(this),$n(this);break e}}if(this.R){d=!0;let gt;for(;!this.K&&this.C<T.length;)if(gt=$c(this,T),gt==$t){Ve==4&&(this.m=4,Mt(14),d=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Pt){this.m=4,Mt(15),Ii(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else Ii(this.i,this.l,gt,null),Mi(this,gt);if(Fc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||T.length!=0||this.h.h||(this.m=1,Mt(16),d=!1),this.o=this.o&&d,!d)Ii(this.i,this.l,T,"[Invalid Chunked Response]"),On(this),$n(this);else if(T.length>0&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.aa&&!pe.P&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),dl(pe),pe.P=!0,Mt(11))}}else Ii(this.i,this.l,T,null),Mi(this,T);Ve==4&&On(this),this.o&&!this.K&&(Ve==4?tu(this.j,this):(this.o=!1,Ni(this)))}else or(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Mt(12)):(this.m=0,Mt(13)),On(this),$n(this)}}}catch{}finally{}};function kh(d){if(!Fc(d))return d.g.la();const y=tn(d.g);if(y==="")return"";let T="";const x=y.length,G=mi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return On(d),$n(d),"";d.h.i=new u.TextDecoder}for(let $=0;$<x;$++)d.h.h=!0,T+=d.h.i.decode(y[$],{stream:!(G&&$==x-1)});return y.length=0,d.h.g+=T,d.C=0,d.h.g}function Fc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function $c(d,y){var T=d.C,x=y.indexOf(`
`,T);return x==-1?$t:(T=Number(y.substring(T,x)),isNaN(T)?Pt:(x+=1,x+T>y.length?$t:(y=y.slice(x,x+T),d.C=x+T,y)))}di.prototype.cancel=function(){this.K=!0,On(this)};function Ni(d){d.T=Date.now()+d.H,Oa(d,d.H)}function Oa(d,y){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ci(g(d.aa,d),y)}function Oi(d){d.D&&(u.clearTimeout(d.D),d.D=null)}di.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Us(this.i,this.B),this.M!=2&&(xi(),Mt(17)),On(this),this.m=2,$n(this)):Oa(this,this.T-d)};function $n(d){d.j.I==0||d.K||tu(d.j,d)}function On(d){Oi(d);var y=d.O;y&&typeof y.dispose=="function"&&y.dispose(),d.O=null,_e(d.V),d.g&&(y=d.g,d.g=null,y.abort(),y.dispose())}function Mi(d,y){try{var T=d.j;if(T.I!=0&&(T.g==d||Vi(T.h,d))){if(!d.L&&Vi(T.h,d)&&T.I==3){try{var x=T.Ba.g.parse(y)}catch{x=null}if(Array.isArray(x)&&x.length==3){var G=x;if(G[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)Ba(T),zr(T);else break e;Xs(T),Mt(18)}}else T.xa=G[1],0<T.xa-T.K&&G[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Ci(g(T.Va,T),6e3));Pi(T.h)<=1&&T.ta&&(T.ta=void 0)}else zi(T,11)}else if((d.L||T.g==d)&&Ba(T),!D(y))for(G=T.Ba.g.parse(y),y=0;y<G.length;y++){let tt=G[y];const gt=tt[0];if(!(gt<=T.K))if(T.K=gt,tt=tt[1],T.I==2)if(tt[0]=="c"){T.M=tt[1],T.ba=tt[2];const Qn=tt[3];Qn!=null&&(T.ka=Qn,T.j.info("VER="+T.ka));const Gi=tt[4];Gi!=null&&(T.za=Gi,T.j.info("SVER="+T.za));const gi=tt[5];gi!=null&&typeof gi=="number"&&gi>0&&(x=1.5*gi,T.O=x,T.j.info("backChannelRequestTimeoutMs_="+x)),x=T;const yi=d.g;if(yi){const Qs=yi.g?yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qs){var $=x.h;$.g||Qs.indexOf("spdy")==-1&&Qs.indexOf("quic")==-1&&Qs.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Zo($,$.h),$.h=null))}if(x.G){const za=yi.g?yi.g.getResponseHeader("X-HTTP-Session-Id"):null;za&&(x.wa=za,st(x.J,x.G,za))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),x=T;var pe=d;if(x.na=ru(x,x.L?x.ba:null,x.W),pe.L){el(x.h,pe);var Ve=pe,Ct=x.O;Ct&&(Ve.H=Ct),Ve.D&&(Oi(Ve),Ni(Ve)),x.g=pe}else Zc(x);T.i.length>0&&Bi(T)}else tt[0]!="stop"&&tt[0]!="close"||zi(T,7);else T.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?zi(T,7):cl(T):tt[0]!="noop"&&T.l&&T.l.qa(tt),T.A=0)}}xi(4)}catch{}}var Vt=class{constructor(d,y){this.g=d,this.map=y}};function Wo(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Jo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Pi(d){return d.h?1:d.g?d.g.size:0}function Vi(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function Zo(d,y){d.g?d.g.add(y):d.h=y}function el(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Wo.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function tl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const T of d.g.values())y=y.concat(T.G);return y}return w(d.i)}var Yc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ma(d,y){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const x=d[T].indexOf("=");let G,$=null;x>=0?(G=d[T].substring(0,x),$=d[T].substring(x+1)):G=d[T],y(G,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Mn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;d instanceof Mn?(this.l=d.l,Yt(this,d.j),this.o=d.o,this.g=d.g,Pr(this,d.u),this.h=d.h,nl(this,Wc(d.i)),this.m=d.m):d&&(y=String(d).match(Yc))?(this.l=!1,Yt(this,y[1]||"",!0),this.o=Li(y[2]||""),this.g=Li(y[3]||"",!0),Pr(this,y[4]),this.h=Li(y[5]||"",!0),nl(this,y[6]||"",!0),this.m=Li(y[7]||"")):(this.l=!1,this.i=new Lr(null,this.l))}Mn.prototype.toString=function(){const d=[];var y=this.j;y&&d.push(Gs(y,Pa,!0),":");var T=this.g;return(T||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Gs(y,Pa,!0),"@"),d.push(sr(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(Gs(T,T.charAt(0)=="/"?il:Xc,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",Gs(T,Qc)),d.join("")},Mn.prototype.resolve=function(d){const y=Lt(this);let T=!!d.j;T?Yt(y,d.j):T=!!d.o,T?y.o=d.o:T=!!d.g,T?y.g=d.g:T=d.u!=null;var x=d.h;if(T)Pr(y,d.u);else if(T=!!d.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var G=y.h.lastIndexOf("/");G!=-1&&(x=y.h.slice(0,G+1)+x)}if(G=x,G==".."||G==".")x="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){x=G.lastIndexOf("/",0)==0,G=G.split("/");const $=[];for(let pe=0;pe<G.length;){const Ve=G[pe++];Ve=="."?x&&pe==G.length&&$.push(""):Ve==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),x&&pe==G.length&&$.push("")):($.push(Ve),x=!0)}x=$.join("/")}else x=G}return T?y.h=x:T=d.i.toString()!=="",T?nl(y,Wc(d.i)):T=!!d.m,T&&(y.m=d.m),y};function Lt(d){return new Mn(d)}function Yt(d,y,T){d.j=T?Li(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Pr(d,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);d.u=y}else d.u=null}function nl(d,y,T){y instanceof Lr?(d.i=y,La(d.i,d.l)):(T||(y=Gs(y,Vr)),d.i=new Lr(y,d.l))}function st(d,y,T){d.i.set(y,T)}function zs(d){return st(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Li(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Gs(d,y,T){return typeof d=="string"?(d=encodeURI(d).replace(y,Tn),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Tn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Pa=/[#\/\?@]/g,Xc=/[#\?:]/g,il=/[#\?]/g,Vr=/[#\?@]/g,Qc=/#/g;function Lr(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Sn(d){d.g||(d.g=new Map,d.h=0,d.i&&Ma(d.i,function(y,T){d.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}i=Lr.prototype,i.add=function(d,y){Sn(this),this.i=null,d=kr(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(y),this.h+=1,this};function Kc(d,y){Sn(d),y=kr(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function rl(d,y){return Sn(d),y=kr(d,y),d.g.has(y)}i.forEach=function(d,y){Sn(this),this.g.forEach(function(T,x){T.forEach(function(G){d.call(y,G,x,this)},this)},this)};function sl(d,y){Sn(d);let T=[];if(typeof y=="string")rl(d,y)&&(T=T.concat(d.g.get(kr(d,y))));else for(d=Array.from(d.g.values()),y=0;y<d.length;y++)T=T.concat(d[y]);return T}i.set=function(d,y){return Sn(this),this.i=null,d=kr(this,d),rl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},i.get=function(d,y){return d?(d=sl(this,d),d.length>0?String(d[0]):y):y};function Va(d,y,T){Kc(d,y),T.length>0&&(d.i=null,d.g.set(kr(d,y),w(T)),d.h+=T.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(let x=0;x<y.length;x++){var T=y[x];const G=sr(T);T=sl(this,T);for(let $=0;$<T.length;$++){let pe=G;T[$]!==""&&(pe+="="+sr(T[$])),d.push(pe)}}return this.i=d.join("&")};function Wc(d){const y=new Lr;return y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),y}function kr(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function La(d,y){y&&!d.j&&(Sn(d),d.i=null,d.g.forEach(function(T,x){const G=x.toLowerCase();x!=G&&(Kc(this,x),Va(this,G,T))},d)),d.j=y}function fi(d,y){const T=new ui;if(u.Image){const x=new Image;x.onload=_(Yn,T,"TestLoadImage: loaded",!0,y,x),x.onerror=_(Yn,T,"TestLoadImage: error",!1,y,x),x.onabort=_(Yn,T,"TestLoadImage: abort",!1,y,x),x.ontimeout=_(Yn,T,"TestLoadImage: timeout",!1,y,x),u.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=d}else y(!1)}function al(d,y){const T=new ui,x=new AbortController,G=setTimeout(()=>{x.abort(),Yn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:x.signal}).then($=>{clearTimeout(G),$.ok?Yn(T,"TestPingServer: ok",!0,y):Yn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),Yn(T,"TestPingServer: error",!1,y)})}function Yn(d,y,T,x,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),x(T)}catch{}}function Ur(){this.g=new We}function ki(d){this.i=d.Sb||null,this.h=d.ab||!1}v(ki,xt),ki.prototype.g=function(){return new Hs(this.i,this.h)};function Hs(d,y){Et.call(this),this.H=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Hs,Et),i=Hs.prototype,i.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=y,this.readyState=1,pi(this)},i.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(y.body=d),(this.H||u).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},i.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ka(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function ka(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}i.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?jr(this):pi(this),this.readyState==3&&ka(this)}},i.Oa=function(d){this.g&&(this.response=this.responseText=d,jr(this))},i.Na=function(d){this.g&&(this.response=d,jr(this))},i.ga=function(){this.g&&jr(this)};function jr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,pi(d)}i.setRequestHeader=function(d,y){this.A.append(d,y)},i.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=y.next();return d.join(`\r
`)};function pi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Xn(d){let y="";return je(d,function(T,x){y+=x,y+=":",y+=T,y+=`\r
`}),y}function qs(d,y,T){e:{for(x in T){var x=!1;break e}x=!0}x||(T=Xn(T),typeof d=="string"?T!=null&&sr(T):st(d,y,T))}function lt(d){Et.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(lt,Et);var Ui=/^https?$/i,ol=["POST","PUT"];i=lt.prototype,i.Fa=function(d){this.H=d},i.ea=function(d,y,T,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ko.g(),this.g.onreadystatechange=E(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch($){Fs(this,$);return}if(d=T||"",T=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var G in x)T.set(G,x[G]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const $ of x.keys())T.set($,x.get($));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(T.keys()).find($=>$.toLowerCase()=="content-type"),G=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(ol,y,void 0)>=0)||x||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,pe]of T)this.g.setRequestHeader($,pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch($){Fs(this,$)}};function Fs(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.o=5,ll(d),ar(d)}function ll(d){d.A||(d.A=!0,wt(d,"complete"),wt(d,"error"))}i.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,wt(this,"complete"),wt(this,"abort"),ar(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ar(this,!0)),lt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?$s(this):this.Xa())},i.Xa=function(){$s(this)};function $s(d){if(d.h&&typeof c<"u"){if(d.v&&mi(d)==4)setTimeout(d.Ca.bind(d),0);else if(wt(d,"readystatechange"),mi(d)==4){d.h=!1;try{const $=d.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var x;if(x=$===0){let pe=String(d.D).match(Yc)[1]||null;!pe&&u.self&&u.self.location&&(pe=u.self.location.protocol.slice(0,-1)),x=!Ui.test(pe?pe.toLowerCase():"")}T=x}if(T)wt(d,"complete"),wt(d,"success");else{d.o=6;try{var G=mi(d)>2?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.ca()+"]",ll(d)}}finally{ar(d)}}}}function ar(d,y){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,y||wt(d,"ready");try{T.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function mi(d){return d.g?d.g.readyState:0}i.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),we(y)}};function tn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function or(d){const y={};d=(d.g&&mi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<d.length;x++){if(D(d[x]))continue;var T=qc(d[x]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const $=y[G]||[];y[G]=$,$.push(T)}Xe(y,function(x){return x.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(d,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||y}function Br(d){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,d),this.Za=ji("retryDelaySeedMs",1e4,d),this.Ta=ji("forwardChannelMaxRetries",2,d),this.va=ji("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Wo(d&&d.concurrentRequestLimit),this.Ba=new Ur,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Br.prototype,i.ka=8,i.I=1,i.connect=function(d,y,T,x){Mt(0),this.W=d,this.H=y||{},T&&x!==void 0&&(this.H.OSID=T,this.H.OAID=x),this.F=this.X,this.J=ru(this,null,this.W),Bi(this)};function cl(d){if(Ua(d),d.I==3){var y=d.V++,T=Lt(d.J);if(st(T,"SID",d.M),st(T,"RID",y),st(T,"TYPE","terminate"),Ys(d,T),y=new di(d,d.j,y),y.M=2,y.A=zs(Lt(T)),T=!1,u.navigator&&u.navigator.sendBeacon)try{T=u.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&u.Image&&(new Image().src=y.A,T=!0),T||(y.g=su(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ni(y)}iu(d)}function zr(d){d.g&&(dl(d),d.g.cancel(),d.g=null)}function Ua(d){zr(d),d.v&&(u.clearTimeout(d.v),d.v=null),Ba(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function Bi(d){if(!Jo(d.h)&&!d.m){d.m=!0;var y=d.Ea;ue||R(),ce||(ue(),ce=!0),C.add(y,d),d.D=0}}function ja(d,y){return Pi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=y.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ci(g(d.Ea,d,y),nu(d,d.D)),d.D++,!0)}i.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const G=new di(this,this.j,d);let $=this.o;if(this.U&&($?($=L($),he($,this.U)):$=this.U),this.u!==null||this.R||(G.J=$,$=null),this.S)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var x=this.i[T];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(y+=x,y>4096){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=Jc(this,G,y),T=Lt(this.J),st(T,"RID",d),st(T,"CVER",22),this.G&&st(T,"X-HTTP-Session-Id",this.G),Ys(this,T),$&&(this.R?y="headers="+sr(Xn($))+"&"+y:this.u&&qs(T,this.u,$)),Zo(this.h,G),this.Ra&&st(T,"TYPE","init"),this.S?(st(T,"$req",y),st(T,"SID","null"),G.U=!0,Di(G,T,null)):Di(G,T,y),this.I=2}}else this.I==3&&(d?ul(this,d):this.i.length==0||Jo(this.h)||ul(this))};function ul(d,y){var T;y?T=y.l:T=d.V++;const x=Lt(d.J);st(x,"SID",d.M),st(x,"RID",T),st(x,"AID",d.K),Ys(d,x),d.u&&d.o&&qs(x,d.u,d.o),T=new di(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),y&&(d.i=y.G.concat(d.i)),y=Jc(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Zo(d.h,T),Di(T,x,y)}function Ys(d,y){d.H&&je(d.H,function(T,x){st(y,x,T)}),d.l&&je({},function(T,x){st(y,x,T)})}function Jc(d,y,T){T=Math.min(d.i.length,T);const x=d.l?g(d.l.Ka,d.l,d):null;e:{var G=d.i;let Ve=-1;for(;;){const Ct=["count="+T];Ve==-1?T>0?(Ve=G[0].g,Ct.push("ofs="+Ve)):Ve=0:Ct.push("ofs="+Ve);let tt=!0;for(let gt=0;gt<T;gt++){var $=G[gt].g;const Qn=G[gt].map;if($-=Ve,$<0)Ve=Math.max(0,G[gt].g-100),tt=!1;else try{$="req"+$+"_"||"";try{var pe=Qn instanceof Map?Qn:Object.entries(Qn);for(const[Gi,gi]of pe){let yi=gi;m(gi)&&(yi=ye(gi)),Ct.push($+Gi+"="+encodeURIComponent(yi))}}catch(Gi){throw Ct.push($+"type="+encodeURIComponent("_badmap")),Gi}}catch{x&&x(Qn)}}if(tt){pe=Ct.join("&");break e}}pe=void 0}return d=d.i.splice(0,T),y.G=d,pe}function Zc(d){if(!d.g&&!d.v){d.Y=1;var y=d.Da;ue||R(),ce||(ue(),ce=!0),C.add(y,d),d.A=0}}function Xs(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ci(g(d.Da,d),nu(d,d.A)),d.A++,!0)}i.Da=function(){if(this.v=null,eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ci(g(this.Wa,this),d)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Mt(10),zr(this),eu(this))};function dl(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function eu(d){d.g=new di(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var y=Lt(d.na);st(y,"RID","rpc"),st(y,"SID",d.M),st(y,"AID",d.K),st(y,"CI",d.F?"0":"1"),!d.F&&d.ia&&st(y,"TO",d.ia),st(y,"TYPE","xmlhttp"),Ys(d,y),d.u&&d.o&&qs(y,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=zs(Lt(y)),T.u=null,T.R=!0,Na(T,d)}i.Va=function(){this.C!=null&&(this.C=null,zr(this),Xs(this),Mt(19))};function Ba(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function tu(d,y){var T=null;if(d.g==y){Ba(d),dl(d),d.g=null;var x=2}else if(Vi(d.h,y))T=y.G,el(d.h,y),x=1;else return;if(d.I!=0){if(y.o)if(x==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var G=d.D;x=Da(),wt(x,new Ri(x,T)),Bi(d)}else Zc(d);else if(G=y.m,G==3||G==0&&y.X>0||!(x==1&&ja(d,y)||x==2&&Xs(d)))switch(T&&T.length>0&&(y=d.h,y.i=y.i.concat(T)),G){case 1:zi(d,5);break;case 4:zi(d,10);break;case 3:zi(d,6);break;default:zi(d,2)}}}function nu(d,y){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*y}function zi(d,y){if(d.j.info("Error code "+y),y==2){var T=g(d.bb,d),x=d.Ua;const G=!x;x=new Mn(x||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Yt(x,"https"),zs(x),G?fi(x.toString(),T):al(x.toString(),T)}else Mt(2);d.I=0,d.l&&d.l.pa(y),iu(d),Ua(d)}i.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Mt(2)):(this.j.info("Failed to ping google.com"),Mt(1))};function iu(d){if(d.I=0,d.ja=[],d.l){const y=tl(d.h);(y.length!=0||d.i.length!=0)&&(N(d.ja,y),N(d.ja,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.oa()}}function ru(d,y,T){var x=T instanceof Mn?Lt(T):new Mn(T);if(x.g!="")y&&(x.g=y+"."+x.g),Pr(x,x.u);else{var G=u.location;x=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;const $=new Mn(null);x&&Yt($,x),y&&($.g=y),G&&Pr($,G),T&&($.h=T),x=$}return T=d.G,y=d.wa,T&&y&&st(x,T,y),st(x,"VER",d.ka),Ys(d,x),x}function su(d,y,T){if(y&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Aa&&!d.ma?new lt(new ki({ab:T})):new lt(d.ma),y.Fa(d.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}i=au.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Gr(){}Gr.prototype.g=function(d,y){return new gn(d,y)};function gn(d,y){Et.call(this),this.g=new Br(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(d?d["X-WebChannel-Client-Profile"]=y.sa:d={"X-WebChannel-Client-Profile":y.sa}),this.g.U=d,(d=y&&y.Qb)&&!D(d)&&(this.g.u=d),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!D(y)&&(this.g.G=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new lr(this)}v(gn,Et),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){cl(this.g)},gn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=ye(d),d=T);y.i.push(new Vt(y.Ya++,d)),y.I==3&&Bi(y)},gn.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,gn.Z.N.call(this)};function ou(d){en.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const T in y){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}v(ou,en);function lu(){Fn.call(this),this.status=1}v(lu,Fn);function lr(d){this.g=d}v(lr,au),lr.prototype.ra=function(){wt(this.g,"a")},lr.prototype.qa=function(d){wt(this.g,new ou(d))},lr.prototype.pa=function(d){wt(this.g,new lu)},lr.prototype.oa=function(){wt(this.g,"b")},Gr.prototype.createWebChannel=Gr.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,tA=function(){return new Gr},eA=function(){return Da()},ZS=Rt,wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},js.NO_ERROR=0,js.TIMEOUT=8,js.HTTP_ERROR=6,Rd=js,Qo.COMPLETE="complete",JS=Qo,Ls.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Zl=Ls,lt.prototype.listenOnce=lt.prototype.K,lt.prototype.getLastError=lt.prototype.Ha,lt.prototype.getLastErrorCode=lt.prototype.ya,lt.prototype.getStatus=lt.prototype.ca,lt.prototype.getResponseJson=lt.prototype.La,lt.prototype.getResponseText=lt.prototype.la,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Fa,WS=lt}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const zE="@firebase/firestore",GE="4.9.2";class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");let Fo="12.3.0";const Sa=new hg("@firebase/firestore");function vo(){return Sa.logLevel}function ge(i,...e){if(Sa.logLevel<=qe.DEBUG){const n=e.map(Tg);Sa.debug(`Firestore (${Fo}): ${i}`,...n)}}function Nr(i,...e){if(Sa.logLevel<=qe.ERROR){const n=e.map(Tg);Sa.error(`Firestore (${Fo}): ${i}`,...n)}}function Mo(i,...e){if(Sa.logLevel<=qe.WARN){const n=e.map(Tg);Sa.warn(`Firestore (${Fo}): ${i}`,...n)}}function Tg(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ie(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,nA(i,s,n)}function nA(i,e,n){let s=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Nr(s),new Error(s)}function rt(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||nA(e,o,s)}function Pe(i,e){return i}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ga{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class iA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(fn.UNAUTHENTICATED)))}shutdown(){}}class f4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class p4{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new ga;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ga,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const p=c;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ga)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(rt(typeof s.accessToken=="string",31837,{l:s}),new iA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class m4{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class g4{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new m4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class HE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const s=c=>{c.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new HE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new HE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function v4(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Sg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=v4(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function Fe(i,e){return i<e?-1:i>e?1:0}function xm(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),c=e.charAt(s);if(o!==c)return im(o)===im(c)?Fe(o,c):im(o)?1:-1}return Fe(i.length,e.length)}const _4=55296,b4=57343;function im(i){const e=i.charCodeAt(0);return e>=_4&&e<=b4}function Po(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const qE="__name__";class Yi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ie(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ie(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=Yi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Fe(e.length,n.length)}static compareSegments(e,n){const s=Yi.isNumericId(e),o=Yi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Yi.extractNumericId(e).compare(Yi.extractNumericId(n)):xm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ss.fromString(e.substring(4,e.length-2))}}class _t extends Yi{construct(e,n,s){return new _t(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Se(ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new _t(n)}static emptyPath(){return new _t([])}}const E4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Yi{construct(e,n,s){return new ln(e,n,s)}static isValidIdentifier(e){return E4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qE}static keyField(){return new ln([qE])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new Se(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Se(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Se(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(u=!u,o++):m!=="."||u?(s+=m,o++):(c(),o++)}if(c(),u)throw new Se(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}class Re{constructor(e){this.path=e}static fromPath(e){return new Re(_t.fromString(e))}static fromName(e){return new Re(_t.fromString(e).popFirst(5))}static empty(){return new Re(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _t.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new _t(e.slice()))}}function T4(i,e,n){if(!n)throw new Se(ae.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function S4(i,e,n,s){if(e===!0&&s===!0)throw new Se(ae.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function FE(i){if(!Re.isDocumentKey(i))throw new Se(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function rA(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Ag(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ie(12329,{type:typeof i})}function xo(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Se(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ag(i);throw new Se(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Gt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Vc(i,e){if(!rA(i))throw new Se(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const u=i[s];if(o&&typeof u!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new Se(ae.INVALID_ARGUMENT,n);return!0}const $E=-62135596800,YE=1e6;class mt{static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*YE);return new mt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$E)throw new Se(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YE}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vc(e,mt._jsonSchema))return new mt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$E;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mt._jsonSchemaVersion="firestore/timestamp/1.0",mt._jsonSchema={type:Gt("string",mt._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new mt(0,0))}static max(){return new Oe(new mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ec=-1;function A4(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Oe.fromTimestamp(s===1e9?new mt(n+1,0):new mt(n,s));return new Rs(o,Re.empty(),e)}function w4(i){return new Rs(i.readTime,i.key,Ec)}class Rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Rs(Oe.min(),Re.empty(),Ec)}static max(){return new Rs(Oe.max(),Re.empty(),Ec)}}function x4(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(i.documentKey,e.documentKey),n!==0?n:Fe(i.largestBatchId,e.largestBatchId))}const R4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function $o(i){if(i.code!==ae.FAILED_PRECONDITION||i.message!==R4)throw i;ge("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,c=0,u=!1;e.forEach((m=>{++o,m.next((()=>{++c,u&&c===o&&n()}),(p=>s(p)))})),u=!0,c===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,c)=>{s.push(n.call(this,o,c))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const c=e.length,u=new Array(c);let m=0;for(let p=0;p<c;p++){const g=p;n(e[g]).next((_=>{u[g]=_,++m,m===c&&s(u)}),(_=>o(_)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):s()};c()}))}}function I4(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yo(i){return i.name==="IndexedDbTransactionError"}class Th{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Th.ce=-1;const wg=-1;function Sh(i){return i==null}function Kd(i){return i===0&&1/i==-1/0}function D4(i){return typeof i=="number"&&Number.isInteger(i)&&!Kd(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const sA="";function N4(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=XE(e)),e=O4(i.get(n),e);return XE(e)}function O4(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const c=i.charAt(o);switch(c){case"\0":n+="";break;case sA:n+="";break;default:n+=c}}return n}function XE(i){return i+sA+""}function QE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function wa(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function aA(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class bt{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new bt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??on.RED,this.left=o??on.EMPTY,this.right=c??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new on(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new KE(this.data.getIterator())}getIteratorFrom(e){return new KE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class KE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ai{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Ai([])}unionWith(e){let n=new Ft(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ai(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class oA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new oA("Invalid base64 string: "+c):c}})(e);return new un(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const M4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(i){if(rt(!!i,39018),typeof i=="string"){let e=0;const n=M4.exec(i);if(rt(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Nt(i.seconds),nanos:Nt(i.nanos)}}function Nt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Is(i){return typeof i=="string"?un.fromBase64String(i):un.fromUint8Array(i)}const lA="server_timestamp",cA="__type__",uA="__previous_value__",dA="__local_write_time__";function xg(i){return(i?.mapValue?.fields||{})[cA]?.stringValue===lA}function Ah(i){const e=i.mapValue.fields[uA];return xg(e)?Ah(e):e}function Tc(i){const e=Cs(i.mapValue.fields[dA].timestampValue);return new mt(e.seconds,e.nanos)}class P4{constructor(e,n,s,o,c,u,m,p,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Wd="(default)";class Sc{constructor(e,n){this.projectId=e,this.database=n||Wd}static empty(){return new Sc("","")}get isDefaultDatabase(){return this.database===Wd}isEqual(e){return e instanceof Sc&&e.projectId===this.projectId&&e.database===this.database}}const hA="__type__",V4="__max__",vd={mapValue:{}},fA="__vector__",Jd="value";function Ds(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?xg(i)?4:k4(i)?9007199254740991:L4(i)?10:11:Ie(28295,{value:i})}function er(i,e){if(i===e)return!0;const n=Ds(i);if(n!==Ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Tc(i).isEqual(Tc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Cs(o.timestampValue),m=Cs(c.timestampValue);return u.seconds===m.seconds&&u.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,c){return Is(o.bytesValue).isEqual(Is(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,c){return Nt(o.geoPointValue.latitude)===Nt(c.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(c.geoPointValue.longitude)})(i,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Nt(o.integerValue)===Nt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=Nt(o.doubleValue),m=Nt(c.doubleValue);return u===m?Kd(u)===Kd(m):isNaN(u)&&isNaN(m)}return!1})(i,e);case 9:return Po(i.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},m=c.mapValue.fields||{};if(QE(u)!==QE(m))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(m[p]===void 0||!er(u[p],m[p])))return!1;return!0})(i,e);default:return Ie(52216,{left:i})}}function Ac(i,e){return(i.values||[]).find((n=>er(n,e)))!==void 0}function Vo(i,e){if(i===e)return 0;const n=Ds(i),s=Ds(e);if(n!==s)return Fe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(i.booleanValue,e.booleanValue);case 2:return(function(c,u){const m=Nt(c.integerValue||c.doubleValue),p=Nt(u.integerValue||u.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return WE(i.timestampValue,e.timestampValue);case 4:return WE(Tc(i),Tc(e));case 5:return xm(i.stringValue,e.stringValue);case 6:return(function(c,u){const m=Is(c),p=Is(u);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(c,u){const m=c.split("/"),p=u.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Fe(m[g],p[g]);if(_!==0)return _}return Fe(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,u){const m=Fe(Nt(c.latitude),Nt(u.latitude));return m!==0?m:Fe(Nt(c.longitude),Nt(u.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return JE(i.arrayValue,e.arrayValue);case 10:return(function(c,u){const m=c.fields||{},p=u.fields||{},g=m[Jd]?.arrayValue,_=p[Jd]?.arrayValue,v=Fe(g?.values?.length||0,_?.values?.length||0);return v!==0?v:JE(g,_)})(i.mapValue,e.mapValue);case 11:return(function(c,u){if(c===vd.mapValue&&u===vd.mapValue)return 0;if(c===vd.mapValue)return 1;if(u===vd.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),g=u.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let v=0;v<p.length&&v<_.length;++v){const E=xm(p[v],_[v]);if(E!==0)return E;const w=Vo(m[p[v]],g[_[v]]);if(w!==0)return w}return Fe(p.length,_.length)})(i.mapValue,e.mapValue);default:throw Ie(23264,{he:n})}}function WE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Fe(i,e);const n=Cs(i),s=Cs(e),o=Fe(n.seconds,s.seconds);return o!==0?o:Fe(n.nanos,s.nanos)}function JE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=Vo(n[o],s[o]);if(c)return c}return Fe(n.length,s.length)}function Lo(i){return Rm(i)}function Rm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Cs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Is(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Re.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=Rm(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const u of s)c?c=!1:o+=",",o+=`${u}:${Rm(n.fields[u])}`;return o+"}"})(i.mapValue):Ie(61005,{value:i})}function Cd(i){switch(Ds(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ah(i);return e?16+Cd(e):16;case 5:return 2*i.stringValue.length;case 6:return Is(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Cd(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return wa(s.fields,((c,u)=>{o+=c.length+Cd(u)})),o})(i.mapValue);default:throw Ie(13486,{value:i})}}function Cm(i){return!!i&&"integerValue"in i}function Rg(i){return!!i&&"arrayValue"in i}function ZE(i){return!!i&&"nullValue"in i}function e0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Id(i){return!!i&&"mapValue"in i}function L4(i){return(i?.mapValue?.fields||{})[hA]?.stringValue===fA}function lc(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return wa(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=lc(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=lc(i.arrayValue.values[n]);return e}return{...i}}function k4(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===V4}class si{constructor(e){this.value=e}static empty(){return new si({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Id(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=lc(n)}setAll(e){let n=ln.emptyPath(),s={},o=[];e.forEach(((u,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}u?s[m.lastSegment()]=lc(u):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());Id(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Id(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){wa(n,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new si(lc(this.value))}}function pA(i){const e=[];return wa(i.fields,((n,s)=>{const o=new ln([n]);if(Id(s)){const c=pA(s.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new Ai(e)}class pn{constructor(e,n,s,o,c,u,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=u,this.documentState=m}static newInvalidDocument(e){return new pn(e,0,Oe.min(),Oe.min(),Oe.min(),si.empty(),0)}static newFoundDocument(e,n,s,o){return new pn(e,1,n,Oe.min(),s,o,0)}static newNoDocument(e,n){return new pn(e,2,n,Oe.min(),Oe.min(),si.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Oe.min(),Oe.min(),si.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=si.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=si.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zd{constructor(e,n){this.position=e,this.inclusive=n}}function t0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const c=e[o],u=i.position[o];if(c.field.isKeyField()?s=Re.comparator(Re.fromName(u.referenceValue),n.key):s=Vo(u,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function n0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!er(i.position[n],e.position[n]))return!1;return!0}class eh{constructor(e,n="asc"){this.field=e,this.dir=n}}function U4(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class mA{}class qt extends mA{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new B4(e,n,s):n==="array-contains"?new H4(e,s):n==="in"?new q4(e,s):n==="not-in"?new F4(e,s):n==="array-contains-any"?new $4(e,s):new qt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new z4(e,s):new G4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vo(n,this.value)):n!==null&&Ds(this.value)===Ds(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends mA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new tr(e,n)}matches(e){return gA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gA(i){return i.op==="and"}function yA(i){return j4(i)&&gA(i)}function j4(i){for(const e of i.filters)if(e instanceof tr)return!1;return!0}function Im(i){if(i instanceof qt)return i.field.canonicalString()+i.op.toString()+Lo(i.value);if(yA(i))return i.filters.map((e=>Im(e))).join(",");{const e=i.filters.map((n=>Im(n))).join(",");return`${i.op}(${e})`}}function vA(i,e){return i instanceof qt?(function(s,o){return o instanceof qt&&s.op===o.op&&s.field.isEqual(o.field)&&er(s.value,o.value)})(i,e):i instanceof tr?(function(s,o){return o instanceof tr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,u,m)=>c&&vA(u,o.filters[m])),!0):!1})(i,e):void Ie(19439)}function _A(i){return i instanceof qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`})(i):i instanceof tr?(function(n){return n.op.toString()+" {"+n.getFilters().map(_A).join(" ,")+"}"})(i):"Filter"}class B4 extends qt{constructor(e,n,s){super(e,n,s),this.key=Re.fromName(s.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class z4 extends qt{constructor(e,n){super(e,"in",n),this.keys=bA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class G4 extends qt{constructor(e,n){super(e,"not-in",n),this.keys=bA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function bA(i,e){return(e.arrayValue?.values||[]).map((n=>Re.fromName(n.referenceValue)))}class H4 extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rg(n)&&Ac(n.arrayValue,this.value)}}class q4 extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ac(this.value.arrayValue,n)}}class F4 extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ac(this.value.arrayValue,n)}}class $4 extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ac(this.value.arrayValue,s)))}}class Y4{constructor(e,n=null,s=[],o=[],c=null,u=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=u,this.endAt=m,this.Te=null}}function i0(i,e=null,n=[],s=[],o=null,c=null,u=null){return new Y4(i,e,n,s,o,c,u)}function Cg(i){const e=Pe(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Im(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Lo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Lo(s))).join(",")),e.Te=n}return e.Te}function Ig(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!U4(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!vA(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!n0(i.startAt,e.startAt)&&n0(i.endAt,e.endAt)}function Dm(i){return Re.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class wh{constructor(e,n=null,s=[],o=[],c=null,u="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=u,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function X4(i,e,n,s,o,c,u,m){return new wh(i,e,n,s,o,c,u,m)}function Dg(i){return new wh(i)}function r0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Q4(i){return i.collectionGroup!==null}function cc(i){const e=Pe(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let m=new Ft(ln.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new eh(c,s))})),n.has(ln.keyField().canonicalString())||e.Ie.push(new eh(ln.keyField(),s))}return e.Ie}function Ki(i){const e=Pe(i);return e.Ee||(e.Ee=K4(e,cc(i))),e.Ee}function K4(i,e){if(i.limitType==="F")return i0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new eh(o.field,c)}));const n=i.endAt?new Zd(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Zd(i.startAt.position,i.startAt.inclusive):null;return i0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Nm(i,e,n){return new wh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function xh(i,e){return Ig(Ki(i),Ki(e))&&i.limitType===e.limitType}function EA(i){return`${Cg(Ki(i))}|lt:${i.limitType}`}function _o(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>_A(o))).join(", ")}]`),Sh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Lo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Lo(o))).join(",")),`Target(${s})`})(Ki(i))}; limitType=${i.limitType})`}function Rh(i,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Re.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,o){for(const c of cc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(u,m,p){const g=t0(u,m,p);return u.inclusive?g<=0:g<0})(s.startAt,cc(s),o)||s.endAt&&!(function(u,m,p){const g=t0(u,m,p);return u.inclusive?g>=0:g>0})(s.endAt,cc(s),o))})(i,e)}function W4(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function TA(i){return(e,n)=>{let s=!1;for(const o of cc(i)){const c=J4(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function J4(i,e,n){const s=i.field.isKeyField()?Re.comparator(e.key,n.key):(function(c,u,m){const p=u.data.field(c),g=m.data.field(c);return p!==null&&g!==null?Vo(p,g):Ie(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ie(19790,{direction:i.dir})}}class xa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,((n,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return aA(this.inner)}size(){return this.innerSize}}const Z4=new bt(Re.comparator);function Or(){return Z4}const SA=new bt(Re.comparator);function ec(...i){let e=SA;for(const n of i)e=e.insert(n.key,n);return e}function AA(i){let e=SA;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ma(){return uc()}function wA(){return uc()}function uc(){return new xa((i=>i.toString()),((i,e)=>i.isEqual(e)))}const e3=new bt(Re.comparator),t3=new Ft(Re.comparator);function $e(...i){let e=t3;for(const n of i)e=e.add(n);return e}const n3=new Ft(Fe);function i3(){return n3}function Ng(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kd(e)?"-0":e}}function xA(i){return{integerValue:""+i}}function r3(i,e){return D4(e)?xA(e):Ng(i,e)}class Ch{constructor(){this._=void 0}}function s3(i,e,n){return i instanceof th?(function(o,c){const u={fields:{[cA]:{stringValue:lA},[dA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&xg(c)&&(c=Ah(c)),c&&(u.fields[uA]=c),{mapValue:u}})(n,e):i instanceof wc?CA(i,e):i instanceof xc?IA(i,e):(function(o,c){const u=RA(o,c),m=s0(u)+s0(o.Ae);return Cm(u)&&Cm(o.Ae)?xA(m):Ng(o.serializer,m)})(i,e)}function a3(i,e,n){return i instanceof wc?CA(i,e):i instanceof xc?IA(i,e):n}function RA(i,e){return i instanceof nh?(function(s){return Cm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class th extends Ch{}class wc extends Ch{constructor(e){super(),this.elements=e}}function CA(i,e){const n=DA(e);for(const s of i.elements)n.some((o=>er(o,s)))||n.push(s);return{arrayValue:{values:n}}}class xc extends Ch{constructor(e){super(),this.elements=e}}function IA(i,e){let n=DA(e);for(const s of i.elements)n=n.filter((o=>!er(o,s)));return{arrayValue:{values:n}}}class nh extends Ch{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function s0(i){return Nt(i.integerValue||i.doubleValue)}function DA(i){return Rg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function o3(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof wc&&o instanceof wc||s instanceof xc&&o instanceof xc?Po(s.elements,o.elements,er):s instanceof nh&&o instanceof nh?er(s.Ae,o.Ae):s instanceof th&&o instanceof th})(i.transform,e.transform)}class l3{constructor(e,n){this.version=e,this.transformResults=n}}class xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dd(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Ih{}function NA(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new MA(i.key,xr.none()):new Lc(i.key,i.data,xr.none());{const n=i.data,s=si.empty();let o=new Ft(ln.comparator);for(let c of e.fields)if(!o.has(c)){let u=n.field(c);u===null&&c.length>1&&(c=c.popLast(),u=n.field(c)),u===null?s.delete(c):s.set(c,u),o=o.add(c)}return new Ra(i.key,s,new Ai(o.toArray()),xr.none())}}function c3(i,e,n){i instanceof Lc?(function(o,c,u){const m=o.value.clone(),p=o0(o.fieldTransforms,c,u.transformResults);m.setAll(p),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Ra?(function(o,c,u){if(!Dd(o.precondition,c))return void c.convertToUnknownDocument(u.version);const m=o0(o.fieldTransforms,c,u.transformResults),p=c.data;p.setAll(OA(o)),p.setAll(m),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(i,e,n):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function dc(i,e,n,s){return i instanceof Lc?(function(c,u,m,p){if(!Dd(c.precondition,u))return m;const g=c.value.clone(),_=l0(c.fieldTransforms,p,u);return g.setAll(_),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof Ra?(function(c,u,m,p){if(!Dd(c.precondition,u))return m;const g=l0(c.fieldTransforms,p,u),_=u.data;return _.setAll(OA(c)),_.setAll(g),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((v=>v.field)))})(i,e,n,s):(function(c,u,m){return Dd(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):m})(i,e,n)}function u3(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),c=RA(s.transform,o||null);c!=null&&(n===null&&(n=si.empty()),n.set(s.field,c))}return n||null}function a0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Po(s,o,((c,u)=>o3(c,u)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Lc extends Ih{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ra extends Ih{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function OA(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function o0(i,e,n){const s=new Map;rt(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const c=i[o],u=c.transform,m=e.data.field(c.field);s.set(c.field,a3(u,m,n[o]))}return s}function l0(i,e,n){const s=new Map;for(const o of i){const c=o.transform,u=n.data.field(o.field);s.set(o.field,s3(c,u,e))}return s}class MA extends Ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d3 extends Ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class h3{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&c3(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=dc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=dc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=wA();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let m=this.applyToLocalView(u,c.mutatedFields);m=n.has(o.key)?null:m;const p=NA(u,m);p!==null&&s.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Oe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),$e())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,((n,s)=>a0(n,s)))&&Po(this.baseMutations,e.baseMutations,((n,s)=>a0(n,s)))}}class Og{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){rt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return e3})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,s[u].version);return new Og(e,n,s,o)}}class f3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class p3{constructor(e,n){this.count=e,this.unchangedNames=n}}var zt,Qe;function m3(i){switch(i){case ae.OK:return Ie(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ie(15467,{code:i})}}function PA(i){if(i===void 0)return Nr("GRPC error has no .code"),ae.UNKNOWN;switch(i){case zt.OK:return ae.OK;case zt.CANCELLED:return ae.CANCELLED;case zt.UNKNOWN:return ae.UNKNOWN;case zt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case zt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case zt.INTERNAL:return ae.INTERNAL;case zt.UNAVAILABLE:return ae.UNAVAILABLE;case zt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case zt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case zt.NOT_FOUND:return ae.NOT_FOUND;case zt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case zt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case zt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case zt.ABORTED:return ae.ABORTED;case zt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case zt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case zt.DATA_LOSS:return ae.DATA_LOSS;default:return Ie(39323,{code:i})}}(Qe=zt||(zt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";function g3(){return new TextEncoder}const y3=new Ss([4294967295,4294967295],0);function c0(i){const e=g3().encode(i),n=new KS;return n.update(e),new Uint8Array(n.digest())}function u0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ss([n,s],0),new Ss([o,c],0)]}class Mg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new tc(`Invalid padding: ${n}`);if(s<0)throw new tc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new tc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new tc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ss.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Ss.fromNumber(s)));return o.compare(y3)===1&&(o=new Ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=c0(e),[s,o]=u0(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);if(!this.we(u))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Mg(c,o,n);return s.forEach((m=>u.insert(m))),u}insert(e){if(this.ge===0)return;const n=c0(e),[s,o]=u0(n);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,kc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Dh(Oe.min(),o,new bt(Fe),Or(),$e())}}class kc{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new kc(s,n,$e(),$e(),$e())}}class Nd{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class VA{constructor(e,n){this.targetId=e,this.Ce=n}}class LA{constructor(e,n,s=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class d0{constructor(){this.ve=0,this.Fe=h0(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),n=$e(),s=$e();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ie(38017,{changeType:c})}})),new kc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=h0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class v3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Or(),this.Je=_d(),this.He=_d(),this.Ye=new bt(Fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Dm(c))if(s===0){const u=new Re(c.path);this.et(n,u,pn.newNoDocument(u,Oe.min()))}else rt(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const m=this.ut(e),p=m?this.ct(m,e,u):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let u,m;try{u=Is(s).toUint8Array()}catch(p){if(p instanceof oA)return Mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Mg(u,o,c)}catch(p){return Mo(p instanceof tc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((c=>{const u=this.Ge.ht(),m=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,u)=>{const m=this.ot(u);if(m){if(c.current&&Dm(m.target)){const p=new Re(m.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,pn.newNoDocument(p,e))}c.Be&&(n.set(u,c.ke()),c.qe())}}));let s=$e();this.He.forEach(((c,u)=>{let m=!0;u.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new Dh(e,n,this.Ye,this.je,s);return this.je=Or(),this.Je=_d(),this.He=_d(),this.Ye=new bt(Fe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new d0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ft(Fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ft(Fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new d0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _d(){return new bt(Re.comparator)}function h0(){return new bt(Re.comparator)}const _3={asc:"ASCENDING",desc:"DESCENDING"},b3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E3={and:"AND",or:"OR"};class T3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Om(i,e){return i.useProto3Json||Sh(e)?e:{value:e}}function ih(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function S3(i,e){return ih(i,e.toTimestamp())}function Wi(i){return rt(!!i,49232),Oe.fromTimestamp((function(n){const s=Cs(n);return new mt(s.seconds,s.nanos)})(i))}function Pg(i,e){return Mm(i,e).canonicalString()}function Mm(i,e){const n=(function(o){return new _t(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function UA(i){const e=_t.fromString(i);return rt(HA(e),10190,{key:e.toString()}),e}function Pm(i,e){return Pg(i.databaseId,e.path)}function rm(i,e){const n=UA(e);if(n.get(1)!==i.databaseId.projectId)throw new Se(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Se(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Re(BA(n))}function jA(i,e){return Pg(i.databaseId,e)}function A3(i){const e=UA(i);return e.length===4?_t.emptyPath():BA(e)}function Vm(i){return new _t(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function BA(i){return rt(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function f0(i,e,n){return{name:Pm(i,e),fields:n.value.mapValue.fields}}function w3(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,_){return g.useProto3Json?(rt(_===void 0||typeof _=="string",58123),un.fromBase64String(_||"")):(rt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),un.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),u=e.targetChange.cause,m=u&&(function(g){const _=g.code===void 0?ae.UNKNOWN:PA(g.code);return new Se(_,g.message||"")})(u);n=new LA(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=rm(i,s.document.name),c=Wi(s.document.updateTime),u=s.document.createTime?Wi(s.document.createTime):Oe.min(),m=new si({mapValue:{fields:s.document.fields}}),p=pn.newFoundDocument(o,c,u,m),g=s.targetIds||[],_=s.removedTargetIds||[];n=new Nd(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=rm(i,s.document),c=s.readTime?Wi(s.readTime):Oe.min(),u=pn.newNoDocument(o,c),m=s.removedTargetIds||[];n=new Nd([],m,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=rm(i,s.document),c=s.removedTargetIds||[];n=new Nd([],c,o,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,u=new p3(o,c),m=s.targetId;n=new VA(m,u)}}return n}function x3(i,e){let n;if(e instanceof Lc)n={update:f0(i,e.key,e.value)};else if(e instanceof MA)n={delete:Pm(i,e.key)};else if(e instanceof Ra)n={update:f0(i,e.key,e.data),updateMask:V3(e.fieldMask)};else{if(!(e instanceof d3))return Ie(16599,{Vt:e.type});n={verify:Pm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,u){const m=u.transform;if(m instanceof th)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof wc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof xc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof nh)return{fieldPath:u.field.canonicalString(),increment:m.Ae};throw Ie(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:S3(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ie(27497)})(i,e.precondition)),n}function R3(i,e){return i&&i.length>0?(rt(e!==void 0,14353),i.map((n=>(function(o,c){let u=o.updateTime?Wi(o.updateTime):Wi(c);return u.isEqual(Oe.min())&&(u=Wi(c)),new l3(u,o.transformResults||[])})(n,e)))):[]}function C3(i,e){return{documents:[jA(i,e.path)]}}function I3(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=jA(i,o);const c=(function(g){if(g.length!==0)return GA(tr.create(g,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const u=(function(g){if(g.length!==0)return g.map((_=>(function(E){return{field:bo(E.field),direction:O3(E.dir)}})(_)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const m=Om(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function D3(i){let e=A3(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){rt(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];n.where&&(c=(function(v){const E=zA(v);return E instanceof tr&&yA(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(v){return v.map((E=>(function(N){return new eh(Eo(N.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(E)))})(n.orderBy));let m=null;n.limit&&(m=(function(v){let E;return E=typeof v=="object"?v.value:v,Sh(E)?null:E})(n.limit));let p=null;n.startAt&&(p=(function(v){const E=!!v.before,w=v.values||[];return new Zd(w,E)})(n.startAt));let g=null;return n.endAt&&(g=(function(v){const E=!v.before,w=v.values||[];return new Zd(w,E)})(n.endAt)),X4(e,o,u,c,m,"F",p,g)}function N3(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zA(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Eo(n.unaryFilter.field);return qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(n.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Eo(n.unaryFilter.field);return qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Eo(n.unaryFilter.field);return qt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(i):i.fieldFilter!==void 0?(function(n){return qt.create(Eo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return tr.create(n.compositeFilter.filters.map((s=>zA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(n.compositeFilter.op))})(i):Ie(30097,{filter:i})}function O3(i){return _3[i]}function M3(i){return b3[i]}function P3(i){return E3[i]}function bo(i){return{fieldPath:i.canonicalString()}}function Eo(i){return ln.fromServerFormat(i.fieldPath)}function GA(i){return i instanceof qt?(function(n){if(n.op==="=="){if(e0(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NAN"}};if(ZE(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(e0(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NAN"}};if(ZE(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(n.field),op:M3(n.op),value:n.value}}})(i):i instanceof tr?(function(n){const s=n.getFilters().map((o=>GA(o)));return s.length===1?s[0]:{compositeFilter:{op:P3(n.op),filters:s}}})(i):Ie(54877,{filter:i})}function V3(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function HA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class gs{constructor(e,n,s,o,c=Oe.min(),u=Oe.min(),m=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class L3{constructor(e){this.yt=e}}function k3(i){const e=D3({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Nm(e,e.limit,"L"):e}class U3{constructor(){this.Cn=new j3}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Rs.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class j3{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ft(_t.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ft(_t.comparator)).toArray()}}const p0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qA=41943040;class In{static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(qA,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class ko{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ko(0)}static cr(){return new ko(-1)}}const m0="LruGarbageCollector",B3=1048576;function g0([i,e],[n,s]){const o=Fe(i,n);return o===0?Fe(e,s):o}class z3{constructor(e){this.Ir=e,this.buffer=new Ft(g0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();g0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class G3{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(m0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yo(n)?ge(m0,"Ignoring IndexedDB error during garbage collection: ",n):await $o(n)}await this.Vr(3e5)}))}}class H3{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Th.ce);const s=new z3(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(p0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,c,u,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),o=this.params.maximumSequenceNumbersToCollect):o=v,u=Date.now(),this.nthSequenceNumber(e,o)))).next((v=>(s=v,m=Date.now(),this.removeTargets(e,s,n)))).next((v=>(c=v,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(g=Date.now(),vo()<=qe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(m-u)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${v} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:v}))))}}function q3(i,e){return new H3(i,e)}class F3{constructor(){this.changes=new xa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Y3{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&dc(s.mutation,o,Ai.empty(),mt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,$e()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=$e()){const o=ma();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((c=>{let u=ec();return c.forEach(((m,p)=>{u=u.insert(m,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=ma();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,$e())))}populateOverlays(e,n,s){const o=[];return s.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,m)=>{n.set(u,m)}))}))}computeViews(e,n,s,o){let c=Or();const u=uc(),m=(function(){return uc()})();return n.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Ra)?c=c.insert(g.key,g):_!==void 0?(u.set(g.key,_.mutation.getFieldMask()),dc(_.mutation,g,_.mutation.getFieldMask(),mt.now())):u.set(g.key,Ai.empty())})),this.recalculateAndSaveOverlays(e,c).next((p=>(p.forEach(((g,_)=>u.set(g,_))),n.forEach(((g,_)=>m.set(g,new $3(_,u.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=uc();let o=new bt(((u,m)=>u-m)),c=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const m of u)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||Ai.empty();_=m.applyToLocalView(g,_),s.set(p,_);const v=(o.get(m.batchId)||$e()).add(p);o=o.insert(m.batchId,v)}))})).next((()=>{const u=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,v=wA();_.forEach((E=>{if(!c.has(E)){const w=NA(n.get(E),s.get(E));w!==null&&v.set(E,w),c=c.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,v))}return ie.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(u){return Re.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Q4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):ie.resolve(ma());let m=Ec,p=c;return u.next((g=>ie.forEach(g,((_,v)=>(m<v.largestBatchId&&(m=v.largestBatchId),c.get(_)?ie.resolve():this.remoteDocumentCache.getEntry(e,_).next((E=>{p=p.insert(_,E)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,p,g,$e()))).next((_=>({batchId:m,changes:AA(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((s=>{let o=ec();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let u=ec();return this.indexManager.getCollectionParents(e,c).next((m=>ie.forEach(m,(p=>{const g=(function(v,E){return new wh(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((v,E)=>{u=u.insert(v,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o)))).next((u=>{c.forEach(((p,g)=>{const _=g.getKey();u.get(_)===null&&(u=u.insert(_,pn.newInvalidDocument(_)))}));let m=ec();return u.forEach(((p,g)=>{const _=c.get(p);_!==void 0&&dc(_.mutation,g,Ai.empty(),mt.now()),Rh(n,g)&&(m=m.insert(p,g))})),m}))}}class X3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Wi(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:k3(o.bundledQuery),readTime:Wi(o.readTime)}})(n)),ie.resolve()}}class Q3{constructor(){this.overlays=new bt(Re.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ma();return ie.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,c)=>{this.St(e,n,c)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=ma(),c=n.length+1,u=new Re(n.child("")),m=this.overlays.getIteratorFrom(u);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new bt(((g,_)=>g-_));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=c.get(g.largestBatchId);_===null&&(_=ma(),c=c.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=ma(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new f3(n,s));let c=this.qr.get(n);c===void 0&&(c=$e(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}class K3{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class Vg{constructor(){this.Qr=new Ft(Qt.$r),this.Ur=new Ft(Qt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Qt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Qt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Re(new _t([])),s=new Qt(n,e),o=new Qt(n,e+1),c=[];return this.Ur.forEachInRange([s,o],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Re(new _t([])),s=new Qt(n,e),o=new Qt(n,e+1);let c=$e();return this.Ur.forEachInRange([s,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const n=new Qt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Qt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Re.comparator(e.key,n.key)||Fe(e.Yr,n.Yr)}static Kr(e,n){return Fe(e.Yr,n.Yr)||Re.comparator(e.key,n.key)}}class W3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Qt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new h3(c,n,s,o);this.mutationQueue.push(u);for(const m of o)this.Zr=this.Zr.add(new Qt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(u)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return ie.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?wg:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Qt(n,0),o=new Qt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(u=>{const m=this.Xr(u.Yr);c.push(m)})),ie.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ft(Fe);return n.forEach((o=>{const c=new Qt(o,0),u=new Qt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;Re.isDocumentKey(c)||(c=c.child(""));const u=new Qt(new Re(c),0);let m=new Ft(Fe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),u),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){rt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const c=new Qt(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Qt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class J3{constructor(e){this.ri=e,this.docs=(function(){return new bt(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let s=Or();return n.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():pn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=Or();const u=n.path,m=new Re(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||x4(w4(_),s)<=0||(o.has(_.key)||Rh(n,_))&&(c=c.insert(_.key,_.mutableCopy()))}return ie.resolve(c)}getAllFromCollectionGroup(e,n,s,o){Ie(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new Z3(this)}getSize(e){return ie.resolve(this.size)}}class Z3 extends F3{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class eP{constructor(e){this.persistence=e,this.si=new xa((n=>Cg(n)),Ig),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.oi=0,this._i=new Vg,this.targetCount=0,this.ai=ko.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ko(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.si.forEach(((u,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(c).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),ie.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class FA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Th(0),this.li=!1,this.li=!0,this.hi=new K3,this.referenceDelegate=e(this),this.Pi=new eP(this),this.indexManager=new U3,this.remoteDocumentCache=(function(o){return new J3(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new L3(n),this.Ii=new X3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Q3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new W3(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ge("MemoryPersistence","Starting transaction:",e);const o=new tP(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class tP extends C4{constructor(e){super(),this.currentSequenceNumber=e}}class Lg{constructor(e){this.persistence=e,this.Ri=new Vg,this.Vi=null}static mi(e){return new Lg(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=Re.fromPath(s);return this.gi(e,o).next((c=>{c||n.removeEntry(o,Oe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rh{constructor(e,n){this.persistence=e,this.pi=new xa((s=>N4(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=q3(this,n)}static mi(e,n){return new rh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,n).next((m=>{m||(s++,c.removeEntry(u,Oe.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cd(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class kg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=$e(),o=$e();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new kg(e,n.fromCache,s,o)}}class nP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class iP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $D()?8:I4(mn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.ys(e,n).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,n,o,s).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new nP;return this.Ss(e,n,u).next((m=>{if(c.result=m,this.Vs)return this.bs(e,n,u,m.size)}))})).next((()=>c.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(vo()<=qe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",_o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(vo()<=qe.DEBUG&&ge("QueryEngine","Query:",_o(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(vo()<=qe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",_o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(n))):ie.resolve())}ys(e,n){if(r0(n))return ie.resolve(null);let s=Ki(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Nm(n,null,"F"),s=Ki(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const u=$e(...c);return this.ps.getDocuments(e,u).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,u,p.readTime)?this.ys(e,Nm(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return r0(n)||o.isEqual(Oe.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((c=>{const u=this.Ds(n,c);return this.Cs(n,u,s,o)?ie.resolve(null):(vo()<=qe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(n)),this.vs(e,u,n,A4(o,Ec)).next((m=>m)))}))}Ds(e,n){let s=new Ft(TA(e));return n.forEach(((o,c)=>{Rh(e,c)&&(s=s.add(c))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,s){return vo()<=qe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",_o(n)),this.ps.getDocumentsMatchingQuery(e,n,Rs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(n.forEach((u=>{c=c.insert(u.key,u)})),c)))}}const Ug="LocalStore",rP=3e8;class sP{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new bt(Fe),this.xs=new xa((c=>Cg(c)),Ig),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function aP(i,e,n,s){return new sP(i,e,n,s)}async function $A(i,e){const n=Pe(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const u=[],m=[];let p=$e();for(const g of o){u.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of c){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:m})))}))}))}function oP(i,e){const n=Pe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const v=g.batch,E=v.keys();let w=ie.resolve();return E.forEach((N=>{w=w.next((()=>_.getEntry(p,N))).next((j=>{const V=g.docVersions.get(N);rt(V!==null,48541),j.version.compareTo(V)<0&&(v.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),_.addEntry(j)))}))})),w.next((()=>m.mutationQueue.removeMutationBatch(p,v)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=$e();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function YA(i){const e=Pe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function lP(i,e){const n=Pe(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((_,v)=>{const E=o.get(v);if(!E)return;m.push(n.Pi.removeMatchingKeys(c,_.removedDocuments,v).next((()=>n.Pi.addMatchingKeys(c,_.addedDocuments,v))));let w=E.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(un.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):_.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(_.resumeToken,s)),o=o.insert(v,w),(function(j,V,Q){return j.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=rP?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(E,w,_)&&m.push(n.Pi.updateTargetData(c,w))}));let p=Or(),g=$e();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,_))})),m.push(cP(c,u,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(Oe.min())){const _=n.Pi.getLastRemoteSnapshotVersion(c).next((v=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(_)}return ie.waitFor(m).next((()=>u.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,p,g))).next((()=>p))})).then((c=>(n.Ms=o,c)))}function cP(i,e,n){let s=$e(),o=$e();return n.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let u=Or();return n.forEach(((m,p)=>{const g=c.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(m,p.readTime),u=u.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),u=u.insert(m,p)):ge(Ug,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:u,qs:o}}))}function uP(i,e){const n=Pe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=wg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function dP(i,e){const n=Pe(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((c=>c?(o=c,ie.resolve(o)):n.Pi.allocateTargetId(s).next((u=>(o=new gs(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Lm(i,e,n){const s=Pe(i),o=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Yo(u))throw u;ge(Ug,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function y0(i,e,n){const s=Pe(i);let o=Oe.min(),c=$e();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,g,_){const v=Pe(p),E=v.xs.get(_);return E!==void 0?ie.resolve(v.Ms.get(E)):v.Pi.getTargetData(g,_)})(s,u,Ki(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,m.targetId).next((p=>{c=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?o:Oe.min(),n?c:$e()))).next((m=>(hP(s,W4(e),m),{documents:m,Qs:c})))))}function hP(i,e,n){let s=i.Os.get(e)||Oe.min();n.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.Os.set(e,s)}class v0{constructor(){this.activeTargetIds=i3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fP{constructor(){this.Mo=new v0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new v0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pP{Oo(e){}shutdown(){}}const _0="ConnectivityMonitor";class b0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(_0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(_0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let bd=null;function km(){return bd===null?bd=(function(){return 268435456+Math.round(2147483648*Math.random())})():bd++,"0x"+bd.toString(16)}const sm="RestConnection",mP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Wd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,c){const u=km(),m=this.zo(e,n.toUriEncodedString());ge(sm,`Sending RPC '${e}' ${u}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,c);const{host:g}=new URL(m),_=Go(g);return this.Jo(e,m,p,s,_).then((v=>(ge(sm,`Received RPC '${e}' ${u}: `,v),v)),(v=>{throw Mo(sm,`RPC '${e}' ${u} failed with error: `,v,"url: ",m,"request:",s),v}))}Ho(e,n,s,o,c,u){return this.Go(e,n,s,o,c)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Fo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,n){const s=mP[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class yP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const hn="WebChannelConnection";class vP extends gP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,c){const u=km();return new Promise(((m,p)=>{const g=new WS;g.setWithCredentials(!0),g.listenOnce(JS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Rd.NO_ERROR:const v=g.getResponseJson();ge(hn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),m(v);break;case Rd.TIMEOUT:ge(hn,`RPC '${e}' ${u} timed out`),p(new Se(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Rd.HTTP_ERROR:const E=g.getStatus();if(ge(hn,`RPC '${e}' ${u} failed with status:`,E,"response text:",g.getResponseText()),E>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const N=w?.error;if(N&&N.status&&N.message){const j=(function(Q){const J=Q.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(J)>=0?J:ae.UNKNOWN})(N.status);p(new Se(j,N.message))}else p(new Se(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Se(ae.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ge(hn,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(o);ge(hn,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=km(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=tA(),m=eA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=c.join("");ge(hn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const v=u.createWebChannel(_,p);this.I_(v);let E=!1,w=!1;const N=new yP({Yo:V=>{w?ge(hn,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(E||(ge(hn,`Opening RPC '${e}' stream ${o} transport.`),v.open(),E=!0),ge(hn,`RPC '${e}' stream ${o} sending:`,V),v.send(V))},Zo:()=>v.close()}),j=(V,Q,J)=>{V.listen(Q,(te=>{try{J(te)}catch(se){setTimeout((()=>{throw se}),0)}}))};return j(v,Zl.EventType.OPEN,(()=>{w||(ge(hn,`RPC '${e}' stream ${o} transport opened.`),N.o_())})),j(v,Zl.EventType.CLOSE,(()=>{w||(w=!0,ge(hn,`RPC '${e}' stream ${o} transport closed`),N.a_(),this.E_(v))})),j(v,Zl.EventType.ERROR,(V=>{w||(w=!0,Mo(hn,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),N.a_(new Se(ae.UNAVAILABLE,"The operation could not be completed")))})),j(v,Zl.EventType.MESSAGE,(V=>{if(!w){const Q=V.data[0];rt(!!Q,16349);const J=Q,te=J?.error||J[0]?.error;if(te){ge(hn,`RPC '${e}' stream ${o} received error:`,te);const se=te.status;let ue=(function(R){const I=zt[R];if(I!==void 0)return PA(I)})(se),ce=te.message;ue===void 0&&(ue=ae.INTERNAL,ce="Unknown error status: "+se+" with message "+te.message),w=!0,N.a_(new Se(ue,ce)),v.close()}else ge(hn,`RPC '${e}' stream ${o} received:`,Q),N.u_(Q)}})),j(m,ZS.STAT_EVENT,(V=>{V.stat===wm.PROXY?ge(hn,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===wm.NOPROXY&&ge(hn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function am(){return typeof document<"u"?document:null}function Nh(i){return new T3(i,!0)}class XA{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const E0="PersistentStream";class QA{constructor(e,n,s,o,c,u,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new Se(ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(E0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ge(E0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _P extends QA{constructor(e,n,s,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,u),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=w3(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Oe.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?Wi(u.readTime):Oe.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Vm(this.serializer),n.addTarget=(function(c,u){let m;const p=u.target;if(m=Dm(p)?{documents:C3(c,p)}:{query:I3(c,p).ft},m.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){m.resumeToken=kA(c,u.resumeToken);const g=Om(c,u.expectedCount);g!==null&&(m.expectedCount=g)}else if(u.snapshotVersion.compareTo(Oe.min())>0){m.readTime=ih(c,u.snapshotVersion.toTimestamp());const g=Om(c,u.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=N3(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Vm(this.serializer),n.removeTarget=e,this.q_(n)}}class bP extends QA{constructor(e,n,s,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=R3(e.writeResults,e.commitTime),s=Wi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Vm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>x3(this.serializer,s)))};this.q_(n)}}class EP{}class TP extends EP{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Se(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,Mm(n,s),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(ae.UNKNOWN,c.toString())}))}Ho(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,m])=>this.connection.Ho(e,Mm(n,s),o,u,m,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Se(ae.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class SP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Nr(n),this.aa=!1):ge("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Aa="RemoteStore";class AP{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{Ca(this)&&(ge(Aa,"Restarting streams for network reachability change."),await(async function(p){const g=Pe(p);g.Ea.add(4),await Uc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Oh(g)})(this))}))})),this.Ra=new SP(s,o)}}async function Oh(i){if(Ca(i))for(const e of i.da)await e(!0)}async function Uc(i){for(const e of i.da)await e(!1)}function KA(i,e){const n=Pe(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Gg(n)?zg(n):Xo(n).O_()&&Bg(n,e))}function jg(i,e){const n=Pe(i),s=Xo(n);n.Ia.delete(e),s.O_()&&WA(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ca(n)&&n.Ra.set("Unknown"))}function Bg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(i).Y_(e)}function WA(i,e){i.Va.Ue(e),Xo(i).Z_(e)}function zg(i){i.Va=new v3({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Xo(i).start(),i.Ra.ua()}function Gg(i){return Ca(i)&&!Xo(i).x_()&&i.Ia.size>0}function Ca(i){return Pe(i).Ea.size===0}function JA(i){i.Va=void 0}async function wP(i){i.Ra.set("Online")}async function xP(i){i.Ia.forEach(((e,n)=>{Bg(i,e)}))}async function RP(i,e){JA(i),Gg(i)?(i.Ra.ha(e),zg(i)):i.Ra.set("Unknown")}async function CP(i,e,n){if(i.Ra.set("Online"),e instanceof LA&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,u),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){ge(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await sh(i,s)}else if(e instanceof Nd?i.Va.Ze(e):e instanceof VA?i.Va.st(e):i.Va.tt(e),!n.isEqual(Oe.min()))try{const s=await YA(i.localStore);n.compareTo(s)>=0&&await(function(c,u){const m=c.Va.Tt(u);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=c.Ia.get(g);_&&c.Ia.set(g,_.withResumeToken(p.resumeToken,u))}})),m.targetMismatches.forEach(((p,g)=>{const _=c.Ia.get(p);if(!_)return;c.Ia.set(p,_.withResumeToken(un.EMPTY_BYTE_STRING,_.snapshotVersion)),WA(c,p);const v=new gs(_.target,p,g,_.sequenceNumber);Bg(c,v)})),c.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ge(Aa,"Failed to raise snapshot:",s),await sh(i,s)}}async function sh(i,e,n){if(!Yo(e))throw e;i.Ea.add(1),await Uc(i),i.Ra.set("Offline"),n||(n=()=>YA(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ge(Aa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Oh(i)}))}function ZA(i,e){return e().catch((n=>sh(i,n,e)))}async function Mh(i){const e=Pe(i),n=Ns(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wg;for(;IP(e);)try{const o=await uP(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,DP(e,o)}catch(o){await sh(e,o)}e1(e)&&t1(e)}function IP(i){return Ca(i)&&i.Ta.length<10}function DP(i,e){i.Ta.push(e);const n=Ns(i);n.O_()&&n.X_&&n.ea(e.mutations)}function e1(i){return Ca(i)&&!Ns(i).x_()&&i.Ta.length>0}function t1(i){Ns(i).start()}async function NP(i){Ns(i).ra()}async function OP(i){const e=Ns(i);for(const n of i.Ta)e.ea(n.mutations)}async function MP(i,e,n){const s=i.Ta.shift(),o=Og.from(s,e,n);await ZA(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Mh(i)}async function PP(i,e){e&&Ns(i).X_&&await(async function(s,o){if((function(u){return m3(u)&&u!==ae.ABORTED})(o.code)){const c=s.Ta.shift();Ns(s).B_(),await ZA(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Mh(s)}})(i,e),e1(i)&&t1(i)}async function T0(i,e){const n=Pe(i);n.asyncQueue.verifyOperationInProgress(),ge(Aa,"RemoteStore received new credentials");const s=Ca(n);n.Ea.add(3),await Uc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Oh(n)}async function VP(i,e){const n=Pe(i);e?(n.Ea.delete(2),await Oh(n)):e||(n.Ea.add(2),await Uc(n),n.Ra.set("Unknown"))}function Xo(i){return i.ma||(i.ma=(function(n,s,o){const c=Pe(n);return c.sa(),new _P(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:wP.bind(null,i),t_:xP.bind(null,i),r_:RP.bind(null,i),H_:CP.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Gg(i)?zg(i):i.Ra.set("Unknown")):(await i.ma.stop(),JA(i))}))),i.ma}function Ns(i){return i.fa||(i.fa=(function(n,s,o){const c=Pe(n);return c.sa(),new bP(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:NP.bind(null,i),r_:PP.bind(null,i),ta:OP.bind(null,i),na:MP.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Mh(i)):(await i.fa.stop(),i.Ta.length>0&&(ge(Aa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Hg{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const u=Date.now()+s,m=new Hg(e,n,u,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qg(i,e){if(Nr("AsyncQueue",`${e}: ${i}`),Yo(i))return new Se(ae.UNAVAILABLE,`${e}: ${i}`);throw i}class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Re.comparator(n.key,s.key):(n,s)=>Re.comparator(n.key,s.key),this.keyedMap=ec(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class S0{constructor(){this.ga=new bt(Re.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Uo{constructor(e,n,s,o,c,u,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,c){const u=[];return n.forEach((m=>{u.push({type:0,doc:m})})),new Uo(e,n,Ro.emptySet(n),u,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class LP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class kP{constructor(){this.queries=A0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Pe(n),c=o.queries;o.queries=A0(),c.forEach(((u,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new Se(ae.ABORTED,"Firestore shutting down"))}}function A0(){return new xa((i=>EA(i)),xh)}async function UP(i,e){const n=Pe(i);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new LP,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const m=qg(u,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Fg(n)}async function jP(i,e){const n=Pe(i),s=e.query;let o=3;const c=n.queries.get(s);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function BP(i,e){const n=Pe(i);let s=!1;for(const o of e){const c=o.query,u=n.queries.get(c);if(u){for(const m of u.Sa)m.Fa(o)&&(s=!0);u.wa=o}}s&&Fg(n)}function zP(i,e,n){const s=Pe(i),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(e)}function Fg(i){i.Ca.forEach((e=>{e.next()}))}var Um,w0;(w0=Um||(Um={})).Ma="default",w0.Cache="cache";class GP{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Uo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Um.Cache}}class n1{constructor(e){this.key=e}}class i1{constructor(e){this.key=e}}class HP{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=TA(e),this.tu=new Ro(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new S0,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,u=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,v)=>{const E=o.get(_),w=Rh(this.query,v)?v:null,N=!!E&&this.mutatedKeys.has(E.key),j=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let V=!1;E&&w?E.data.isEqual(w.data)?N!==j&&(s.track({type:3,doc:w}),V=!0):this.su(E,w)||(s.track({type:2,doc:w}),V=!0,(p&&this.eu(w,p)>0||g&&this.eu(w,g)<0)&&(m=!0)):!E&&w?(s.track({type:0,doc:w}),V=!0):E&&!w&&(s.track({type:1,doc:E}),V=!0,(p||g)&&(m=!0)),V&&(w?(u=u.add(w),c=j?c.add(_):c.delete(_)):(u=u.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),c=c.delete(_.key),s.track({type:1,doc:_})}return{tu:u,iu:s,Cs:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((_,v)=>(function(w,N){const j=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:V})}};return j(w)-j(N)})(_.type,v.type)||this.eu(_.doc,v.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,u.length!==0||g?{snapshot:new Uo(this.query,e.tu,c,u,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new S0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new i1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new n1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=$e();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Uo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $g="SyncEngine";class qP{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class FP{constructor(e){this.key=e,this.hu=!1}}class $P{constructor(e,n,s,o,c,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new xa((m=>EA(m)),xh),this.Iu=new Map,this.Eu=new Set,this.du=new bt(Re.comparator),this.Au=new Map,this.Ru=new Vg,this.Vu={},this.mu=new Map,this.fu=ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YP(i,e,n=!0){const s=c1(i);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await r1(s,e,n,!0),o}async function XP(i,e){const n=c1(i);await r1(n,e,!0,!1)}async function r1(i,e,n,s){const o=await dP(i.localStore,Ki(e)),c=o.targetId,u=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await QP(i,e,c,u==="current",o.resumeToken)),i.isPrimaryClient&&n&&KA(i.remoteStore,o),m}async function QP(i,e,n,s,o){i.pu=(v,E,w)=>(async function(j,V,Q,J){let te=V.view.ru(Q);te.Cs&&(te=await y0(j.localStore,V.query,!1).then((({documents:C})=>V.view.ru(C,te))));const se=J&&J.targetChanges.get(V.targetId),ue=J&&J.targetMismatches.get(V.targetId)!=null,ce=V.view.applyChanges(te,j.isPrimaryClient,se,ue);return R0(j,V.targetId,ce.au),ce.snapshot})(i,v,E,w);const c=await y0(i.localStore,e,!0),u=new HP(e,c.Qs),m=u.ru(c.documents),p=kc.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=u.applyChanges(m,i.isPrimaryClient,p);R0(i,n,g.au);const _=new qP(e,n,u);return i.Tu.set(e,_),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function KP(i,e,n){const s=Pe(i),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((u=>!xh(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Lm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&jg(s.remoteStore,o.targetId),jm(s,o.targetId)})).catch($o)):(jm(s,o.targetId),await Lm(s.localStore,o.targetId,!0))}async function WP(i,e){const n=Pe(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),jg(n.remoteStore,s.targetId))}async function JP(i,e,n){const s=sV(i);try{const o=await(function(u,m){const p=Pe(u),g=mt.now(),_=m.reduce(((w,N)=>w.add(N.key)),$e());let v,E;return p.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let N=Or(),j=$e();return p.Ns.getEntries(w,_).next((V=>{N=V,N.forEach(((Q,J)=>{J.isValidDocument()||(j=j.add(Q))}))})).next((()=>p.localDocuments.getOverlayedDocuments(w,N))).next((V=>{v=V;const Q=[];for(const J of m){const te=u3(J,v.get(J.key).overlayedDocument);te!=null&&Q.push(new Ra(J.key,te,pA(te.value.mapValue),xr.exists(!0)))}return p.mutationQueue.addMutationBatch(w,g,Q,m)})).next((V=>{E=V;const Q=V.applyToLocalDocumentSet(v,j);return p.documentOverlayCache.saveOverlays(w,V.batchId,Q)}))})).then((()=>({batchId:E.batchId,changes:AA(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,m,p){let g=u.Vu[u.currentUser.toKey()];g||(g=new bt(Fe)),g=g.insert(m,p),u.Vu[u.currentUser.toKey()]=g})(s,o.batchId,n),await jc(s,o.changes),await Mh(s.remoteStore)}catch(o){const c=qg(o,"Failed to persist write");n.reject(c)}}async function s1(i,e){const n=Pe(i);try{const s=await lP(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=n.Au.get(c);u&&(rt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?rt(u.hu,14607):o.removedDocuments.size>0&&(rt(u.hu,42227),u.hu=!1))})),await jc(n,s,e)}catch(s){await $o(s)}}function x0(i,e,n){const s=Pe(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((c,u)=>{const m=u.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(u,m){const p=Pe(u);p.onlineState=m;let g=!1;p.queries.forEach(((_,v)=>{for(const E of v.Sa)E.va(m)&&(g=!0)})),g&&Fg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ZP(i,e,n){const s=Pe(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let u=new bt(Re.comparator);u=u.insert(c,pn.newNoDocument(c,Oe.min()));const m=$e().add(c),p=new Dh(Oe.min(),new Map,new bt(Fe),u,m);await s1(s,p),s.du=s.du.remove(c),s.Au.delete(e),Yg(s)}else await Lm(s.localStore,e,!1).then((()=>jm(s,e,n))).catch($o)}async function eV(i,e){const n=Pe(i),s=e.batch.batchId;try{const o=await oP(n.localStore,e);o1(n,s,null),a1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await jc(n,o)}catch(o){await $o(o)}}async function tV(i,e,n){const s=Pe(i);try{const o=await(function(u,m){const p=Pe(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((v=>(rt(v!==null,37113),_=v.keys(),p.mutationQueue.removeMutationBatch(g,v)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);o1(s,e,n),a1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await jc(s,o)}catch(o){await $o(o)}}function a1(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function o1(i,e,n){const s=Pe(i);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function jm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||l1(i,s)}))}function l1(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(jg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Yg(i))}function R0(i,e,n){for(const s of n)s instanceof n1?(i.Ru.addReference(s.key,e),nV(i,s)):s instanceof i1?(ge($g,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||l1(i,s.key)):Ie(19791,{wu:s})}function nV(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ge($g,"New document in limbo: "+n),i.Eu.add(s),Yg(i))}function Yg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Re(_t.fromString(e)),s=i.fu.next();i.Au.set(s,new FP(n)),i.du=i.du.insert(n,s),KA(i.remoteStore,new gs(Ki(Dg(n.path)),s,"TargetPurposeLimboResolution",Th.ce))}}async function jc(i,e,n){const s=Pe(i),o=[],c=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{u.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=kg.As(p.targetId,g);c.push(_)}})))})),await Promise.all(u),s.Pu.H_(o),await(async function(p,g){const _=Pe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ie.forEach(g,(E=>ie.forEach(E.Es,(w=>_.persistence.referenceDelegate.addReference(v,E.targetId,w))).next((()=>ie.forEach(E.ds,(w=>_.persistence.referenceDelegate.removeReference(v,E.targetId,w)))))))))}catch(v){if(!Yo(v))throw v;ge(Ug,"Failed to update sequence numbers: "+v)}for(const v of g){const E=v.targetId;if(!v.fromCache){const w=_.Ms.get(E),N=w.snapshotVersion,j=w.withLastLimboFreeSnapshotVersion(N);_.Ms=_.Ms.insert(E,j)}}})(s.localStore,c))}async function iV(i,e){const n=Pe(i);if(!n.currentUser.isEqual(e)){ge($g,"User change. New user:",e.toKey());const s=await $A(n.localStore,e);n.currentUser=e,(function(c,u){c.mu.forEach((m=>{m.forEach((p=>{p.reject(new Se(ae.CANCELLED,u))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await jc(n,s.Ls)}}function rV(i,e){const n=Pe(i),s=n.Au.get(e);if(s&&s.hu)return $e().add(s.key);{let o=$e();const c=n.Iu.get(e);if(!c)return o;for(const u of c){const m=n.Tu.get(u);o=o.unionWith(m.view.nu)}return o}}function c1(i){const e=Pe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=s1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZP.bind(null,e),e.Pu.H_=BP.bind(null,e.eventManager),e.Pu.yu=zP.bind(null,e.eventManager),e}function sV(i){const e=Pe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tV.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return aP(this.persistence,new iP,e.initialUser,this.serializer)}Cu(e){return new FA(Lg.mi,this.serializer)}Du(e){return new fP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class aV extends ah{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){rt(this.persistence.referenceDelegate instanceof rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new G3(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new FA((s=>rh.mi(s,n)),this.serializer)}}class Bm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>x0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=iV.bind(null,this.syncEngine),await VP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kP})()}createDatastore(e){const n=Nh(e.databaseInfo.databaseId),s=(function(c){return new vP(c)})(e.databaseInfo);return(function(c,u,m,p){return new TP(c,u,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,c,u,m){return new AP(s,o,c,u,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>x0(this.syncEngine,n,0)),(function(){return b0.v()?new b0:new pP})())}createSyncEngine(e,n){return(function(o,c,u,m,p,g,_){const v=new $P(o,c,u,m,p,g);return _&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Pe(n);ge(Aa,"RemoteStore shutting down."),s.Ea.add(5),await Uc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bm.provider={build:()=>new Bm};class oV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Os="FirestoreClient";class lV{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=fn.UNAUTHENTICATED,this.clientId=Sg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async u=>{ge(Os,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(ge(Os,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=qg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function om(i,e){i.asyncQueue.verifyOperationInProgress(),ge(Os,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await $A(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function C0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await cV(i);ge(Os,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>T0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>T0(e.remoteStore,o))),i._onlineComponents=e}async function cV(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ge(Os,"Using user provided OfflineComponentProvider");try{await om(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await om(i,new ah)}}else ge(Os,"Using default OfflineComponentProvider"),await om(i,new aV(void 0));return i._offlineComponents}async function u1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ge(Os,"Using user provided OnlineComponentProvider"),await C0(i,i._uninitializedComponentsProvider._online)):(ge(Os,"Using default OnlineComponentProvider"),await C0(i,new Bm))),i._onlineComponents}function uV(i){return u1(i).then((e=>e.syncEngine))}async function I0(i){const e=await u1(i),n=e.eventManager;return n.onListen=YP.bind(null,e.syncEngine),n.onUnlisten=KP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=XP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=WP.bind(null,e.syncEngine),n}function d1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const D0=new Map;const h1="firestore.googleapis.com",N0=!0;class O0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Se(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h1,this.ssl=N0}else this.host=e.host,this.ssl=e.ssl??N0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B3)throw new Se(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Se(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xg{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new h4;switch(s.type){case"firstParty":return new g4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Se(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=D0.get(n);s&&(ge("ComponentProvider","Removing Datastore"),D0.delete(n),s.terminate())})(this),Promise.resolve()}}function dV(i,e,n,s={}){i=xo(i,Xg);const o=Go(e),c=i._getSettings(),u={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(uS(`https://${m}`),dS("Firestore",!0)),c.host!==h1&&c.host!==m&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:m,ssl:o,emulatorOptions:s};if(!ba(p,u)&&(i._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=fn.MOCK_USER;else{g=kD(s.mockUserToken,i._app?.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new Se(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new fn(v)}i._authCredentials=new f4(new iA(g,_))}}class Ph{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ph(this.firestore,e,this._query)}}class Kt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kt(this.firestore,e,this._key)}toJSON(){return{type:Kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Vc(n,Kt._jsonSchema))return new Kt(e,s||null,new Re(_t.fromString(n.referencePath)))}}Kt._jsonSchemaVersion="firestore/documentReference/1.0",Kt._jsonSchema={type:Gt("string",Kt._jsonSchemaVersion),referencePath:Gt("string")};class Rc extends Ph{constructor(e,n,s){super(e,n,Dg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kt(this.firestore,null,new Re(e))}withConverter(e){return new Rc(this.firestore,e,this._path)}}function M0(i,e,...n){if(i=ci(i),arguments.length===1&&(e=Sg.newId()),T4("doc","path",e),i instanceof Xg){const s=_t.fromString(e,...n);return FE(s),new Kt(i,null,new Re(s))}{if(!(i instanceof Kt||i instanceof Rc))throw new Se(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(_t.fromString(e,...n));return FE(s),new Kt(i.firestore,i instanceof Rc?i.converter:null,new Re(s))}}const P0="AsyncQueue";class V0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XA(this,"async_queue_retry"),this._c=()=>{const s=am();s&&ge(P0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ga;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yo(e))throw e;ge(P0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Nr("INTERNAL UNHANDLED ERROR: ",L0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Hg.createAndSchedule(this,e,n,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ie(47125,{Pc:L0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function L0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function k0(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(i,["next","error","complete"])}class oh extends Xg{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new V0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V0(e),this._firestoreClient=void 0,await e}}}function hV(i,e){const n=typeof i=="object"?i:mS(),s=typeof i=="string"?i:Wd,o=pg(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=VD("firestore");c&&dV(o,...c)}return o}function f1(i){if(i._terminated)throw new Se(ae.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||fV(i),i._firestoreClient}function fV(i){const e=i._freezeSettings(),n=(function(o,c,u,m){return new P4(o,c,u,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,d1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new lV(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(i._componentsProvider))}class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(un.fromBase64String(e))}catch(n){throw new Se(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ai(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vc(e,ai._jsonSchema))return ai.fromBase64String(e.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:Gt("string",ai._jsonSchemaVersion),bytes:Gt("string")};class Qg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class p1{constructor(e){this._methodName=e}}class Ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ji._jsonSchemaVersion}}static fromJSON(e){if(Vc(e,Ji._jsonSchema))return new Ji(e.latitude,e.longitude)}}Ji._jsonSchemaVersion="firestore/geoPoint/1.0",Ji._jsonSchema={type:Gt("string",Ji._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};class Zi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vc(e,Zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Zi(e.vectorValues);throw new Se(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:Gt("string",Zi._jsonSchemaVersion),vectorValues:Gt("object")};const pV=/^__.*__$/;class mV{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lc(e,this.data,n,this.fieldTransforms)}}function m1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:i})}}class Kg{constructor(e,n,s,o,c,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Kg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(m1(this.Ac)&&pV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gV{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Nh(e)}Cc(e,n,s,o=!1){return new Kg({Ac:e,methodName:n,Dc:s,path:ln.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yV(i){const e=i._freezeSettings(),n=Nh(i._databaseId);return new gV(i._databaseId,!!e.ignoreUndefinedProperties,n)}function vV(i,e,n,s,o,c={}){const u=i.Cc(c.merge||c.mergeFields?2:0,e,n,o);_1("Data must be an object, but it was:",u,s);const m=y1(s,u);let p,g;if(c.merge)p=new Ai(u.fieldMask),g=u.fieldTransforms;else if(c.mergeFields){const _=[];for(const v of c.mergeFields){const E=_V(e,v,n);if(!u.contains(E))throw new Se(ae.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);EV(_,E)||_.push(E)}p=new Ai(_),g=u.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,g=u.fieldTransforms;return new mV(new si(m),p,g)}function g1(i,e){if(v1(i=ci(i)))return _1("Unsupported field value:",e,i),y1(i,e);if(i instanceof p1)return(function(s,o){if(!m1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let u=0;for(const m of s){let p=g1(m,o.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),u++}return{arrayValue:{values:c}}})(i,e)}return(function(s,o){if((s=ci(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return r3(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=mt.fromDate(s);return{timestampValue:ih(o.serializer,c)}}if(s instanceof mt){const c=new mt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ih(o.serializer,c)}}if(s instanceof Ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ai)return{bytesValue:kA(o.serializer,s._byteString)};if(s instanceof Kt){const c=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Pg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Zi)return(function(u,m){return{mapValue:{fields:{[hA]:{stringValue:fA},[Jd]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Ng(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ag(s)}`)})(i,e)}function y1(i,e){const n={};return aA(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(i,((s,o)=>{const c=g1(o,e.mc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function v1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof mt||i instanceof Ji||i instanceof ai||i instanceof Kt||i instanceof p1||i instanceof Zi)}function _1(i,e,n){if(!v1(n)||!rA(n)){const s=Ag(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function _V(i,e,n){if((e=ci(e))instanceof Qg)return e._internalPath;if(typeof e=="string")return b1(i,e);throw lh("Field path arguments must be of type string or ",i,!1,void 0,n)}const bV=new RegExp("[~\\*/\\[\\]]");function b1(i,e,n){if(e.search(bV)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Qg(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function lh(i,e,n,s,o){const c=s&&!s.isEmpty(),u=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||u)&&(p+=" (found",c&&(p+=` in field ${s}`),u&&(p+=` in document ${o}`),p+=")"),new Se(ae.INVALID_ARGUMENT,m+i+p)}function EV(i,e){return i.some((n=>n.isEqual(e)))}class E1{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(T1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TV extends E1{data(){return super.data()}}function T1(i,e){return typeof e=="string"?b1(i,e):e instanceof Qg?e._internalPath:e._delegate._internalPath}function SV(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Se(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AV{convertValue(e,n="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return wa(e,((o,c)=>{s[o]=this.convertValue(c,n)})),s}convertVectorValue(e){const n=e.fields?.[Jd].arrayValue?.values?.map((s=>Nt(s.doubleValue)));return new Zi(n)}convertGeoPoint(e){return new Ji(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ah(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const n=Cs(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=_t.fromString(e);rt(HA(s),9688,{name:e});const o=new Sc(s.get(1),s.get(3)),c=new Re(s.popFirst(5));return o.isEqual(n)||Nr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function wV(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class nc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ya extends E1{constructor(e,n,s,o,c,u){super(e,n,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Od(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(T1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ya._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",ya._jsonSchema={type:Gt("string",ya._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class Od extends ya{data(e={}){return super.data(e)}}class Co{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new nc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Od(this._firestore,this._userDataWriter,s.key,s,new nc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((m=>{const p=new Od(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const p=new Od(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=u.indexOf(m.doc.key),u=u.delete(m.doc.key)),m.type!==1&&(u=u.add(m.doc),_=u.indexOf(m.doc.key)),{type:xV(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Se(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xV(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:i})}}Co._jsonSchemaVersion="firestore/querySnapshot/1.0",Co._jsonSchema={type:Gt("string",Co._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class S1 extends AV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kt(this.firestore,null,n)}}function U0(i,e,n){i=xo(i,Kt);const s=xo(i.firestore,oh),o=wV(i.converter,e,n);return RV(s,[vV(yV(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,xr.none())])}function j0(i,...e){i=ci(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||k0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(k0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let c,u,m;if(i instanceof Kt)u=xo(i.firestore,oh),m=Dg(i._key.path),c={next:p=>{e[s]&&e[s](CV(u,i,p))},error:e[s+1],complete:e[s+2]};else{const p=xo(i,Ph);u=xo(p.firestore,oh),m=p._query;const g=new S1(u);c={next:_=>{e[s]&&e[s](new Co(u,g,p,_))},error:e[s+1],complete:e[s+2]},SV(i._query)}return(function(g,_,v,E){const w=new oV(E),N=new GP(_,w,v);return g.asyncQueue.enqueueAndForget((async()=>UP(await I0(g),N))),()=>{w.Nu(),g.asyncQueue.enqueueAndForget((async()=>jP(await I0(g),N)))}})(f1(u),m,o,c)}function RV(i,e){return(function(s,o){const c=new ga;return s.asyncQueue.enqueueAndForget((async()=>JP(await uV(s),o,c))),c.promise})(f1(i),e)}function CV(i,e,n){const s=n.docs.get(e._key),o=new S1(i);return new ya(i,o,e._key,s,new nc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Fo=o})(Ho),Oo(new Ea("firestore",((s,{instanceIdentifier:o,options:c})=>{const u=s.getProvider("app").getImmediate(),m=new oh(new p4(s.getProvider("auth-internal")),new y4(u,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Se(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(g.options.projectId,_)})(u,o),u);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Es(zE,GE,e),Es(zE,GE,"esm2020")})();const B0="Asia/Taipei",z0="Europe/Vienna",U={BG_CANVAS:"bg-[#0a0a0a]",GLASS_BG:"bg-slate-800/20 backdrop-blur-xl",GLASS_BORDER:"border border-slate-700/30",GLASS_SHADOW:"shadow-[0_8px_32px_0_rgba(0,0,0,0.6)]",GLASS_HOVER:"hover:bg-slate-700/30 hover:border-slate-600/40 transition-all duration-300",TEXT_PRIMARY:"text-slate-100",TEXT_SECONDARY:"text-slate-300",TEXT_MUTED:"text-slate-500",BTN_PRIMARY:"bg-slate-700/50 hover:bg-slate-600/60 text-white shadow-lg shadow-black/30 border border-slate-600/50 transition-all duration-300",BTN_INACTIVE:"bg-slate-800/30 hover:bg-slate-700/40 text-slate-300 border border-slate-700/30 transition-all duration-300",BTN_SECONDARY:"bg-slate-800/30 hover:bg-slate-700/40 text-slate-200 border border-slate-700/30 transition-all duration-300",BTN_ACCENT:"bg-slate-600/50 hover:bg-slate-500/60 text-white shadow-lg shadow-black/30 transition-all duration-300",BTN_GHOST:"hover:bg-slate-800/30 text-slate-400 hover:text-slate-200 transition-all duration-200",SELECTED:"bg-slate-700/50 border-slate-600/70 text-white"},Ed=i=>new Date().toLocaleTimeString("zh-TW",{timeZone:i,hour:"2-digit",minute:"2-digit",hour12:!1}),A1=i=>{if(!i)return"";const e=new Date(i);return isNaN(e)?"":new Date(e.getTime()+e.getTimezoneOffset()*6e4).toLocaleDateString("zh-TW",{month:"2-digit",day:"2-digit"})},IV=i=>i?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(i)}`:"#",ic=()=>Math.random().toString(36).substring(2,9),DV=i=>S.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),S.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),va=i=>S.jsx("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:S.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),NV=i=>S.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"12",cy:"12",r:"10"}),S.jsx("polyline",{points:"12 6 12 12 16 14"})]}),OV=i=>S.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M17 14h.01"}),S.jsx("path",{d:"M7 7h10"}),S.jsx("path",{d:"M5 21V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16l-3.5-2-3.5 2-3.5-2L5 21z"})]}),Rr=i=>S.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M3 6h18"}),S.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),MV=i=>S.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"9",cy:"5",r:"1"}),S.jsx("circle",{cx:"9",cy:"12",r:"1"}),S.jsx("circle",{cx:"9",cy:"19",r:"1"}),S.jsx("circle",{cx:"15",cy:"5",r:"1"}),S.jsx("circle",{cx:"15",cy:"12",r:"1"}),S.jsx("circle",{cx:"15",cy:"19",r:"1"})]}),PV=i=>S.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),S.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),As=i=>S.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),S.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),VV=i=>S.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"12",cy:"12",r:"10"}),S.jsx("path",{d:"M16.2 7.8L7.8 16.2"}),S.jsx("path",{d:"M13 3v2M13 19v2M3 11h2M19 11h2"})]}),lm=i=>S.jsx("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:S.jsx("path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"})}),LV=i=>S.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),S.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),kV=i=>S.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),S.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),S.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),S.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),UV=i=>S.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"12",cy:"12",r:"3"}),S.jsx("path",{d:"M12 1v6m0 6v10M1 12h6m6 0h10"})]}),jV=i=>S.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),S.jsx("polyline",{points:"7 10 12 15 17 10"}),S.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),BV=i=>S.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("circle",{cx:"9",cy:"21",r:"1"}),S.jsx("circle",{cx:"20",cy:"21",r:"1"}),S.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),zV=i=>S.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("line",{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}),S.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),S.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),S.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),GV=i=>S.jsxs("svg",{...i,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),S.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),HV=()=>S.jsxs("div",{className:"flex flex-col items-center gap-4",children:[S.jsxs("div",{className:"relative w-16 h-16",children:[S.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-slate-700/30"}),S.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-t-slate-400 animate-spin"})]}),S.jsx("div",{className:"text-slate-400 text-sm font-medium tracking-wider animate-pulse",children:"LOADING..."})]}),Bc=({isOpen:i,onClose:e,title:n,children:s})=>i?S.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[S.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm transition-opacity",onClick:e}),S.jsxs("div",{className:`relative w-full max-w-md ${U.GLASS_BG} ${U.GLASS_BORDER} rounded-2xl p-6 ${U.GLASS_SHADOW} animate-in fade-in zoom-in-95 duration-200`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-6",children:[S.jsx("h3",{className:"text-xl font-bold text-slate-100",children:n}),S.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-slate-800/50 transition-colors text-slate-400 hover:text-slate-200",children:S.jsx(GV,{className:"w-5 h-5"})})]}),s]})]}):null,qV={tripName:"Central Europe 2026",startDate:"2026-03-29",endDate:"2026-04-07",flightInfo:{outbound:{airline:"China Airlines",flightNumber:"CI0063",departure:{code:"TPE",time:"2026-03-29 23:40"},arrival:{code:"VIE",time:"2026-03-30 06:30"}},inbound:{airline:"China Airlines",flightNumber:"CI0064",departure:{code:"VIE",time:"2026-04-07 11:25"},arrival:{code:"TPE",time:"2026-04-08 06:00"}}},days:[{index:0,date:"2026-03-29",activities:[{id:"d1_a1",time:"20:00",description:"",type:"transport",location:"TPE Airport",note:"",expenses:[]},{id:"d1_a2",time:"23:40",description:" (CI0063)",type:"flight",location:"TPE -> VIE",note:"",expenses:[]}]},{index:1,date:"2026-03-30",activities:[{id:"d2_a1",time:"11:00",description:" (VIE)",type:"transport",location:"Vienna International Airport",note:"Neubau (7)",expenses:[]},{id:"d2_a2",time:"12:30",description:" Check-in",type:"transport",location:"Vienna City Center",note:" S-Bahn (S7 )",expenses:[{id:"e_d2_1",amount:4.5,currency:"EUR",category:"Transport",description:"S-Bahn S7",payer:""}]},{id:"d2_a3",time:"14:30",description:" / 7 Neubau ",type:"sightseeing",location:"Mariahilfer Strae",note:"",expenses:[]},{id:"d2_a4",time:"17:30",description:" (MQ) ",type:"sightseeing",location:"MuseumsQuartier",note:"",expenses:[]},{id:"d2_a5",time:"19:30",description:"",type:"meal",location:"Donaukanal",note:"Strandbar Herrmann  Badeschiff",expenses:[]}]},{index:2,date:"2026-03-31",activities:[{id:"d3_a1",time:"08:00",description:"  ",type:"transport",location:"Vienna -> Hallstatt",note:" BB  SparSchiene",expenses:[{id:"e_d3_1",amount:30,currency:"EUR",category:"Transport",description:"BB Train",payer:""}]},{id:"d3_a2",time:"12:00",description:" Hallstatt",type:"transport",location:"Hallstatt",note:"",expenses:[{id:"e_d3_2",amount:3.5,currency:"EUR",category:"Transport",description:"Ferry",payer:""}]},{id:"d3_a3",time:"14:00",description:" & Skywalk",type:"sightseeing",location:"Salzwelten Hallstatt",note:"",expenses:[{id:"e_d3_3",amount:22,currency:"EUR",category:"Ticket",description:"Funicular Roundtrip",payer:""}]},{id:"d3_a4",time:"17:00",description:"",type:"sightseeing",location:"Hallstatt Lake",note:"Hallstatt Lahn ",expenses:[]},{id:"d3_a5",time:"19:30",description:"Gasthof Zauner",type:"meal",location:"Gasthof Zauner",note:"",expenses:[]}]},{index:3,date:"2026-04-01",activities:[{id:"d4_a1",time:"09:00",description:"",type:"transport",location:"Hallstatt Dock",note:"",expenses:[{id:"e_d4_1",amount:3.5,currency:"EUR",category:"Transport",description:"Ferry",payer:""}]},{id:"d4_a2",time:"10:00",description:"  ",type:"transport",location:"Hallstatt -> Salzburg",note:"Schallmoos ",expenses:[{id:"e_d4_2",amount:22.5,currency:"EUR",category:"Transport",description:"Bus + Train",payer:""}]},{id:"d4_a3",time:"13:00",description:" Check-in",type:"accommodation",location:"Salzburg",note:"",expenses:[]},{id:"d4_a4",time:"15:00",description:"",type:"sightseeing",location:"Mirabell Palace",note:"",expenses:[]},{id:"d4_a5",time:"17:00",description:"",type:"sightseeing",location:"Hohensalzburg Fortress",note:"",expenses:[{id:"e_d4_3",amount:16.6,currency:"EUR",category:"Ticket",description:"Fortress + Funicular",payer:""}]},{id:"d4_a6",time:"19:30",description:"Die Weisse",type:"meal",location:"Die Weisse",note:"",expenses:[]}]},{index:4,date:"2026-04-02",activities:[{id:"d5_a1",time:"08:30",description:"  ",type:"transport",location:"Salzburg Hbf",note:" Bus 840/841 (RVO Day Ticket)",expenses:[{id:"e_d5_1",amount:12,currency:"EUR",category:"Transport",description:"RVO Day Ticket",payer:""}]},{id:"d5_a2",time:"09:30",description:"",type:"sightseeing",location:"Knigssee",note:" Salet",expenses:[{id:"e_d5_2",amount:22,currency:"EUR",category:"Ticket",description:"Boat Roundtrip",payer:""}]},{id:"d5_a3",time:"11:00",description:" (Obersee) ",type:"sightseeing",location:"Obersee",note:"",expenses:[]},{id:"d5_a4",time:"18:00",description:"",type:"transport",location:"Knigssee -> Salzburg",note:"",expenses:[]},{id:"d5_a5",time:"20:00",description:"",type:"meal",location:"Apartment",note:"",expenses:[]}]},{index:5,date:"2026-04-03",activities:[{id:"d6_a1",time:"09:00",description:"",type:"sightseeing",location:"Salzburg Old Town",note:"",expenses:[]},{id:"d6_a2",time:"11:30",description:"  CK ",type:"transport",location:"Salzburg -> esk Krumlov",note:" (4)",expenses:[{id:"e_d6_1",amount:40,currency:"EUR",category:"Transport",description:"Shuttle Bus",payer:""}]},{id:"d6_a3",time:"15:30",description:" CK  Check-in",type:"accommodation",location:"esk Krumlov",note:"Penzion ",expenses:[]},{id:"d6_a4",time:"17:00",description:" & ",type:"sightseeing",location:"CK Castle",note:"Vltava ",expenses:[]},{id:"d6_a5",time:"19:30",description:"Hospoda 99",type:"meal",location:"Hospoda 99",note:" Goulash ",expenses:[]}]},{index:6,date:"2026-04-04",activities:[{id:"d7_a1",time:"09:00",description:" / ",type:"sightseeing",location:"Castle Tower",note:"",expenses:[{id:"e_d7_1",amount:8,currency:"EUR",category:"Ticket",description:"Tower Entrance",payer:""}]},{id:"d7_a2",time:"14:00",description:"CK   ",type:"transport",location:"CK -> Prague",note:" (RegioJet / FlixBus)",expenses:[{id:"e_d7_2",amount:12.5,currency:"EUR",category:"Transport",description:"Bus Ticket",payer:""}]},{id:"d7_a3",time:"17:30",description:" Check-in",type:"accommodation",location:"Prague",note:"Vinohrady  Karln ",expenses:[{id:"e_d7_3",amount:4,currency:"EUR",category:"Transport",description:"City Transport Ticket",payer:""}]},{id:"d7_a4",time:"20:00",description:"Local Hospoda",type:"meal",location:"Vinohrady/Karln",note:"",expenses:[]}]},{index:7,date:"2026-04-05",activities:[{id:"d8_a1",time:"09:30",description:"Kampa Museum  ",type:"sightseeing",location:"Kampa Museum",note:"",expenses:[{id:"e_d8_1",amount:12,currency:"EUR",category:"Ticket",description:"Museum Entrance",payer:""}]},{id:"d8_a2",time:"12:30",description:"Letn Park ",type:"meal",location:"Letn Park",note:"",expenses:[]},{id:"d8_a3",time:"15:00",description:" & ",type:"sightseeing",location:"Letn Park",note:"",expenses:[]},{id:"d8_a4",time:"17:00",description:" (Dancing House)",type:"sightseeing",location:"Dancing House",note:"",expenses:[]},{id:"d8_a5",time:"20:00",description:"Vtopna Railway Restaurant",type:"meal",location:"Vtopna",note:"",expenses:[]}]},{index:8,date:"2026-04-06",activities:[{id:"d9_a1",time:"09:00",description:" & ",type:"sightseeing",location:"Charles Bridge",note:"",expenses:[]},{id:"d9_a2",time:"12:00",description:"  ",type:"transport",location:"Prague -> Vienna",note:"/ 17:00 ",expenses:[{id:"e_d9_1",amount:27.5,currency:"EUR",category:"Transport",description:"Train/Bus Ticket",payer:""}]},{id:"d9_a3",time:"17:00",description:" Check-in",type:"accommodation",location:"Vienna",note:" Day 2 ",expenses:[]},{id:"d9_a4",time:"20:00",description:"Heuriger",type:"meal",location:"Grinzing",note:"",expenses:[]}]},{index:9,date:"2026-04-07",activities:[{id:"d10_a1",time:"08:00",description:"",type:"other",location:"Hotel",note:"",expenses:[]},{id:"d10_a2",time:"08:30",description:" (VIE)",type:"transport",location:"Vienna Airport",note:" S-Bahn S7",expenses:[{id:"e_d10_1",amount:4.5,currency:"EUR",category:"Transport",description:"S-Bahn Ticket",payer:""}]},{id:"d10_a3",time:"11:25",description:" CI0064 ",type:"flight",location:"VIE -> TPE",note:"",expenses:[]}]}],shoppingList:[{id:"s1",item:"",assignedTo:"",quantity:5,purchased:!1,location:"",note:" Mirabell "},{id:"s2",item:"",assignedTo:"",quantity:1,purchased:!1,location:"",note:""}],packingList:[{id:"p1",item:"",category:"",packed:!1},{id:"p2",item:"",category:"",packed:!1},{id:"p3",item:"",category:"",packed:!1},{id:"p4",item:"",category:"",packed:!1},{id:"p5",item:"",category:"",packed:!1},{id:"p6",item:"",category:"",packed:!1},{id:"p7",item:"",category:"",packed:!1},{id:"p8",item:"",category:"",packed:!1},{id:"p9",item:"",category:"",packed:!1}],independentExpenses:[]},G0={currency:"EUR",timezone:"Europe/Vienna",currencies:[{code:"EUR",name:""},{code:"TWD",name:""}],familyMembers:["","","A","B"],categories:["","","","","",""]},FV={apiKey:"AIzaSyC8kuPhbcCwDvkyPX2psh48MZkAr4HaSQQ",authDomain:"teavel-plan.firebaseapp.com",projectId:"teavel-plan",storageBucket:"teavel-plan.firebasestorage.app",messagingSenderId:"774661526446",appId:"1:774661526446:web:611723c1a725956bbc2e3f",measurementId:"G-JNHQ7DPDPH"};let zm,Gm,pa=!1;try{const i=pS(FV);zm=hV(i),Gm=u4(i),pa=!0,console.log("Firebase initialized successfully")}catch(i){console.error("Firebase Initialization Error:",i),pa=!1}const $V=()=>{const[i,e]=Y.useState(Ed(B0)),[n,s]=Y.useState(Ed(z0));return Y.useEffect(()=>{const o=setInterval(()=>{e(Ed(B0)),s(Ed(z0))},1e3);return()=>clearInterval(o)},[]),S.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[S.jsxs("div",{className:"flex items-center gap-1.5",children:[S.jsx("span",{className:U.TEXT_MUTED,children:""}),S.jsx("span",{className:`font-mono font-semibold ${U.TEXT_SECONDARY}`,children:i})]}),S.jsx("div",{className:"w-px h-4 bg-slate-300"}),S.jsxs("div",{className:"flex items-center gap-1.5",children:[S.jsx("span",{className:U.TEXT_MUTED,children:""}),S.jsx("span",{className:`font-mono font-semibold ${U.TEXT_SECONDARY}`,children:n})]})]})},YV=({flightInfo:i})=>S.jsx("div",{className:`sticky top-0 z-30 ${U.GLASS_BG} ${U.GLASS_BORDER} border-b ${U.GLASS_SHADOW}`,children:S.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3",children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsxs("h1",{className:`text-lg font-bold ${U.TEXT_PRIMARY} flex items-center gap-2`,children:[S.jsx(lm,{className:"w-5 h-5"}),""]}),S.jsx($V,{})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[S.jsxs("div",{className:`${U.GLASS_BG} ${U.GLASS_BORDER} rounded-lg p-2`,children:[S.jsxs("div",{className:`${U.TEXT_MUTED} mb-0.5 flex items-center gap-1`,children:[S.jsx(lm,{className:"w-3 h-3"}),"  (",i?.outbound?.airline," ",i?.outbound?.flightNumber,")"]}),S.jsx("div",{className:`${U.TEXT_PRIMARY} font-semibold`,children:i?.outbound?.departure?.time}),S.jsxs("div",{className:U.TEXT_SECONDARY,children:[i?.outbound?.departure?.code,"  ",i?.outbound?.arrival?.code]})]}),S.jsxs("div",{className:`${U.GLASS_BG} ${U.GLASS_BORDER} rounded-lg p-2`,children:[S.jsxs("div",{className:`${U.TEXT_MUTED} mb-0.5 flex items-center gap-1`,children:[S.jsx(lm,{className:"w-3 h-3"}),"  (",i?.inbound?.airline," ",i?.inbound?.flightNumber,")"]}),S.jsx("div",{className:`${U.TEXT_PRIMARY} font-semibold`,children:i?.inbound?.departure?.time}),S.jsxs("div",{className:U.TEXT_SECONDARY,children:[i?.inbound?.departure?.code,"  ",i?.inbound?.arrival?.code]})]})]})]})}),XV=({days:i,selectedDayIndex:e,onSelectDay:n})=>S.jsx("div",{className:`sticky top-[120px] z-20 ${U.GLASS_BG} ${U.GLASS_BORDER} border-b ${U.GLASS_SHADOW} touch-pan-x`,children:S.jsx("div",{className:"max-w-6xl mx-auto px-2 py-3 overflow-x-auto scrollbar-hide",children:S.jsx("div",{className:"flex gap-3 min-w-max",children:i.map(s=>{const o=new Date(s.date),c=`${o.getMonth()+1}/${o.getDate()}`,u=e===s.index,m=s.activities&&s.activities.length>0?s.activities.find(p=>p.type==="sightseeing"||p.type==="accommodation")?.location?.split(",")[0]?.split(" ")[0]||s.city||"":s.city||"";return S.jsxs("button",{onClick:()=>n(s.index),className:`px-5 py-3 rounded-xl text-sm font-medium transition-all duration-200 whitespace-nowrap flex flex-col items-center min-w-[110px] active:scale-95 ${u?`${U.BTN_PRIMARY} shadow-xl`:`${U.BTN_INACTIVE} hover:scale-105`}`,children:[S.jsxs("div",{className:"font-bold text-base mb-0.5",children:["Day ",s.index+1]}),S.jsx("div",{className:`text-xs ${u?"text-slate-300":"text-slate-500"}`,children:c}),m&&S.jsx("div",{className:`text-xs mt-0.5 ${u?"text-slate-400":"text-slate-600"}`,children:m.length>10?m.slice(0,10)+"...":m})]},s.index)})})})}),QV=({activity:i,dayIndex:e,onEdit:n,onDelete:s,onAddExpense:o,provided:c})=>{const[u,m]=Y.useState(!1),[p,g]=Y.useState(i),_=()=>{n(e,p),m(!1)},v=Y.useMemo(()=>!i.expenses||i.expenses.length===0?{}:i.expenses.reduce((E,w)=>(E[w.currency]=(E[w.currency]||0)+w.amount,E),{}),[i.expenses]);return u?S.jsx("div",{ref:c.innerRef,...c.draggableProps,className:`${U.GLASS_BG} ${U.GLASS_BORDER} rounded-xl p-4 mb-3 ${U.GLASS_SHADOW}`,children:S.jsxs("div",{className:"space-y-3",children:[S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("div",{children:[S.jsx("label",{className:`text-xs ${U.TEXT_MUTED} mb-1 block`,children:""}),S.jsx("input",{type:"time",value:p.time,onChange:E=>g({...p,time:E.target.value}),className:`w-full px-3 py-2 rounded-lg border ${U.GLASS_BORDER} ${U.TEXT_PRIMARY}`})]}),S.jsxs("div",{children:[S.jsx("label",{className:`text-xs ${U.TEXT_MUTED} mb-1 block`,children:""}),S.jsx("input",{type:"text",value:p.location,onChange:E=>g({...p,location:E.target.value}),className:`w-full px-3 py-2 rounded-lg border ${U.GLASS_BORDER} ${U.TEXT_PRIMARY}`})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:`text-xs ${U.TEXT_MUTED} mb-1 block`,children:""}),S.jsx("input",{type:"text",value:p.name,onChange:E=>g({...p,name:E.target.value}),className:`w-full px-3 py-2 rounded-lg border ${U.GLASS_BORDER} ${U.TEXT_PRIMARY}`})]}),S.jsxs("div",{children:[S.jsx("label",{className:`text-xs ${U.TEXT_MUTED} mb-1 block`,children:""}),S.jsx("textarea",{value:p.note||"",onChange:E=>g({...p,note:E.target.value}),className:`w-full px-3 py-2 rounded-lg border ${U.GLASS_BORDER} ${U.TEXT_PRIMARY}`,rows:2})]}),S.jsxs("div",{className:"flex gap-2",children:[S.jsx("button",{onClick:_,className:`flex-1 py-2 rounded-lg ${U.BTN_ACCENT}`,children:""}),S.jsx("button",{onClick:()=>m(!1),className:`flex-1 py-2 rounded-lg ${U.BTN_PRIMARY}`,children:""})]})]})}):S.jsx("div",{ref:c.innerRef,...c.draggableProps,className:`${U.GLASS_BG} ${U.GLASS_BORDER} rounded-xl p-4 mb-3 ${U.GLASS_SHADOW} ${U.GLASS_HOVER}`,children:S.jsxs("div",{className:"flex items-start gap-3",children:[S.jsx("div",{...c.dragHandleProps,className:`${U.TEXT_MUTED} cursor-grab active:cursor-grabbing`,children:S.jsx(MV,{className:"w-5 h-5"})}),S.jsxs("div",{className:"flex-1",children:[S.jsxs("div",{className:"flex items-start justify-between mb-2",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(NV,{className:`w-4 h-4 ${U.TEXT_MUTED}`}),S.jsx("span",{className:`font-bold ${U.TEXT_PRIMARY}`,children:i.time})]}),S.jsxs("div",{className:"flex gap-1",children:[S.jsx("a",{href:IV(i.location),target:"_blank",rel:"noopener noreferrer",className:`p-1.5 rounded-lg ${U.BTN_GHOST}`,children:S.jsx(DV,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>m(!0),className:`p-1.5 rounded-lg ${U.BTN_GHOST}`,children:S.jsx(va,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>s(e,i.id),className:`p-1.5 rounded-lg ${U.BTN_GHOST} text-rose-600`,children:S.jsx(Rr,{className:"w-4 h-4"})})]})]}),S.jsx("h4",{className:`font-semibold ${U.TEXT_PRIMARY} mb-1`,children:i.name}),S.jsx("p",{className:`text-sm ${U.TEXT_MUTED} mb-2`,children:i.location}),i.note&&S.jsx("p",{className:`text-sm ${U.TEXT_SECONDARY} mb-2`,children:i.note}),i.expenses&&i.expenses.length>0&&S.jsxs("div",{className:`mt-3 pt-3 border-t ${U.GLASS_BORDER}`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-2",children:[S.jsx("span",{className:`text-xs font-semibold ${U.TEXT_MUTED}`,children:""}),S.jsx("div",{className:"flex gap-2",children:Object.entries(v).map(([E,w])=>S.jsxs("span",{className:`text-sm font-bold ${E==="EUR"?"text-emerald-400":E==="TWD"?"text-blue-400":U.TEXT_PRIMARY}`,children:[w.toFixed(E==="TWD"?0:2)," ",E]},E))})]}),S.jsx("div",{className:"space-y-1",children:i.expenses.map(E=>S.jsxs("div",{className:"flex justify-between text-xs",children:[S.jsx("span",{className:U.TEXT_SECONDARY,children:E.description}),S.jsxs("span",{className:`font-semibold ${E.currency==="EUR"?"text-emerald-400":E.currency==="TWD"?"text-blue-400":U.TEXT_PRIMARY}`,children:[E.amount," ",E.currency]})]},E.id))})]}),S.jsxs("button",{onClick:()=>o(e,i.id),className:`mt-3 w-full py-2 rounded-lg ${U.BTN_PRIMARY} text-sm`,children:[S.jsx(As,{className:"w-4 h-4 inline mr-1"})," "]})]})]})})},KV=({isOpen:i,onClose:e,onSave:n,expense:s,familyMembers:o=[],currencies:c=[],categories:u=[],isIndependent:m=!1})=>{const[p,g]=Y.useState(s||{amount:"",description:"",currency:c[0]?.code||"EUR",payer:o[0]||"",category:u[0]||"Food",date:new Date().toISOString().split("T")[0]});Y.useEffect(()=>{g(s||{amount:"",description:"",currency:c[0]?.code||"EUR",payer:o[0]||"",category:u[0]||"Food",date:new Date().toISOString().split("T")[0]})},[s,c,o,u]);const _=v=>{v.preventDefault(),n({...p,id:p.id||ic(),amount:parseFloat(p.amount)}),e()};return S.jsx(Bc,{isOpen:i,onClose:e,title:s?"":"",children:S.jsxs("form",{onSubmit:_,className:"space-y-4",children:[m&&S.jsxs("div",{children:[S.jsx("label",{className:`text-sm font-medium ${U.TEXT_PRIMARY} block mb-1`,children:""}),S.jsx("input",{type:"date",value:p.date,onChange:v=>g({...p,date:v.target.value}),required:!0,className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("div",{children:[S.jsx("label",{className:`text-sm font-medium ${U.TEXT_PRIMARY} block mb-1`,children:""}),S.jsx("select",{value:p.currency,onChange:v=>g({...p,currency:v.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500",children:c.map(v=>S.jsx("option",{value:v.code,className:"text-slate-900 bg-white",children:v.code},v.code))})]}),S.jsxs("div",{children:[S.jsx("label",{className:`text-sm font-medium ${U.TEXT_PRIMARY} block mb-1`,children:""}),S.jsx("input",{type:"number",step:"0.01",value:p.amount,onChange:v=>g({...p,amount:v.target.value}),required:!0,className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:`text-sm font-medium ${U.TEXT_PRIMARY} block mb-1`,children:""}),S.jsx("input",{type:"text",value:p.description,onChange:v=>g({...p,description:v.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("div",{children:[S.jsx("label",{className:`text-sm font-medium ${U.TEXT_PRIMARY} block mb-1`,children:""}),S.jsx("select",{value:p.payer,onChange:v=>g({...p,payer:v.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500",children:o.map(v=>S.jsx("option",{value:v,className:"text-slate-900 bg-white",children:v},v))})]}),S.jsxs("div",{children:[S.jsx("label",{className:`text-sm font-medium ${U.TEXT_PRIMARY} block mb-1`,children:""}),S.jsx("select",{value:p.category,onChange:v=>g({...p,category:v.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500",children:u.map(v=>S.jsx("option",{value:v,className:"text-slate-900 bg-white",children:v},v))})]})]}),S.jsx("button",{type:"submit",className:`w-full py-3 rounded-lg ${U.BTN_ACCENT}`,children:s?"":""})]})})},WV=({isOpen:i,onClose:e,onSave:n})=>{const[s,o]=Y.useState({time:"09:00",name:"",location:"",note:""}),c=u=>{u.preventDefault(),n(s),o({time:"09:00",name:"",location:"",note:""})};return S.jsx(Bc,{isOpen:i,onClose:e,title:"",children:S.jsxs("form",{onSubmit:c,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:`text-sm font-medium ${U.TEXT_PRIMARY} block mb-1`,children:""}),S.jsx("input",{type:"time",value:s.time,onChange:u=>o({...s,time:u.target.value}),required:!0,className:"w-full px-3 py-2 rounded-lg bg-white/5 border-2 border-white/10 text-white placeholder-slate-500"})]}),S.jsxs("div",{children:[S.jsx("label",{className:`text-sm font-medium ${U.TEXT_PRIMARY} block mb-1`,children:""}),S.jsx("input",{type:"text",value:s.name,onChange:u=>o({...s,name:u.target.value}),required:!0,className:"w-full px-3 py-2 rounded-lg bg-white/5 border-2 border-white/10 text-white placeholder-slate-500",placeholder:": "})]}),S.jsxs("div",{children:[S.jsx("label",{className:`text-sm font-medium ${U.TEXT_PRIMARY} block mb-1`,children:""}),S.jsx("input",{type:"text",value:s.location,onChange:u=>o({...s,location:u.target.value}),required:!0,className:"w-full px-3 py-2 rounded-lg bg-white/5 border-2 border-white/10 text-white placeholder-slate-500",placeholder:": "})]}),S.jsxs("div",{children:[S.jsx("label",{className:`text-sm font-medium ${U.TEXT_PRIMARY} block mb-1`,children:""}),S.jsx("textarea",{value:s.note,onChange:u=>o({...s,note:u.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border-2 border-white/10 text-white placeholder-slate-500",rows:3,placeholder:": "})]}),S.jsx("button",{type:"submit",className:`w-full py-3 rounded-lg ${U.BTN_ACCENT}`,children:""})]})})},w1=({total:i,current:e,colorClass:n="bg-blue-500"})=>{const s=i===0?0:Math.round(e/i*100);return S.jsxs("div",{className:"mb-6",children:[S.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[S.jsx("span",{className:U.TEXT_MUTED,children:""}),S.jsxs("span",{className:U.TEXT_PRIMARY,children:[s,"% (",e,"/",i,")"]})]}),S.jsx("div",{className:"w-full bg-white/10 rounded-full h-2.5",children:S.jsx("div",{className:`h-2.5 rounded-full transition-all duration-500 ${n}`,style:{width:`${s}%`}})})]})},JV=({isOpen:i,onClose:e,onSave:n,category:s,items:o})=>{const[c,u]=Y.useState(""),[m,p]=Y.useState([]);Y.useEffect(()=>{i&&s&&(u(s),p(JSON.parse(JSON.stringify(o))))},[i,s,o]);const g=N=>{if(!N.destination)return;const j=Array.from(m),[V]=j.splice(N.source.index,1);j.splice(N.destination.index,0,V),p(j)},_=(N,j,V)=>{p(m.map(Q=>Q.id===N?{...Q,[j]:V}:Q))},v=N=>{p(m.filter(j=>j.id!==N))},E=()=>{const N={id:`temp-${Date.now()}`,item:"",category:c,packed:!1};p([...m,N])},w=()=>{n(s,c,m),e()};return S.jsx(Bc,{isOpen:i,onClose:e,title:"",children:S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:`text-sm font-medium ${U.TEXT_PRIMARY} block mb-1`,children:""}),S.jsx("input",{type:"text",value:c,onChange:N=>u(N.target.value),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500"})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between items-center mb-2",children:[S.jsx("label",{className:`text-sm font-medium ${U.TEXT_PRIMARY}`,children:" ()"}),S.jsx("button",{onClick:E,className:`text-xs px-2 py-1 rounded ${U.BTN_SECONDARY}`,children:"+ "})]}),S.jsx("div",{className:"max-h-60 overflow-y-auto pr-1",children:S.jsx(YT,{onDragEnd:g,children:S.jsx(iS,{droppableId:"category-items",children:N=>S.jsxs("div",{ref:N.innerRef,...N.droppableProps,className:"space-y-2",children:[m.map((j,V)=>S.jsx(JT,{draggableId:j.id,index:V,children:Q=>S.jsxs("div",{ref:Q.innerRef,...Q.draggableProps,...Q.dragHandleProps,className:`${U.GLASS_BG} border border-white/5 rounded-lg p-2 flex items-center gap-2`,children:[S.jsx("div",{className:"text-slate-500 cursor-grab",children:""}),S.jsx("input",{type:"text",value:j.item,onChange:J=>_(j.id,"item",J.target.value),className:"flex-1 bg-transparent border-none text-white focus:ring-0 text-sm",placeholder:""}),S.jsx("button",{onClick:()=>v(j.id),className:"text-rose-500 hover:bg-white/10 p-1 rounded",children:S.jsx(Rr,{className:"w-4 h-4"})})]})},j.id)),N.placeholder]})})})})]}),S.jsx("button",{onClick:w,className:`w-full py-3 rounded-lg ${U.BTN_ACCENT}`,children:""})]})})},ZV=({isOpen:i,onClose:e,onSave:n,item:s,familyMembers:o=[]})=>{const[c,u]=Y.useState({item:"",assignedTo:o[0]||"",quantity:"1",location:"",note:""});Y.useEffect(()=>{u(s||{item:"",assignedTo:o[0]||"",quantity:"1",location:"",note:""})},[s,o]);const m=p=>{p.preventDefault(),n(c),u({item:"",assignedTo:o[0]||"",quantity:"1",location:"",note:""}),e()};return S.jsx(Bc,{isOpen:i,onClose:e,title:s?"":"",children:S.jsxs("form",{onSubmit:m,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:`text-sm font-medium ${U.TEXT_PRIMARY} block mb-1`,children:""}),S.jsx("input",{type:"text",value:c.item,onChange:p=>u({...c,item:p.target.value}),required:!0,className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500",placeholder:": "})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[S.jsxs("div",{children:[S.jsx("label",{className:`text-sm font-medium ${U.TEXT_PRIMARY} block mb-1`,children:""}),S.jsx("select",{value:c.assignedTo,onChange:p=>u({...c,assignedTo:p.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white",children:o.map(p=>S.jsx("option",{value:p,className:"text-slate-900 bg-white",children:p},p))})]}),S.jsxs("div",{children:[S.jsx("label",{className:`text-sm font-medium ${U.TEXT_PRIMARY} block mb-1`,children:""}),S.jsx("input",{type:"number",min:"1",value:c.quantity,onChange:p=>u({...c,quantity:p.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:`text-sm font-medium ${U.TEXT_PRIMARY} block mb-1`,children:""}),S.jsx("input",{type:"text",value:c.location,onChange:p=>u({...c,location:p.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500",placeholder:": "})]}),S.jsxs("div",{children:[S.jsx("label",{className:`text-sm font-medium ${U.TEXT_PRIMARY} block mb-1`,children:""}),S.jsx("textarea",{value:c.note,onChange:p=>u({...c,note:p.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500",rows:2})]}),S.jsx("button",{type:"submit",className:`w-full py-3 rounded-lg ${U.BTN_ACCENT}`,children:s?"":""})]})})},eL=({isOpen:i,onClose:e,onSave:n,existingCategories:s})=>{const[o,c]=Y.useState({item:"",category:s[0]||"",isNewCategory:!1,newCategoryName:""}),u=m=>{m.preventDefault();const p=o.isNewCategory?o.newCategoryName:o.category;p&&(n({item:o.item,category:p}),c({item:"",category:s[0]||"",isNewCategory:!1,newCategoryName:""}))};return S.jsx(Bc,{isOpen:i,onClose:e,title:"",children:S.jsxs("form",{onSubmit:u,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:`text-sm font-medium ${U.TEXT_PRIMARY} block mb-1`,children:""}),S.jsx("input",{type:"text",value:o.item,onChange:m=>c({...o,item:m.target.value}),required:!0,className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500",placeholder:": "})]}),S.jsxs("div",{children:[S.jsx("label",{className:`text-sm font-medium ${U.TEXT_PRIMARY} block mb-1`,children:""}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("input",{type:"radio",id:"existing",checked:!o.isNewCategory,onChange:()=>c({...o,isNewCategory:!1}),className:"text-blue-500"}),S.jsx("label",{htmlFor:"existing",className:U.TEXT_PRIMARY,children:""})]}),!o.isNewCategory&&S.jsx("select",{value:o.category,onChange:m=>c({...o,category:m.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white",children:s.map(m=>S.jsx("option",{value:m,className:"text-slate-900 bg-white",children:m},m))}),S.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[S.jsx("input",{type:"radio",id:"new",checked:o.isNewCategory,onChange:()=>c({...o,isNewCategory:!0}),className:"text-blue-500"}),S.jsx("label",{htmlFor:"new",className:U.TEXT_PRIMARY,children:""})]}),o.isNewCategory&&S.jsx("input",{type:"text",value:o.newCategoryName,onChange:m=>c({...o,newCategoryName:m.target.value}),placeholder:"",className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500"})]})]}),S.jsx("button",{type:"submit",className:`w-full py-3 rounded-lg ${U.BTN_ACCENT}`,children:""})]})})},tL=({tripData:i,settings:e,onAddIndependentExpense:n,onEditExpense:s,onDeleteExpense:o})=>{const c=Y.useMemo(()=>{const p=[];i.days.forEach(_=>{_.activities.forEach(v=>{v.expenses&&v.expenses.forEach(E=>{p.push({...E,date:_.date,activityName:v.name,source:"activity",dayIndex:_.index,activityId:v.id})})})});const g=(i.independentExpenses||[]).map(_=>({..._,source:"independent"}));return[...p,...g].sort((_,v)=>new Date(_.date)-new Date(v.date))},[i]),u=Y.useMemo(()=>{const p={};return c.forEach(g=>{p[g.currency]=(p[g.currency]||0)+g.amount}),p},[c]),m=Y.useMemo(()=>{const p={};return e.currencies.forEach(({code:g})=>{const _=c.filter(te=>te.currency===g);if(_.length===0)return;const v=_.reduce((te,se)=>te+se.amount,0),E=v/e.familyMembers.length,w={};e.familyMembers.forEach(te=>{const se=_.filter(ue=>ue.payer===te).reduce((ue,ce)=>ue+ce.amount,0);w[te]=se-E});const N=Object.entries(w).filter(([te,se])=>se<0).sort((te,se)=>te[1]-se[1]),j=Object.entries(w).filter(([te,se])=>se>0).sort((te,se)=>se[1]-te[1]),V=[];let Q=0,J=0;for(;Q<N.length&&J<j.length;){const[te,se]=N[Q],[ue,ce]=j[J],C=Math.min(-se,ce);C>.01&&V.push({from:te,to:ue,amount:C}),N[Q][1]+=C,j[J][1]-=C,Math.abs(N[Q][1])<.01&&Q++,Math.abs(j[J][1])<.01&&J++}p[g]={total:v,perPerson:E,transactions:V}}),p},[c,e]);return S.jsxs("div",{className:"p-4 space-y-4 pb-24",children:[S.jsx("h2",{className:`text-2xl font-bold ${U.TEXT_PRIMARY} mb-4`,children:""}),S.jsxs("div",{className:`${U.GLASS_BG} ${U.GLASS_BORDER} rounded-xl p-4 ${U.GLASS_SHADOW}`,children:[S.jsx("h3",{className:`text-lg font-bold ${U.TEXT_PRIMARY} mb-3`,children:""}),S.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(u).map(([p,g])=>S.jsxs("div",{className:`${U.GLASS_BG} ${U.GLASS_BORDER} rounded-lg p-3 text-center`,children:[S.jsx("div",{className:`text-2xl font-bold ${p==="EUR"?"text-emerald-400":p==="TWD"?"text-blue-400":U.TEXT_PRIMARY}`,children:g.toFixed(p==="TWD"?0:2)}),S.jsx("div",{className:`text-sm ${U.TEXT_MUTED}`,children:p})]},p))})]}),S.jsxs("div",{className:`${U.GLASS_BG} ${U.GLASS_BORDER} rounded-xl p-4 ${U.GLASS_SHADOW}`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsx("h3",{className:`text-lg font-bold ${U.TEXT_PRIMARY}`,children:""}),S.jsxs("button",{className:`px-3 py-1.5 rounded-lg ${U.BTN_PRIMARY} text-sm`,children:[S.jsx(jV,{className:"w-4 h-4 inline mr-1"})," "]})]}),Object.entries(m).map(([p,g])=>S.jsxs("div",{className:"mb-4 last:mb-0",children:[S.jsxs("div",{className:`font-bold ${U.TEXT_PRIMARY} mb-2`,children:[p," "]}),S.jsxs("div",{className:`text-sm ${U.TEXT_SECONDARY} mb-2`,children:[": ",g.perPerson.toFixed(p==="TWD"?0:2)," ",p]}),S.jsx("div",{className:"space-y-1",children:g.transactions.map((_,v)=>S.jsxs("div",{className:`text-sm ${U.TEXT_PRIMARY} bg-white/5 rounded px-2 py-1`,children:[_.from,"  ",_.to,": ",_.amount.toFixed(p==="TWD"?0:2)," ",p]},v))})]},p))]}),S.jsxs("div",{className:`${U.GLASS_BG} ${U.GLASS_BORDER} rounded-xl p-4 ${U.GLASS_SHADOW}`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsx("h3",{className:`text-lg font-bold ${U.TEXT_PRIMARY}`,children:""}),S.jsxs("button",{onClick:n,className:`px-3 py-1.5 rounded-lg ${U.BTN_ACCENT} text-sm`,children:[S.jsx(As,{className:"w-4 h-4 inline mr-1"})," "]})]}),S.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:c.map(p=>S.jsx("div",{className:`${U.GLASS_BG} ${U.GLASS_BORDER} rounded-lg p-3`,children:S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("div",{className:`font-semibold ${U.TEXT_PRIMARY}`,children:p.description}),S.jsxs("div",{className:`text-xs ${U.TEXT_MUTED} mt-1`,children:[A1(p.date),"  ",p.payer,"  ",p.category,p.activityName&&`  ${p.activityName}`]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs("div",{className:`font-bold text-lg ${p.currency==="EUR"?"text-emerald-400":p.currency==="TWD"?"text-blue-400":U.TEXT_PRIMARY}`,children:[p.amount," ",p.currency]}),S.jsx("button",{onClick:()=>s(p),className:`p-1.5 rounded-lg ${U.BTN_GHOST}`,children:S.jsx(va,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>o(p),className:`p-1.5 rounded-lg ${U.BTN_GHOST} text-rose-600`,children:S.jsx(Rr,{className:"w-4 h-4"})})]})]})},p.id))})]})]})},nL=({shoppingList:i,onTogglePurchased:e,onAddItem:n,onEditItem:s,onDeleteItem:o})=>{const c=i.length,u=i.filter(m=>m.purchased).length;return S.jsxs("div",{className:"p-4 space-y-4 pb-24",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("h2",{className:`text-2xl font-bold ${U.TEXT_PRIMARY}`,children:""}),S.jsxs("button",{onClick:n,className:`px-4 py-2 rounded-lg ${U.BTN_ACCENT}`,children:[S.jsx(As,{className:"w-4 h-4 inline mr-1"})," "]})]}),S.jsx(w1,{total:c,current:u,colorClass:"bg-emerald-500"}),S.jsx("div",{className:"space-y-2",children:i.map(m=>S.jsx("div",{className:`${U.GLASS_BG} ${U.GLASS_BORDER} rounded-xl p-4 ${U.GLASS_SHADOW}`,children:S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("input",{type:"checkbox",checked:m.purchased,onChange:()=>e(m.id),className:"w-5 h-5 rounded border-slate-500 bg-slate-700"}),S.jsxs("div",{className:"flex-1",children:[S.jsx("div",{className:`font-semibold ${m.purchased?"line-through opacity-50":""} ${U.TEXT_PRIMARY}`,children:m.item}),S.jsxs("div",{className:`text-sm ${U.TEXT_MUTED} flex flex-wrap gap-2 mt-1`,children:[S.jsxs("span",{children:[": ",m.assignedTo]}),S.jsxs("span",{children:[" : ",m.quantity]}),m.location&&S.jsxs("span",{children:[" : ",m.location]})]}),m.note&&S.jsxs("div",{className:`text-xs ${U.TEXT_SECONDARY} mt-1`,children:[": ",m.note]})]}),S.jsx("button",{onClick:()=>s(m),className:`p-2 rounded-lg ${U.BTN_GHOST}`,children:S.jsx(va,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>o(m.id),className:`p-2 rounded-lg ${U.BTN_GHOST} text-rose-500 hover:bg-rose-500/10`,children:S.jsx(Rr,{className:"w-4 h-4"})})]})},m.id))})]})},iL=({packingList:i,onTogglePacked:e,onAddItem:n,onDeleteItem:s,onOpenCategoryEdit:o,onDeleteCategory:c})=>{const u=[...new Set(i.map(g=>g.category))],m=i.length,p=i.filter(g=>g.packed).length;return S.jsxs("div",{className:"p-4 space-y-4 pb-24",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("h2",{className:`text-2xl font-bold ${U.TEXT_PRIMARY}`,children:""}),S.jsxs("button",{onClick:n,className:`px-4 py-2 rounded-lg ${U.BTN_ACCENT}`,children:[S.jsx(As,{className:"w-4 h-4 inline mr-1"})," "]})]}),S.jsx(w1,{total:m,current:p,colorClass:"bg-blue-500"}),u.map(g=>S.jsxs("div",{className:`${U.GLASS_BG} ${U.GLASS_BORDER} rounded-xl p-4 ${U.GLASS_SHADOW}`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-white/10 pb-2",children:[S.jsx("h3",{className:`font-bold ${U.TEXT_PRIMARY}`,children:g}),S.jsxs("div",{className:"flex gap-1",children:[S.jsx("button",{onClick:()=>o(g),className:`p-1.5 rounded-lg ${U.BTN_GHOST}`,children:S.jsx(va,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>{window.confirm(`${g}?`)&&c(g)},className:`p-1.5 rounded-lg ${U.BTN_GHOST} text-rose-500 hover:bg-rose-500/10`,children:S.jsx(Rr,{className:"w-4 h-4"})})]})]}),S.jsx("div",{className:"space-y-2",children:i.filter(_=>_.category===g).map(_=>S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("input",{type:"checkbox",checked:_.packed,onChange:()=>e(_.id),className:"w-5 h-5 rounded border-slate-500 bg-slate-700"}),S.jsx("div",{className:`flex-1 ${_.packed?"line-through opacity-50":""} ${U.TEXT_PRIMARY}`,children:_.item}),S.jsx("button",{onClick:()=>s(_.id),className:`p-2 rounded-lg ${U.BTN_GHOST} text-rose-500 hover:bg-rose-500/10`,children:S.jsx(Rr,{className:"w-4 h-4"})})]},_.id))})]},g))]})},rL=({settings:i,onUpdateSettings:e})=>{const[n,s]=Y.useState(null),[o,c]=Y.useState(""),[u,m]=Y.useState(""),[p,g]=Y.useState(""),[_,v]=Y.useState(null),[E,w]=Y.useState(null),[N,j]=Y.useState(""),[V,Q]=Y.useState(""),J=()=>{if(!o.trim())return;const oe={...i,familyMembers:[...i.familyMembers,o.trim()]};e(oe),c(""),s(null)},te=oe=>{if(!window.confirm(`${oe}`))return;const Ee={...i,familyMembers:i.familyMembers.filter(K=>K!==oe)};e(Ee)},se=oe=>{v("member"),w(oe),j(oe)},ue=()=>{if(!N.trim()||N===E){v(null);return}const oe={...i,familyMembers:i.familyMembers.map(Ee=>Ee===E?N.trim():Ee)};e(oe),v(null)},ce=()=>{if(!o.trim())return;const oe={...i,categories:[...i.categories,o.trim()]};e(oe),c(""),s(null)},C=oe=>{if(!window.confirm(`${oe}`))return;const Ee={...i,categories:i.categories.filter(K=>K!==oe)};e(Ee)},R=oe=>{v("category"),w(oe),j(oe)},I=()=>{if(!N.trim()||N===E){v(null);return}const oe={...i,categories:i.categories.map(Ee=>Ee===E?N.trim():Ee)};e(oe),v(null)},P=()=>{if(!u.trim()||!p.trim())return;const oe={...i,currencies:[...i.currencies,{code:u.trim().toUpperCase(),name:p.trim()}]};e(oe),m(""),g(""),s(null)},M=oe=>{if(!window.confirm(`${oe}`))return;const Ee={...i,currencies:i.currencies.filter(K=>K.code!==oe)};e(Ee)},B=oe=>{v("currency"),w(oe.code),j(oe.code),Q(oe.name)},D=()=>{if(!N.trim()||!V.trim()){v(null);return}const oe={...i,currencies:i.currencies.map(Ee=>Ee.code===E?{code:N.trim().toUpperCase(),name:V.trim()}:Ee)};e(oe),v(null)};return S.jsxs("div",{className:"p-4 space-y-4 pb-24",children:[S.jsx("h2",{className:`text-2xl font-bold ${U.TEXT_PRIMARY} mb-4`,children:""}),S.jsxs("div",{className:`${U.GLASS_BG} ${U.GLASS_BORDER} rounded-xl p-4 ${U.GLASS_SHADOW}`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsxs("h3",{className:`text-lg font-bold ${U.TEXT_PRIMARY} flex items-center gap-2`,children:[S.jsx(PV,{className:"w-5 h-5"})," "]}),S.jsxs("button",{onClick:()=>s(n==="members"?null:"members"),className:`px-3 py-1.5 rounded-lg ${U.BTN_ACCENT} text-sm`,children:[S.jsx(As,{className:"w-4 h-4 inline mr-1"})," "]})]}),n==="members"&&S.jsxs("div",{className:"mb-3 flex gap-2",children:[S.jsx("input",{type:"text",value:o,onChange:oe=>c(oe.target.value),placeholder:": ",className:"flex-1 px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500",onKeyPress:oe=>oe.key==="Enter"&&J()}),S.jsx("button",{onClick:J,className:`px-4 py-2 rounded-lg ${U.BTN_ACCENT}`,children:""})]}),S.jsx("div",{className:"space-y-2",children:i.familyMembers.map(oe=>S.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg ${U.GLASS_BG} ${U.GLASS_BORDER}`,children:_==="member"&&E===oe?S.jsxs("div",{className:"flex-1 flex gap-2 mr-2",children:[S.jsx("input",{type:"text",value:N,onChange:Ee=>j(Ee.target.value),className:"flex-1 px-2 py-1 rounded bg-white/10 border border-white/20 text-white"}),S.jsx("button",{onClick:ue,className:`px-3 py-1 rounded ${U.BTN_ACCENT} text-xs`,children:""}),S.jsx("button",{onClick:()=>v(null),className:`px-3 py-1 rounded ${U.BTN_PRIMARY} text-xs`,children:""})]}):S.jsxs(S.Fragment,{children:[S.jsx("span",{className:U.TEXT_PRIMARY,children:oe}),S.jsxs("div",{className:"flex gap-1",children:[S.jsx("button",{onClick:()=>se(oe),className:`p-1.5 rounded-lg ${U.BTN_GHOST}`,children:S.jsx(va,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>te(oe),className:`p-1.5 rounded-lg ${U.BTN_GHOST} text-rose-500`,children:S.jsx(Rr,{className:"w-4 h-4"})})]})]})},oe))})]}),S.jsxs("div",{className:`${U.GLASS_BG} ${U.GLASS_BORDER} rounded-xl p-4 ${U.GLASS_SHADOW}`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsxs("h3",{className:`text-lg font-bold ${U.TEXT_PRIMARY} flex items-center gap-2`,children:[S.jsx(OV,{className:"w-5 h-5"})," "]}),S.jsxs("button",{onClick:()=>s(n==="categories"?null:"categories"),className:`px-3 py-1.5 rounded-lg ${U.BTN_ACCENT} text-sm`,children:[S.jsx(As,{className:"w-4 h-4 inline mr-1"})," "]})]}),n==="categories"&&S.jsxs("div",{className:"mb-3 flex gap-2",children:[S.jsx("input",{type:"text",value:o,onChange:oe=>c(oe.target.value),placeholder:": ",className:"flex-1 px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500",onKeyPress:oe=>oe.key==="Enter"&&ce()}),S.jsx("button",{onClick:ce,className:`px-4 py-2 rounded-lg ${U.BTN_ACCENT}`,children:""})]}),S.jsx("div",{className:"space-y-2",children:i.categories.map(oe=>S.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg ${U.GLASS_BG} ${U.GLASS_BORDER}`,children:_==="category"&&E===oe?S.jsxs("div",{className:"flex-1 flex gap-2 mr-2",children:[S.jsx("input",{type:"text",value:N,onChange:Ee=>j(Ee.target.value),className:"flex-1 px-2 py-1 rounded bg-white/10 border border-white/20 text-white"}),S.jsx("button",{onClick:I,className:`px-3 py-1 rounded ${U.BTN_ACCENT} text-xs`,children:""}),S.jsx("button",{onClick:()=>v(null),className:`px-3 py-1 rounded ${U.BTN_PRIMARY} text-xs`,children:""})]}):S.jsxs(S.Fragment,{children:[S.jsx("span",{className:U.TEXT_PRIMARY,children:oe}),S.jsxs("div",{className:"flex gap-1",children:[S.jsx("button",{onClick:()=>R(oe),className:`p-1.5 rounded-lg ${U.BTN_GHOST}`,children:S.jsx(va,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>C(oe),className:`p-1.5 rounded-lg ${U.BTN_GHOST} text-rose-500`,children:S.jsx(Rr,{className:"w-4 h-4"})})]})]})},oe))})]}),S.jsxs("div",{className:`${U.GLASS_BG} ${U.GLASS_BORDER} rounded-xl p-4 ${U.GLASS_SHADOW}`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-3",children:[S.jsxs("h3",{className:`text-lg font-bold ${U.TEXT_PRIMARY} flex items-center gap-2`,children:[S.jsx(VV,{className:"w-5 h-5"})," "]}),S.jsxs("button",{onClick:()=>s(n==="currencies"?null:"currencies"),className:`px-3 py-1.5 rounded-lg ${U.BTN_ACCENT} text-sm`,children:[S.jsx(As,{className:"w-4 h-4 inline mr-1"})," "]})]}),n==="currencies"&&S.jsxs("div",{className:"mb-3 space-y-2",children:[S.jsx("input",{type:"text",value:u,onChange:oe=>m(oe.target.value.toUpperCase()),placeholder:" (: USD)",maxLength:3,className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500"}),S.jsx("input",{type:"text",value:p,onChange:oe=>g(oe.target.value),placeholder:" (: )",className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500"}),S.jsx("button",{onClick:P,className:`w-full py-2 rounded-lg ${U.BTN_ACCENT}`,children:""})]}),S.jsx("div",{className:"space-y-2",children:i.currencies.map(oe=>S.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg ${U.GLASS_BG} ${U.GLASS_BORDER}`,children:_==="currency"&&E===oe.code?S.jsxs("div",{className:"flex-1 flex gap-2 mr-2",children:[S.jsx("input",{type:"text",value:N,onChange:Ee=>j(Ee.target.value.toUpperCase()),maxLength:3,className:"w-16 px-2 py-1 rounded bg-white/10 border border-white/20 text-white text-center"}),S.jsx("input",{type:"text",value:V,onChange:Ee=>Q(Ee.target.value),className:"flex-1 px-2 py-1 rounded bg-white/10 border border-white/20 text-white"}),S.jsx("button",{onClick:D,className:`px-3 py-1 rounded ${U.BTN_ACCENT} text-xs`,children:""}),S.jsx("button",{onClick:()=>v(null),className:`px-3 py-1 rounded ${U.BTN_PRIMARY} text-xs`,children:""})]}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{children:[S.jsx("span",{className:`${U.TEXT_PRIMARY} font-semibold`,children:oe.code}),S.jsxs("span",{className:`${U.TEXT_SECONDARY} text-sm ml-2`,children:["(",oe.name,")"]})]}),S.jsxs("div",{className:"flex gap-1",children:[S.jsx("button",{onClick:()=>B(oe),className:`p-1.5 rounded-lg ${U.BTN_GHOST}`,children:S.jsx(va,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>M(oe.code),className:`p-1.5 rounded-lg ${U.BTN_GHOST} text-rose-500`,children:S.jsx(Rr,{className:"w-4 h-4"})})]})]})},oe.code))})]})]})},sL=()=>{const[i,e]=Y.useState(()=>{const re=localStorage.getItem("tripData_v3");return re?JSON.parse(re):qV}),[n,s]=Y.useState(()=>{const re=localStorage.getItem("settings_v3");return re?{...G0,...JSON.parse(re)}:G0}),[o,c]=Y.useState(!0),[u,m]=Y.useState(null),[p,g]=Y.useState("itinerary"),[_,v]=Y.useState(1),[E,w]=Y.useState(!1),[N,j]=Y.useState(!1),[V,Q]=Y.useState(!1),[J,te]=Y.useState(!1),[se,ue]=Y.useState(!1),[ce,C]=Y.useState(null),[R,I]=Y.useState(null),[P,M]=Y.useState(null),[B,D]=Y.useState(null),[oe,Ee]=Y.useState(!1),K=pa?M0(zm,"trips","vienna-2026"):null,de=pa?M0(zm,"trips","settings-vienna-2026"):null;Y.useEffect(()=>{if(!pa){c(!1);return}const re=ZO(Gm,we=>{m(we),we&&console.log("User authenticated:",we.uid)});YO(Gm).catch(we=>{console.error("Auth Error:",we)});const _e=j0(K,we=>{if(we.exists()){console.log("Received remote trip data update");const We=we.data();e(We),localStorage.setItem("tripData_v3",JSON.stringify(We))}},we=>{console.error("Trip Data Sync Error:",we)}),ye=j0(de,we=>{if(we.exists()){console.log("Received remote settings update");const We=we.data();s(We),localStorage.setItem("settings_v3",JSON.stringify(We))}},we=>{console.error("Settings Sync Error:",we)});return c(!1),()=>{re(),_e(),ye()}},[]);const le=Y.useCallback(re=>{e(re),localStorage.setItem("tripData_v3",JSON.stringify(re)),pa&&K&&U0(K,re,{merge:!0}).catch(_e=>console.error("Save Error:",_e))},[K]),je=Y.useCallback((re,_e)=>{const ye=i.days.map(we=>we.index===re?{...we,activities:we.activities.map(We=>We.id===_e.id?_e:We)}:we);le({...i,days:ye})},[i,le]),Xe=Y.useCallback((re,_e)=>{if(!window.confirm("?"))return;const ye=i.days.map(we=>we.index===re?{...we,activities:we.activities.filter(We=>We.id!==_e)}:we);le({...i,days:ye})},[i,le]),L=Y.useCallback(()=>{j(!0)},[]),Z=Y.useCallback(re=>{const _e={id:ic(),...re,expenses:[]},ye=i.days.map(we=>we.index===_?{...we,activities:[...we.activities,_e]}:we);le({...i,days:ye}),j(!1)},[i,_,le]),he=Y.useCallback((re,_e)=>{M(_e),I(null),Ee(!1),w(!0)},[]),me=Y.useCallback(()=>{M(null),I(null),Ee(!0),w(!0)},[]),xe=Y.useCallback(re=>{I(re),Ee(re.source==="independent"),M(re.activityId||null),w(!0)},[]),De=Y.useCallback(re=>{if(window.confirm("?"))if(re.source==="independent"){const _e=(i.independentExpenses||[]).filter(ye=>ye.id!==re.id);le({...i,independentExpenses:_e})}else{const _e=i.days.map(ye=>ye.index===re.dayIndex?{...ye,activities:ye.activities.map(we=>we.id===re.activityId?{...we,expenses:(we.expenses||[]).filter(We=>We.id!==re.id)}:we)}:ye);le({...i,days:_e})}},[i,le]),Ue=Y.useCallback(re=>{if(oe){const _e=i.independentExpenses||[],ye=_e.findIndex(we=>we.id===re.id);ye>=0?_e[ye]=re:_e.push(re),le({...i,independentExpenses:_e})}else{const _e=i.days.map(ye=>{const we=ye.activities.some(We=>We.expenses?.some(xt=>xt.id===re.id));return ye.index===_||we?{...ye,activities:ye.activities.map(We=>{if(We.id===P){const xt=We.expenses||[],Ls=xt.findIndex(Nn=>Nn.id===re.id);return Ls>=0?xt[Ls]=re:xt.push(re),{...We,expenses:xt}}return We})}:ye});le({...i,days:_e})}},[i,_,P,oe,le]),vt=Y.useCallback(re=>{if(!re.destination)return;const _e=_,ye=i.days.map(we=>{if(we.index===_e){const We=Array.from(we.activities),[xt]=We.splice(re.source.index,1);return We.splice(re.destination.index,0,xt),{...we,activities:We}}return we});le({...i,days:ye})},[i,_,le]),et=Y.useCallback(re=>{const _e=i.shoppingList.map(ye=>ye.id===re?{...ye,purchased:!ye.purchased}:ye);le({...i,shoppingList:_e})},[i,le]),Dn=Y.useCallback(re=>{const _e=i.packingList.map(ye=>ye.id===re?{...ye,packed:!ye.packed}:ye);le({...i,packingList:_e})},[i,le]),nr=Y.useCallback(()=>{D(null),Q(!0)},[]),At=Y.useCallback(re=>{D(re),Q(!0)},[]),bn=Y.useCallback(re=>{if(re.id){const _e=(i.shoppingList||[]).map(ye=>ye.id===re.id?re:ye);le({...i,shoppingList:_e})}else{const _e={id:ic(),...re,purchased:!1};le({...i,shoppingList:[...i.shoppingList||[],_e]})}Q(!1)},[i,le]),qn=Y.useCallback(re=>{if(!window.confirm("?"))return;const _e=(i.shoppingList||[]).filter(ye=>ye.id!==re);le({...i,shoppingList:_e})},[i,le]),Ms=Y.useCallback(()=>{te(!0)},[]),ir=Y.useCallback(re=>{const _e={id:ic(),...re,packed:!1};le({...i,packingList:[...i.packingList||[],_e]}),te(!1)},[i,le]),Ps=Y.useCallback(re=>{if(!window.confirm("?"))return;const _e=(i.packingList||[]).filter(ye=>ye.id!==re);le({...i,packingList:_e})},[i,le]),Vs=Y.useCallback(re=>{C(re),ue(!0)},[]),Et=Y.useCallback((re,_e,ye)=>{const we=(i.packingList||[]).filter(xt=>xt.category!==re),We=ye.map(xt=>({...xt,category:_e,id:xt.id.startsWith("temp-")?ic():xt.id}));le({...i,packingList:[...we,...We]})},[i,le]),wt=Y.useCallback(re=>{const _e=(i.packingList||[]).filter(ye=>ye.category!==re);le({...i,packingList:_e})},[i,le]),wi=Y.useCallback(re=>{s(re),localStorage.setItem("settings_v3",JSON.stringify(re)),pa&&de&&U0(de,re,{merge:!0}).catch(_e=>console.error("Settings Save Error:",_e))},[de]),En=Y.useMemo(()=>{const re=i.days.find(ye=>ye.index===_);if(!re)return null;const _e=[...re.activities].sort((ye,we)=>{const We=ye.time||"00:00",xt=we.time||"00:00";return We.localeCompare(xt)});return{...re,activities:_e}},[i.days,_]),Ia=Y.useMemo(()=>{if(!En)return{};const re={};return En.activities.forEach(_e=>{_e.expenses&&_e.expenses.forEach(ye=>{re[ye.currency]=(re[ye.currency]||0)+ye.amount})}),re},[En]);if(o)return S.jsx("div",{className:`min-h-screen ${U.BG_CANVAS} flex justify-center items-center`,children:S.jsx(HV,{})});const Zt=()=>{switch(p){case"finance":return S.jsx(tL,{tripData:i,settings:n,onAddIndependentExpense:me,onEditExpense:xe,onDeleteExpense:De});case"shopping":return S.jsx(nL,{shoppingList:i.shoppingList||[],onTogglePurchased:et,onAddItem:nr,onEditItem:At,onDeleteItem:qn});case"packing":return S.jsx(iL,{packingList:i.packingList||[],onTogglePacked:Dn,onAddItem:Ms,onDeleteItem:Ps,onOpenCategoryEdit:Vs,onDeleteCategory:wt});case"settings":return S.jsx(rL,{settings:n,onUpdateSettings:wi});default:return S.jsxs(S.Fragment,{children:[S.jsx(XV,{days:i.days,selectedDayIndex:_,onSelectDay:v}),S.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6 pb-24",children:[S.jsx("div",{className:`${U.GLASS_BG} ${U.GLASS_BORDER} rounded-xl p-4 mb-4 ${U.GLASS_SHADOW}`,children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("h2",{className:`text-lg font-bold ${U.TEXT_PRIMARY}`,children:[En?.date?A1(En.date):"",En?.activities&&En.activities.length>0&&S.jsxs("span",{className:`text-base font-normal ${U.TEXT_SECONDARY} ml-2`,children:[" ",En.activities.find(re=>re.type==="sightseeing"||re.type==="accommodation")?.location?.split(",")[0]||En.city||""]})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"flex gap-3",children:Object.entries(Ia).map(([re,_e])=>S.jsxs("div",{className:"text-right",children:[S.jsx("div",{className:`text-xs ${U.TEXT_MUTED}`,children:re}),S.jsx("div",{className:`text-lg font-bold ${re==="EUR"?"text-emerald-400":re==="TWD"?"text-blue-400":U.TEXT_PRIMARY}`,children:_e.toFixed(re==="TWD"?0:2)})]},re))}),S.jsxs("button",{onClick:L,className:`px-3 py-2 rounded-lg ${U.BTN_SECONDARY} text-sm flex items-center gap-1`,children:[S.jsx(As,{className:"w-4 h-4"}),""]})]})]})}),S.jsx(YT,{onDragEnd:vt,children:S.jsx(iS,{droppableId:"activities",children:re=>S.jsxs("div",{ref:re.innerRef,...re.droppableProps,children:[En?.activities.map((_e,ye)=>S.jsx(JT,{draggableId:_e.id,index:ye,children:we=>S.jsx(QV,{activity:_e,dayIndex:_,onEdit:je,onDelete:Xe,onAddExpense:he,provided:we})},_e.id)),re.placeholder]})})})]})]})}},rr=[{id:"itinerary",name:"",icon:kV},{id:"finance",name:"",icon:LV},{id:"shopping",name:"",icon:BV},{id:"packing",name:"",icon:zV},{id:"settings",name:"",icon:UV}];return S.jsxs("div",{className:`min-h-screen ${U.BG_CANVAS}`,children:[S.jsx(YV,{flightInfo:i.flightInfo}),Zt(),S.jsx("div",{className:`fixed bottom-0 left-0 right-0 ${U.GLASS_BG} ${U.GLASS_BORDER} border-t ${U.GLASS_SHADOW}`,children:S.jsx("div",{className:"max-w-6xl mx-auto flex justify-around items-center h-16",children:rr.map(re=>S.jsxs("button",{onClick:()=>g(re.id),className:`flex flex-col items-center justify-center flex-1 h-full transition-all duration-200 ${p===re.id?`${U.SELECTED} border-t-2 border-amber-600`:"opacity-60 hover:opacity-100"}`,children:[typeof re.icon=="string"?S.jsx("span",{className:"text-2xl mb-1",children:re.icon}):S.jsx(re.icon,{className:`w-6 h-6 ${U.TEXT_PRIMARY} mb-1`}),S.jsx("span",{className:`text-xs ${U.TEXT_PRIMARY} font-semibold`,children:re.name})]},re.id))})}),S.jsx(KV,{isOpen:E,onClose:()=>w(!1),onSave:Ue,expense:R,familyMembers:n.familyMembers,currencies:n.currencies,categories:n.categories,isIndependent:oe}),S.jsx(WV,{isOpen:N,onClose:()=>j(!1),onSave:Z}),S.jsx(ZV,{isOpen:V,onClose:()=>Q(!1),onSave:bn,item:B,familyMembers:n.familyMembers}),S.jsx(eL,{isOpen:J,onClose:()=>te(!1),onSave:ir,existingCategories:[...new Set((i.packingList||[]).map(re=>re.category))]}),S.jsx(JV,{isOpen:se,onClose:()=>ue(!1),onSave:Et,category:ce,items:(i.packingList||[]).filter(re=>re.category===ce)})]})};ux.createRoot(document.getElementById("root")).render(S.jsx(Y.StrictMode,{children:S.jsx(sL,{})}));
