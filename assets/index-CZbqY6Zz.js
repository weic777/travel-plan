(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function HE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Op={exports:{}},Zl={};var yb;function nx(){if(yb)return Zl;yb=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var u=null;if(c!==void 0&&(u=""+c),o.key!==void 0&&(u=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:n,type:s,key:u,ref:o!==void 0?o:null,props:c}}return Zl.Fragment=e,Zl.jsx=i,Zl.jsxs=i,Zl}var vb;function ix(){return vb||(vb=1,Op.exports=nx()),Op.exports}var E=ix(),Mp={exports:{}},Ve={};var _b;function rx(){if(_b)return Ve;_b=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),T=Symbol.iterator;function w(j){return j===null||typeof j!="object"?null:(j=T&&j[T]||j["@@iterator"],typeof j=="function"?j:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,L={};function K(j,Z,ue){this.props=j,this.context=Z,this.refs=L,this.updater=ue||C}K.prototype.isReactComponent={},K.prototype.setState=function(j,Z){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,Z,"setState")},K.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function W(){}W.prototype=K.prototype;function ie(j,Z,ue){this.props=j,this.context=Z,this.refs=L,this.updater=ue||C}var se=ie.prototype=new W;se.constructor=ie,k(se,K.prototype),se.isPureReactComponent=!0;var le=Array.isArray;function ce(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function D(j,Z,ue){var ge=ue.ref;return{$$typeof:n,type:j,key:Z,ref:ge!==void 0?ge:null,props:ue}}function V(j,Z){return D(j.type,Z,j.props)}function M(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function B(j){var Z={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ue){return Z[ue]})}var N=/\/+/g;function oe(j,Z){return typeof j=="object"&&j!==null&&j.key!=null?B(""+j.key):Z.toString(36)}function Se(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(ce,ce):(j.status="pending",j.then(function(Z){j.status==="pending"&&(j.status="fulfilled",j.value=Z)},function(Z){j.status==="pending"&&(j.status="rejected",j.reason=Z)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Q(j,Z,ue,ge,Ce){var Oe=typeof j;(Oe==="undefined"||Oe==="boolean")&&(j=null);var Be=!1;if(j===null)Be=!0;else switch(Oe){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(j.$$typeof){case n:case e:Be=!0;break;case _:return Be=j._init,Q(Be(j._payload),Z,ue,ge,Ce)}}if(Be)return Ce=Ce(j),Be=ge===""?"."+oe(j,0):ge,le(Ce)?(ue="",Be!=null&&(ue=Be.replace(N,"$&/")+"/"),Q(Ce,Z,ue,"",function(un){return un})):Ce!=null&&(M(Ce)&&(Ce=V(Ce,ue+(Ce.key==null||j&&j.key===Ce.key?"":(""+Ce.key).replace(N,"$&/")+"/")+Be)),Z.push(Ce)),1;Be=0;var bt=ge===""?".":ge+":";if(le(j))for(var We=0;We<j.length;We++)ge=j[We],Oe=bt+oe(ge,We),Be+=Q(ge,Z,ue,Oe,Ce);else if(We=w(j),typeof We=="function")for(j=We.call(j),We=0;!(ge=j.next()).done;)ge=ge.value,Oe=bt+oe(ge,We++),Be+=Q(ge,Z,ue,Oe,Ce);else if(Oe==="object"){if(typeof j.then=="function")return Q(Se(j),Z,ue,ge,Ce);throw Z=String(j),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Be}function he(j,Z,ue){if(j==null)return j;var ge=[],Ce=0;return Q(j,ge,"","",function(Oe){return Z.call(ue,Oe,Ce++)}),ge}function Ee(j){if(j._status===-1){var Z=j._result;Z=Z(),Z.then(function(ue){(j._status===0||j._status===-1)&&(j._status=1,j._result=ue)},function(ue){(j._status===0||j._status===-1)&&(j._status=2,j._result=ue)}),j._status===-1&&(j._status=0,j._result=Z)}if(j._status===1)return j._result.default;throw j._result}var Ue=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ke={map:he,forEach:function(j,Z,ue){he(j,function(){Z.apply(this,arguments)},ue)},count:function(j){var Z=0;return he(j,function(){Z++}),Z},toArray:function(j){return he(j,function(Z){return Z})||[]},only:function(j){if(!M(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ve.Activity=y,Ve.Children=Ke,Ve.Component=K,Ve.Fragment=i,Ve.Profiler=o,Ve.PureComponent=ie,Ve.StrictMode=s,Ve.Suspense=m,Ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ve.__COMPILER_RUNTIME={__proto__:null,c:function(j){return I.H.useMemoCache(j)}},Ve.cache=function(j){return function(){return j.apply(null,arguments)}},Ve.cacheSignal=function(){return null},Ve.cloneElement=function(j,Z,ue){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ge=k({},j.props),Ce=j.key;if(Z!=null)for(Oe in Z.key!==void 0&&(Ce=""+Z.key),Z)!R.call(Z,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&Z.ref===void 0||(ge[Oe]=Z[Oe]);var Oe=arguments.length-2;if(Oe===1)ge.children=ue;else if(1<Oe){for(var Be=Array(Oe),bt=0;bt<Oe;bt++)Be[bt]=arguments[bt+2];ge.children=Be}return D(j.type,Ce,ge)},Ve.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},Ve.createElement=function(j,Z,ue){var ge,Ce={},Oe=null;if(Z!=null)for(ge in Z.key!==void 0&&(Oe=""+Z.key),Z)R.call(Z,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Ce[ge]=Z[ge]);var Be=arguments.length-2;if(Be===1)Ce.children=ue;else if(1<Be){for(var bt=Array(Be),We=0;We<Be;We++)bt[We]=arguments[We+2];Ce.children=bt}if(j&&j.defaultProps)for(ge in Be=j.defaultProps,Be)Ce[ge]===void 0&&(Ce[ge]=Be[ge]);return D(j,Oe,Ce)},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(j){return{$$typeof:p,render:j}},Ve.isValidElement=M,Ve.lazy=function(j){return{$$typeof:_,_payload:{_status:-1,_result:j},_init:Ee}},Ve.memo=function(j,Z){return{$$typeof:g,type:j,compare:Z===void 0?null:Z}},Ve.startTransition=function(j){var Z=I.T,ue={};I.T=ue;try{var ge=j(),Ce=I.S;Ce!==null&&Ce(ue,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(ce,Ue)}catch(Oe){Ue(Oe)}finally{Z!==null&&ue.types!==null&&(Z.types=ue.types),I.T=Z}},Ve.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ve.use=function(j){return I.H.use(j)},Ve.useActionState=function(j,Z,ue){return I.H.useActionState(j,Z,ue)},Ve.useCallback=function(j,Z){return I.H.useCallback(j,Z)},Ve.useContext=function(j){return I.H.useContext(j)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(j,Z){return I.H.useDeferredValue(j,Z)},Ve.useEffect=function(j,Z){return I.H.useEffect(j,Z)},Ve.useEffectEvent=function(j){return I.H.useEffectEvent(j)},Ve.useId=function(){return I.H.useId()},Ve.useImperativeHandle=function(j,Z,ue){return I.H.useImperativeHandle(j,Z,ue)},Ve.useInsertionEffect=function(j,Z){return I.H.useInsertionEffect(j,Z)},Ve.useLayoutEffect=function(j,Z){return I.H.useLayoutEffect(j,Z)},Ve.useMemo=function(j,Z){return I.H.useMemo(j,Z)},Ve.useOptimistic=function(j,Z){return I.H.useOptimistic(j,Z)},Ve.useReducer=function(j,Z,ue){return I.H.useReducer(j,Z,ue)},Ve.useRef=function(j){return I.H.useRef(j)},Ve.useState=function(j){return I.H.useState(j)},Ve.useSyncExternalStore=function(j,Z,ue){return I.H.useSyncExternalStore(j,Z,ue)},Ve.useTransition=function(){return I.H.useTransition()},Ve.version="19.2.0",Ve}var bb;function uh(){return bb||(bb=1,Mp.exports=rx()),Mp.exports}var F=uh();const Ot=HE(F);var Pp={exports:{}},ec={},Vp={exports:{}},Lp={};var Eb;function sx(){return Eb||(Eb=1,(function(n){function e(Q,he){var Ee=Q.length;Q.push(he);e:for(;0<Ee;){var Ue=Ee-1>>>1,Ke=Q[Ue];if(0<o(Ke,he))Q[Ue]=he,Q[Ee]=Ke,Ee=Ue;else break e}}function i(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var he=Q[0],Ee=Q.pop();if(Ee!==he){Q[0]=Ee;e:for(var Ue=0,Ke=Q.length,j=Ke>>>1;Ue<j;){var Z=2*(Ue+1)-1,ue=Q[Z],ge=Z+1,Ce=Q[ge];if(0>o(ue,Ee))ge<Ke&&0>o(Ce,ue)?(Q[Ue]=Ce,Q[ge]=Ee,Ue=ge):(Q[Ue]=ue,Q[Z]=Ee,Ue=Z);else if(ge<Ke&&0>o(Ce,Ee))Q[Ue]=Ce,Q[ge]=Ee,Ue=ge;else break e}}return he}function o(Q,he){var Ee=Q.sortIndex-he.sortIndex;return Ee!==0?Ee:Q.id-he.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var u=Date,p=u.now();n.unstable_now=function(){return u.now()-p}}var m=[],g=[],_=1,y=null,T=3,w=!1,C=!1,k=!1,L=!1,K=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function se(Q){for(var he=i(g);he!==null;){if(he.callback===null)s(g);else if(he.startTime<=Q)s(g),he.sortIndex=he.expirationTime,e(m,he);else break;he=i(g)}}function le(Q){if(k=!1,se(Q),!C)if(i(m)!==null)C=!0,ce||(ce=!0,B());else{var he=i(g);he!==null&&Se(le,he.startTime-Q)}}var ce=!1,I=-1,R=5,D=-1;function V(){return L?!0:!(n.unstable_now()-D<R)}function M(){if(L=!1,ce){var Q=n.unstable_now();D=Q;var he=!0;try{e:{C=!1,k&&(k=!1,W(I),I=-1),w=!0;var Ee=T;try{t:{for(se(Q),y=i(m);y!==null&&!(y.expirationTime>Q&&V());){var Ue=y.callback;if(typeof Ue=="function"){y.callback=null,T=y.priorityLevel;var Ke=Ue(y.expirationTime<=Q);if(Q=n.unstable_now(),typeof Ke=="function"){y.callback=Ke,se(Q),he=!0;break t}y===i(m)&&s(m),se(Q)}else s(m);y=i(m)}if(y!==null)he=!0;else{var j=i(g);j!==null&&Se(le,j.startTime-Q),he=!1}}break e}finally{y=null,T=Ee,w=!1}he=void 0}}finally{he?B():ce=!1}}}var B;if(typeof ie=="function")B=function(){ie(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,oe=N.port2;N.port1.onmessage=M,B=function(){oe.postMessage(null)}}else B=function(){K(M,0)};function Se(Q,he){I=K(function(){Q(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var he=3;break;default:he=T}var Ee=T;T=he;try{return Q()}finally{T=Ee}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(Q,he){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var Ee=T;T=Q;try{return he()}finally{T=Ee}},n.unstable_scheduleCallback=function(Q,he,Ee){var Ue=n.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Ue+Ee:Ue):Ee=Ue,Q){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=Ee+Ke,Q={id:_++,callback:he,priorityLevel:Q,startTime:Ee,expirationTime:Ke,sortIndex:-1},Ee>Ue?(Q.sortIndex=Ee,e(g,Q),i(m)===null&&Q===i(g)&&(k?(W(I),I=-1):k=!0,Se(le,Ee-Ue))):(Q.sortIndex=Ke,e(m,Q),C||w||(C=!0,ce||(ce=!0,B()))),Q},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(Q){var he=T;return function(){var Ee=T;T=he;try{return Q.apply(this,arguments)}finally{T=Ee}}}})(Lp)),Lp}var Tb;function ax(){return Tb||(Tb=1,Vp.exports=sx()),Vp.exports}var kp={exports:{}},hn={};var Sb;function ox(){if(Sb)return hn;Sb=1;var n=uh();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,g,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:m,containerInfo:g,implementation:_}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hn.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return c(m,g,null,_)},hn.flushSync=function(m){var g=u.T,_=s.p;try{if(u.T=null,s.p=2,m)return m()}finally{u.T=g,s.p=_,s.d.f()}},hn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},hn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},hn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,y=p(_,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:T,fetchPriority:w}):_==="script"&&s.d.X(m,{crossOrigin:y,integrity:T,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},hn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},hn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,y=p(_,g.crossOrigin);s.d.L(m,_,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},hn.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},hn.requestFormReset=function(m){s.d.r(m)},hn.unstable_batchedUpdates=function(m,g){return m(g)},hn.useFormState=function(m,g,_){return u.H.useFormState(m,g,_)},hn.useFormStatus=function(){return u.H.useHostTransitionStatus()},hn.version="19.2.0",hn}var Ab;function qE(){if(Ab)return kp.exports;Ab=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),kp.exports=ox(),kp.exports}var wb;function lx(){if(wb)return ec;wb=1;var n=ax(),e=uh(),i=qE();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function u(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=c(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return m(h),t;if(f===l)return m(h),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var b=!1,A=h.child;A;){if(A===a){b=!0,a=h,l=f;break}if(A===l){b=!0,l=h,a=f;break}A=A.sibling}if(!b){for(A=f.child;A;){if(A===a){b=!0,a=f,l=h;break}if(A===l){b=!0,l=f,a=h;break}A=A.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function _(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_(t),r!==null)return r;t=t.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case K:return"Profiler";case L:return"StrictMode";case le:return"Suspense";case ce:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case ie:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case se:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return r=t.displayName||null,r!==null?r:oe(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return oe(t(r))}catch{}}return null}var Se=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},Ue=[],Ke=-1;function j(t){return{current:t}}function Z(t){0>Ke||(t.current=Ue[Ke],Ue[Ke]=null,Ke--)}function ue(t,r){Ke++,Ue[Ke]=t.current,t.current=r}var ge=j(null),Ce=j(null),Oe=j(null),Be=j(null);function bt(t,r){switch(ue(Oe,r),ue(Ce,t),ue(ge,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?B_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=B_(r),t=z_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Z(ge),ue(ge,t)}function We(){Z(ge),Z(Ce),Z(Oe)}function un(t){t.memoizedState!==null&&ue(Be,t);var r=ge.current,a=z_(r,t.type);r!==a&&(ue(Ce,t),ue(ge,a))}function Fn(t){Ce.current===t&&(Z(ge),Z(Ce)),Be.current===t&&(Z(Be),Kl._currentValue=Ee)}var xe,yn;function $n(t){if(xe===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);xe=r&&r[1]||"",yn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+t+yn}var Ps=!1;function tr(t,r){if(!t||Ps)return"";Ps=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(X){var $=X}Reflect.construct(t,[],te)}else{try{te.call()}catch(X){$=X}t.call(te.prototype)}}else{try{throw Error()}catch(X){$=X}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),b=f[0],A=f[1];if(b&&A){var O=b.split(`
`),q=A.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===q.length)for(l=O.length-1,h=q.length-1;1<=l&&0<=h&&O[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==q[h]){var J=`
`+O[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{Ps=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?$n(a):""}function Vs(t,r){switch(t.tag){case 26:case 27:case 5:return $n(t.type);case 16:return $n("Lazy");case 13:return t.child!==r&&r!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return tr(t.type,!1);case 11:return tr(t.type.render,!1);case 1:return tr(t.type,!0);case 31:return $n("Activity");default:return""}}function Ls(t){try{var r="",a=null;do r+=Vs(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var At=Object.prototype.hasOwnProperty,wt=n.unstable_scheduleCallback,hi=n.unstable_cancelCallback,Jo=n.unstable_shouldYield,Ca=n.unstable_requestPaint,Zt=n.unstable_now,nr=n.unstable_getCurrentPriorityLevel,ks=n.unstable_ImmediatePriority,js=n.unstable_UserBlockingPriority,Ri=n.unstable_NormalPriority,Zo=n.unstable_LowPriority,Ia=n.unstable_IdlePriority,Da=n.log,Na=n.unstable_setDisableYieldValue,On=null,Gt=null;function Tn(t){if(typeof Da=="function"&&Na(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(On,t)}catch{}}var Et=Math.clz32?Math.clz32:Oa,dn=Math.log,Or=Math.LN2;function Oa(t){return t>>>=0,t===0?32:31-(dn(t)/Or|0)|0}var Yn=256,re=262144,pe=4194304;function ye(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function me(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var A=l&134217727;return A!==0?(l=A&~f,l!==0?h=ye(l):(b&=A,b!==0?h=ye(b):a||(a=A&~t,a!==0&&(h=ye(a))))):(A=l&~f,A!==0?h=ye(A):b!==0?h=ye(b):a||(a=l&~t,a!==0&&(h=ye(a)))),h===0?0:r!==0&&r!==h&&(r&f)===0&&(f=h&-h,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:h}function be(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function et(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ir(){var t=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),t}function Sn(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Us(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lh(t,r,a,l,h,f){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,O=t.expirationTimes,q=t.hiddenUpdates;for(a=b&~a;0<a;){var J=31-Et(a),te=1<<J;A[J]=0,O[J]=-1;var $=q[J];if($!==null)for(q[J]=null,J=0;J<$.length;J++){var X=$[J];X!==null&&(X.lane&=-536870913)}a&=~te}l!==0&&Bs(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(b&~r))}function Bs(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Et(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function el(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Et(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function tl(t,r){var a=r&-r;return a=(a&42)!==0?1:zs(a),(a&(t.suspendedLanes|r))!==0?0:a}function zs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function rr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fc(){var t=he.p;return t!==0?t:(t=window.event,t===void 0?32:ub(t.type))}function fi(t,r){var a=he.p;try{return he.p=t,r()}finally{he.p=a}}var pi=Math.random().toString(36).slice(2),Mt="__reactFiber$"+pi,$t="__reactProps$"+pi,Ci="__reactContainer$"+pi,Ma="__reactEvents$"+pi,kh="__reactListeners$"+pi,$c="__reactHandles$"+pi,Yc="__reactResources$"+pi,Ii="__reactMarker$"+pi;function Pa(t){delete t[Mt],delete t[$t],delete t[Ma],delete t[kh],delete t[$c]}function Di(t){var r=t[Mt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ci]||a[Mt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=X_(t);t!==null;){if(a=t[Mt])return a;t=X_(t)}return r}t=a,a=t.parentNode}return null}function Xn(t){if(t=t[Mt]||t[Ci]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Mn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ni(t){var r=t[Yc];return r||(r=t[Yc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Pt(t){t[Ii]=!0}var nl=new Set,il={};function Oi(t,r){Mi(t,r),Mi(t+"Capture",r)}function Mi(t,r){for(il[t]=r,t=0;t<r.length;t++)nl.add(r[t])}var rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sl={},al={};function Xc(t){return At.call(al,t)?!0:At.call(sl,t)?!1:rl.test(t)?al[t]=!0:(sl[t]=!0,!1)}function Va(t,r,a){if(Xc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Pn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Vt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ol(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(b){a=""+b,f.call(this,b)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(b){a=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ot(t){if(!t._valueTracker){var r=Mr(t)?"checked":"value";t._valueTracker=ol(t,r,""+t[r])}}function Gs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Mr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Pi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Hs=/[\n"\\]/g;function An(t){return t.replace(Hs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function La(t,r,a,l,h,f,b,A){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),r!=null?b==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Yt(r)):t.value!==""+Yt(r)&&(t.value=""+Yt(r)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),r!=null?ll(t,b,Yt(r)):a!=null?ll(t,b,Yt(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Yt(A):t.removeAttribute("name")}function Kc(t,r,a,l,h,f,b,A){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null)){ot(t);return}a=a!=null?""+Yt(a):"",r=r!=null?""+Yt(r):a,A||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),ot(t)}function ll(t,r,a){r==="number"&&Pi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Pr(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Yt(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Qc(t,r,a){if(r!=null&&(r=""+Yt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Yt(a):""}function Vr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Se(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Yt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),ot(t)}function wn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Wc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cl(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Wc.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function ul(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&cl(t,h,l)}else for(var f in r)r.hasOwnProperty(f)&&cl(t,f,r[f])}function ka(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(t){return Lr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function mi(){}var dl=null;function Kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kr=null,Vi=null;function qs(t){var r=Xn(t);if(r&&(t=r.stateNode)){var a=t[$t]||null;e:switch(t=r.stateNode,r.type){case"input":if(La(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+An(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[$t]||null;if(!h)throw Error(s(90));La(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Gs(l)}break e;case"textarea":Qc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Pr(t,!!a.multiple,r,!1)}}}var Ua=!1;function jr(t,r,a){if(Ua)return t(r,a);Ua=!0;try{var l=t(r);return l}finally{if(Ua=!1,(kr!==null||Vi!==null)&&(Fu(),kr&&(r=kr,t=Vi,Vi=kr=null,qs(r),t)))for(r=0;r<t.length;r++)qs(t[r])}}function gi(t,r){var a=t.stateNode;if(a===null)return null;var l=a[$t]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fs=!1;if(Qn)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){Fs=!0}}),window.addEventListener("test",ut,ut),window.removeEventListener("test",ut,ut)}catch{Fs=!1}var Li=null,hl=null,$s=null;function fl(){if($s)return $s;var t,r=hl,a=r.length,l,h="value"in Li?Li.value:Li.textContent,f=h.length;for(t=0;t<a&&r[t]===h[t];t++);var b=a-t;for(l=1;l<=b&&r[a-l]===h[f-l];l++);return $s=h.slice(t,1<l?1-l:void 0)}function Ys(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function sr(){return!0}function yi(){return!1}function en(t){function r(a,l,h,f,b){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=b,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(f):f[A]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?sr:yi,this.isPropagationStopped=yi,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),r}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=en(ar),Ur=y({},ar,{view:0,detail:0}),pl=en(Ur),Br,Ba,ji,za=y({},Ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ji&&(ji&&t.type==="mousemove"?(Br=t.screenX-ji.screenX,Ba=t.screenY-ji.screenY):Ba=Br=0,ji=t),Br)},movementY:function(t){return"movementY"in t?t.movementY:Ba}}),ml=en(za),Xs=y({},za,{dataTransfer:0}),Zc=en(Xs),eu=y({},Ur,{relatedTarget:0}),Ks=en(eu),gl=y({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),tu=en(gl),Ga=y({},ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nu=en(Ga),iu=y({},ar,{data:0}),Ui=en(iu),ru={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ou(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=au[t])?!!r[t]:!1}function zr(){return ou}var vn=y({},Ur,{key:function(t){if(t.key){var r=ru[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?su[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(t){return t.type==="keypress"?Ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lu=en(vn),cu=y({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),or=en(cu),d=y({},Ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),v=en(d),S=y({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=en(S),G=y({},za,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=en(G),fe=y({},ar,{newState:0,oldState:0}),ke=en(fe),Ct=[9,13,27,32],it=Qn&&"CompositionEvent"in window,vt=null;Qn&&"documentMode"in document&&(vt=document.documentMode);var Wn=Qn&&"TextEvent"in window&&!vt,Bi=Qn&&(!it||vt&&8<vt&&11>=vt),vi=" ",_i=!1;function Qs(t,r){switch(t){case"keyup":return Ct.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ha(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qa=!1;function x1(t,r){switch(t){case"compositionend":return Ha(r);case"keypress":return r.which!==32?null:(_i=!0,vi);case"textInput":return t=r.data,t===vi&&_i?null:t;default:return null}}function R1(t,r){if(qa)return t==="compositionend"||!it&&Qs(t,r)?(t=fl(),$s=hl=Li=null,qa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Bi&&r.locale!=="ko"?null:r.data;default:return null}}var C1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!C1[t.type]:r==="textarea"}function Jg(t,r,a,l){kr?Vi?Vi.push(l):Vi=[l]:kr=l,r=Ju(r,"onChange"),0<r.length&&(a=new ki("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var yl=null,vl=null;function I1(t){P_(t,0)}function uu(t){var r=Mn(t);if(Gs(r))return t}function Zg(t,r){if(t==="change")return r}var ey=!1;if(Qn){var jh;if(Qn){var Uh="oninput"in document;if(!Uh){var ty=document.createElement("div");ty.setAttribute("oninput","return;"),Uh=typeof ty.oninput=="function"}jh=Uh}else jh=!1;ey=jh&&(!document.documentMode||9<document.documentMode)}function ny(){yl&&(yl.detachEvent("onpropertychange",iy),vl=yl=null)}function iy(t){if(t.propertyName==="value"&&uu(vl)){var r=[];Jg(r,vl,t,Kn(t)),jr(I1,r)}}function D1(t,r,a){t==="focusin"?(ny(),yl=r,vl=a,yl.attachEvent("onpropertychange",iy)):t==="focusout"&&ny()}function N1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uu(vl)}function O1(t,r){if(t==="click")return uu(r)}function M1(t,r){if(t==="input"||t==="change")return uu(r)}function P1(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Vn=typeof Object.is=="function"?Object.is:P1;function _l(t,r){if(Vn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!At.call(r,h)||!Vn(t[h],r[h]))return!1}return!0}function ry(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sy(t,r){var a=ry(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ry(a)}}function ay(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ay(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function oy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Pi(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Pi(t.document)}return r}function Bh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var V1=Qn&&"documentMode"in document&&11>=document.documentMode,Fa=null,zh=null,bl=null,Gh=!1;function ly(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gh||Fa==null||Fa!==Pi(l)||(l=Fa,"selectionStart"in l&&Bh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),bl&&_l(bl,l)||(bl=l,l=Ju(zh,"onSelect"),0<l.length&&(r=new ki("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Fa)))}function Ws(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var $a={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},Hh={},cy={};Qn&&(cy=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Js(t){if(Hh[t])return Hh[t];if(!$a[t])return t;var r=$a[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in cy)return Hh[t]=r[a];return t}var uy=Js("animationend"),dy=Js("animationiteration"),hy=Js("animationstart"),L1=Js("transitionrun"),k1=Js("transitionstart"),j1=Js("transitioncancel"),fy=Js("transitionend"),py=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function bi(t,r){py.set(t,r),Oi(r,[t])}var du=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Jn=[],Ya=0,Fh=0;function hu(){for(var t=Ya,r=Fh=Ya=0;r<t;){var a=Jn[r];Jn[r++]=null;var l=Jn[r];Jn[r++]=null;var h=Jn[r];Jn[r++]=null;var f=Jn[r];if(Jn[r++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}f!==0&&my(a,h,f)}}function fu(t,r,a,l){Jn[Ya++]=t,Jn[Ya++]=r,Jn[Ya++]=a,Jn[Ya++]=l,Fh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $h(t,r,a,l){return fu(t,r,a,l),pu(t)}function Zs(t,r){return fu(t,null,null,r),pu(t)}function my(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&r!==null&&(h=31-Et(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),f):null}function pu(t){if(50<Gl)throw Gl=0,np=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Xa={};function U1(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(t,r,a,l){return new U1(t,r,a,l)}function Yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lr(t,r){var a=t.alternate;return a===null?(a=Ln(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function gy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function mu(t,r,a,l,h,f){var b=0;if(l=t,typeof t=="function")Yh(t)&&(b=1);else if(typeof t=="string")b=qw(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=Ln(31,a,r,h),t.elementType=D,t.lanes=f,t;case k:return ea(a.children,h,f,r);case L:b=8,h|=24;break;case K:return t=Ln(12,a,r,h|2),t.elementType=K,t.lanes=f,t;case le:return t=Ln(13,a,r,h),t.elementType=le,t.lanes=f,t;case ce:return t=Ln(19,a,r,h),t.elementType=ce,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:b=10;break e;case W:b=9;break e;case se:b=11;break e;case I:b=14;break e;case R:b=16,l=null;break e}b=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Ln(b,a,r,h),r.elementType=t,r.type=l,r.lanes=f,r}function ea(t,r,a,l){return t=Ln(7,t,l,r),t.lanes=a,t}function Xh(t,r,a){return t=Ln(6,t,null,r),t.lanes=a,t}function yy(t){var r=Ln(18,null,null,0);return r.stateNode=t,r}function Kh(t,r,a){return r=Ln(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var vy=new WeakMap;function Zn(t,r){if(typeof t=="object"&&t!==null){var a=vy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Ls(r)},vy.set(t,r),r)}return{value:t,source:r,stack:Ls(r)}}var Ka=[],Qa=0,gu=null,El=0,ei=[],ti=0,Gr=null,zi=1,Gi="";function cr(t,r){Ka[Qa++]=El,Ka[Qa++]=gu,gu=t,El=r}function _y(t,r,a){ei[ti++]=zi,ei[ti++]=Gi,ei[ti++]=Gr,Gr=t;var l=zi;t=Gi;var h=32-Et(l)-1;l&=~(1<<h),a+=1;var f=32-Et(r)+h;if(30<f){var b=h-h%5;f=(l&(1<<b)-1).toString(32),l>>=b,h-=b,zi=1<<32-Et(r)+h|a<<h|l,Gi=f+t}else zi=1<<f|a<<h|l,Gi=t}function Qh(t){t.return!==null&&(cr(t,1),_y(t,1,0))}function Wh(t){for(;t===gu;)gu=Ka[--Qa],Ka[Qa]=null,El=Ka[--Qa],Ka[Qa]=null;for(;t===Gr;)Gr=ei[--ti],ei[ti]=null,Gi=ei[--ti],ei[ti]=null,zi=ei[--ti],ei[ti]=null}function by(t,r){ei[ti++]=zi,ei[ti++]=Gi,ei[ti++]=Gr,zi=r.id,Gi=r.overflow,Gr=t}var tn=null,mt=null,Qe=!1,Hr=null,ni=!1,Jh=Error(s(519));function qr(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Tl(Zn(r,t)),Jh}function Ey(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Mt]=t,r[$t]=l,a){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(a=0;a<ql.length;a++)He(ql[a],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),Kc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),Vr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||j_(r.textContent,a)?(l.popover!=null&&(He("beforetoggle",r),He("toggle",r)),l.onScroll!=null&&He("scroll",r),l.onScrollEnd!=null&&He("scrollend",r),l.onClick!=null&&(r.onclick=mi),r=!0):r=!1,r||qr(t,!0)}function Ty(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:tn=tn.return}}function Wa(t){if(t!==tn)return!1;if(!Qe)return Ty(t),Qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||yp(t.type,t.memoizedProps)),a=!a),a&&mt&&qr(t),Ty(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));mt=Y_(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));mt=Y_(t)}else r===27?(r=mt,rs(t.type)?(t=Tp,Tp=null,mt=t):mt=r):mt=tn?ri(t.stateNode.nextSibling):null;return!0}function ta(){mt=tn=null,Qe=!1}function Zh(){var t=Hr;return t!==null&&(In===null?In=t:In.push.apply(In,t),Hr=null),t}function Tl(t){Hr===null?Hr=[t]:Hr.push(t)}var ef=j(null),na=null,ur=null;function Fr(t,r,a){ue(ef,r._currentValue),r._currentValue=a}function dr(t){t._currentValue=ef.current,Z(ef)}function tf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function nf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var b=h.child;f=f.firstContext;e:for(;f!==null;){var A=f;f=h;for(var O=0;O<r.length;O++)if(A.context===r[O]){f.lanes|=a,A=f.alternate,A!==null&&(A.lanes|=a),tf(f.return,a,t),l||(b=null);break e}f=A.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(s(341));b.lanes|=a,f=b.alternate,f!==null&&(f.lanes|=a),tf(b,a,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function Ja(t,r,a,l){t=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var A=h.type;Vn(h.pendingProps.value,b.value)||(t!==null?t.push(A):t=[A])}}else if(h===Be.current){if(b=h.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Kl):t=[Kl])}h=h.return}t!==null&&nf(r,t,a,l),r.flags|=262144}function yu(t){for(t=t.firstContext;t!==null;){if(!Vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ia(t){na=t,ur=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return Sy(na,t)}function vu(t,r){return na===null&&ia(t),Sy(t,r)}function Sy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ur===null){if(t===null)throw Error(s(308));ur=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else ur=ur.next=r;return a}var B1=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},z1=n.unstable_scheduleCallback,G1=n.unstable_NormalPriority,Lt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new B1,data:new Map,refCount:0}}function Sl(t){t.refCount--,t.refCount===0&&z1(G1,function(){t.controller.abort()})}var Al=null,sf=0,Za=0,eo=null;function H1(t,r){if(Al===null){var a=Al=[];sf=0,Za=lp(),eo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return sf++,r.then(Ay,Ay),r}function Ay(){if(--sf===0&&Al!==null){eo!==null&&(eo.status="fulfilled");var t=Al;Al=null,Za=0,eo=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function q1(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var wy=Q.S;Q.S=function(t,r){l_=Zt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&H1(t,r),wy!==null&&wy(t,r)};var ra=j(null);function af(){var t=ra.current;return t!==null?t:pt.pooledCache}function _u(t,r){r===null?ue(ra,ra.current):ue(ra,r.pool)}function xy(){var t=af();return t===null?null:{parent:Lt._currentValue,pool:t}}var to=Error(s(460)),of=Error(s(474)),bu=Error(s(542)),Eu={then:function(){}};function Ry(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(mi,mi),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Dy(t),t;default:if(typeof r.status=="string")r.then(mi,mi);else{if(t=pt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Dy(t),t}throw aa=r,to}}function sa(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(aa=a,to):a}}var aa=null;function Iy(){if(aa===null)throw Error(s(459));var t=aa;return aa=null,t}function Dy(t){if(t===to||t===bu)throw Error(s(483))}var no=null,wl=0;function Tu(t){var r=wl;return wl+=1,no===null&&(no=[]),Cy(no,t,r)}function xl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Su(t,r){throw r.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ny(t){function r(z,U){if(t){var H=z.deletions;H===null?(z.deletions=[U],z.flags|=16):H.push(U)}}function a(z,U){if(!t)return null;for(;U!==null;)r(z,U),U=U.sibling;return null}function l(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function h(z,U){return z=lr(z,U),z.index=0,z.sibling=null,z}function f(z,U,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<U?(z.flags|=67108866,U):H):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function b(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function A(z,U,H,ee){return U===null||U.tag!==6?(U=Xh(H,z.mode,ee),U.return=z,U):(U=h(U,H),U.return=z,U)}function O(z,U,H,ee){var Re=H.type;return Re===k?J(z,U,H.props.children,ee,H.key):U!==null&&(U.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&sa(Re)===U.type)?(U=h(U,H.props),xl(U,H),U.return=z,U):(U=mu(H.type,H.key,H.props,null,z.mode,ee),xl(U,H),U.return=z,U)}function q(z,U,H,ee){return U===null||U.tag!==4||U.stateNode.containerInfo!==H.containerInfo||U.stateNode.implementation!==H.implementation?(U=Kh(H,z.mode,ee),U.return=z,U):(U=h(U,H.children||[]),U.return=z,U)}function J(z,U,H,ee,Re){return U===null||U.tag!==7?(U=ea(H,z.mode,ee,Re),U.return=z,U):(U=h(U,H),U.return=z,U)}function te(z,U,H){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Xh(""+U,z.mode,H),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return H=mu(U.type,U.key,U.props,null,z.mode,H),xl(H,U),H.return=z,H;case C:return U=Kh(U,z.mode,H),U.return=z,U;case R:return U=sa(U),te(z,U,H)}if(Se(U)||B(U))return U=ea(U,z.mode,H,null),U.return=z,U;if(typeof U.then=="function")return te(z,Tu(U),H);if(U.$$typeof===ie)return te(z,vu(z,U),H);Su(z,U)}return null}function $(z,U,H,ee){var Re=U!==null?U.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Re!==null?null:A(z,U,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===Re?O(z,U,H,ee):null;case C:return H.key===Re?q(z,U,H,ee):null;case R:return H=sa(H),$(z,U,H,ee)}if(Se(H)||B(H))return Re!==null?null:J(z,U,H,ee,null);if(typeof H.then=="function")return $(z,U,Tu(H),ee);if(H.$$typeof===ie)return $(z,U,vu(z,H),ee);Su(z,H)}return null}function X(z,U,H,ee,Re){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(H)||null,A(U,z,""+ee,Re);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:return z=z.get(ee.key===null?H:ee.key)||null,O(U,z,ee,Re);case C:return z=z.get(ee.key===null?H:ee.key)||null,q(U,z,ee,Re);case R:return ee=sa(ee),X(z,U,H,ee,Re)}if(Se(ee)||B(ee))return z=z.get(H)||null,J(U,z,ee,Re,null);if(typeof ee.then=="function")return X(z,U,H,Tu(ee),Re);if(ee.$$typeof===ie)return X(z,U,H,vu(U,ee),Re);Su(U,ee)}return null}function _e(z,U,H,ee){for(var Re=null,tt=null,Te=U,ze=U=0,Fe=null;Te!==null&&ze<H.length;ze++){Te.index>ze?(Fe=Te,Te=null):Fe=Te.sibling;var nt=$(z,Te,H[ze],ee);if(nt===null){Te===null&&(Te=Fe);break}t&&Te&&nt.alternate===null&&r(z,Te),U=f(nt,U,ze),tt===null?Re=nt:tt.sibling=nt,tt=nt,Te=Fe}if(ze===H.length)return a(z,Te),Qe&&cr(z,ze),Re;if(Te===null){for(;ze<H.length;ze++)Te=te(z,H[ze],ee),Te!==null&&(U=f(Te,U,ze),tt===null?Re=Te:tt.sibling=Te,tt=Te);return Qe&&cr(z,ze),Re}for(Te=l(Te);ze<H.length;ze++)Fe=X(Te,z,ze,H[ze],ee),Fe!==null&&(t&&Fe.alternate!==null&&Te.delete(Fe.key===null?ze:Fe.key),U=f(Fe,U,ze),tt===null?Re=Fe:tt.sibling=Fe,tt=Fe);return t&&Te.forEach(function(cs){return r(z,cs)}),Qe&&cr(z,ze),Re}function De(z,U,H,ee){if(H==null)throw Error(s(151));for(var Re=null,tt=null,Te=U,ze=U=0,Fe=null,nt=H.next();Te!==null&&!nt.done;ze++,nt=H.next()){Te.index>ze?(Fe=Te,Te=null):Fe=Te.sibling;var cs=$(z,Te,nt.value,ee);if(cs===null){Te===null&&(Te=Fe);break}t&&Te&&cs.alternate===null&&r(z,Te),U=f(cs,U,ze),tt===null?Re=cs:tt.sibling=cs,tt=cs,Te=Fe}if(nt.done)return a(z,Te),Qe&&cr(z,ze),Re;if(Te===null){for(;!nt.done;ze++,nt=H.next())nt=te(z,nt.value,ee),nt!==null&&(U=f(nt,U,ze),tt===null?Re=nt:tt.sibling=nt,tt=nt);return Qe&&cr(z,ze),Re}for(Te=l(Te);!nt.done;ze++,nt=H.next())nt=X(Te,z,ze,nt.value,ee),nt!==null&&(t&&nt.alternate!==null&&Te.delete(nt.key===null?ze:nt.key),U=f(nt,U,ze),tt===null?Re=nt:tt.sibling=nt,tt=nt);return t&&Te.forEach(function(tx){return r(z,tx)}),Qe&&cr(z,ze),Re}function ft(z,U,H,ee){if(typeof H=="object"&&H!==null&&H.type===k&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:e:{for(var Re=H.key;U!==null;){if(U.key===Re){if(Re=H.type,Re===k){if(U.tag===7){a(z,U.sibling),ee=h(U,H.props.children),ee.return=z,z=ee;break e}}else if(U.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===R&&sa(Re)===U.type){a(z,U.sibling),ee=h(U,H.props),xl(ee,H),ee.return=z,z=ee;break e}a(z,U);break}else r(z,U);U=U.sibling}H.type===k?(ee=ea(H.props.children,z.mode,ee,H.key),ee.return=z,z=ee):(ee=mu(H.type,H.key,H.props,null,z.mode,ee),xl(ee,H),ee.return=z,z=ee)}return b(z);case C:e:{for(Re=H.key;U!==null;){if(U.key===Re)if(U.tag===4&&U.stateNode.containerInfo===H.containerInfo&&U.stateNode.implementation===H.implementation){a(z,U.sibling),ee=h(U,H.children||[]),ee.return=z,z=ee;break e}else{a(z,U);break}else r(z,U);U=U.sibling}ee=Kh(H,z.mode,ee),ee.return=z,z=ee}return b(z);case R:return H=sa(H),ft(z,U,H,ee)}if(Se(H))return _e(z,U,H,ee);if(B(H)){if(Re=B(H),typeof Re!="function")throw Error(s(150));return H=Re.call(H),De(z,U,H,ee)}if(typeof H.then=="function")return ft(z,U,Tu(H),ee);if(H.$$typeof===ie)return ft(z,U,vu(z,H),ee);Su(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,U!==null&&U.tag===6?(a(z,U.sibling),ee=h(U,H),ee.return=z,z=ee):(a(z,U),ee=Xh(H,z.mode,ee),ee.return=z,z=ee),b(z)):a(z,U)}return function(z,U,H,ee){try{wl=0;var Re=ft(z,U,H,ee);return no=null,Re}catch(Te){if(Te===to||Te===bu)throw Te;var tt=Ln(29,Te,null,z.mode);return tt.lanes=ee,tt.return=z,tt}finally{}}}var oa=Ny(!0),Oy=Ny(!1),$r=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Yr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(rt&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=pu(t),my(t,null,a),r}return fu(t,l,r,a),pu(t)}function Rl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,el(t,a)}}function uf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=b:f=f.next=b,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var df=!1;function Cl(){if(df){var t=eo;if(t!==null)throw t}}function Il(t,r,a,l){df=!1;var h=t.updateQueue;$r=!1;var f=h.firstBaseUpdate,b=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var O=A,q=O.next;O.next=null,b===null?f=q:b.next=q,b=O;var J=t.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==b&&(A===null?J.firstBaseUpdate=q:A.next=q,J.lastBaseUpdate=O))}if(f!==null){var te=h.baseState;b=0,J=q=O=null,A=f;do{var $=A.lane&-536870913,X=$!==A.lane;if(X?(qe&$)===$:(l&$)===$){$!==0&&$===Za&&(df=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var _e=t,De=A;$=r;var ft=a;switch(De.tag){case 1:if(_e=De.payload,typeof _e=="function"){te=_e.call(ft,te,$);break e}te=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=De.payload,$=typeof _e=="function"?_e.call(ft,te,$):_e,$==null)break e;te=y({},te,$);break e;case 2:$r=!0}}$=A.callback,$!==null&&(t.flags|=64,X&&(t.flags|=8192),X=h.callbacks,X===null?h.callbacks=[$]:X.push($))}else X={lane:$,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(q=J=X,O=te):J=J.next=X,b|=$;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;X=A,A=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);J===null&&(O=te),h.baseState=O,h.firstBaseUpdate=q,h.lastBaseUpdate=J,f===null&&(h.shared.lanes=0),Zr|=b,t.lanes=b,t.memoizedState=te}}function My(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Py(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)My(a[t],r)}var io=j(null),Au=j(0);function Vy(t,r){t=br,ue(Au,t),ue(io,r),br=t|r.baseLanes}function hf(){ue(Au,br),ue(io,io.current)}function ff(){br=Au.current,Z(io),Z(Au)}var kn=j(null),ii=null;function Kr(t){var r=t.alternate;ue(It,It.current&1),ue(kn,t),ii===null&&(r===null||io.current!==null||r.memoizedState!==null)&&(ii=t)}function pf(t){ue(It,It.current),ue(kn,t),ii===null&&(ii=t)}function Ly(t){t.tag===22?(ue(It,It.current),ue(kn,t),ii===null&&(ii=t)):Qr()}function Qr(){ue(It,It.current),ue(kn,kn.current)}function jn(t){Z(kn),ii===t&&(ii=null),Z(It)}var It=j(0);function wu(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||bp(a)||Ep(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var hr=0,je=null,dt=null,kt=null,xu=!1,ro=!1,la=!1,Ru=0,Dl=0,so=null,F1=0;function xt(){throw Error(s(321))}function mf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Vn(t[a],r[a]))return!1;return!0}function gf(t,r,a,l,h,f){return hr=f,je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=t===null||t.memoizedState===null?_v:Nf,la=!1,f=a(l,h),la=!1,ro&&(f=jy(r,a,l,h)),ky(t),f}function ky(t){Q.H=Ml;var r=dt!==null&&dt.next!==null;if(hr=0,kt=dt=je=null,xu=!1,Dl=0,so=null,r)throw Error(s(300));t===null||jt||(t=t.dependencies,t!==null&&yu(t)&&(jt=!0))}function jy(t,r,a,l){je=t;var h=0;do{if(ro&&(so=null),Dl=0,ro=!1,25<=h)throw Error(s(301));if(h+=1,kt=dt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=bv,f=r(a,l)}while(ro);return f}function $1(){var t=Q.H,r=t.useState()[0];return r=typeof r.then=="function"?Nl(r):r,t=t.useState()[0],(dt!==null?dt.memoizedState:null)!==t&&(je.flags|=1024),r}function yf(){var t=Ru!==0;return Ru=0,t}function vf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function _f(t){if(xu){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}xu=!1}hr=0,kt=dt=je=null,ro=!1,Dl=Ru=0,so=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?je.memoizedState=kt=t:kt=kt.next=t,kt}function Dt(){if(dt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var r=kt===null?je.memoizedState:kt.next;if(r!==null)kt=r,dt=t;else{if(t===null)throw je.alternate===null?Error(s(467)):Error(s(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},kt===null?je.memoizedState=kt=t:kt=kt.next=t}return kt}function Cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(t){var r=Dl;return Dl+=1,so===null&&(so=[]),t=Cy(so,t,r),r=je,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?_v:Nf),t}function Iu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Nl(t);if(t.$$typeof===ie)return nn(t)}throw Error(s(438,String(t)))}function bf(t){var r=null,a=je.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Cu(),je.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=V;return r.index++,a}function fr(t,r){return typeof r=="function"?r(t):r}function Du(t){var r=Dt();return Ef(r,dt,t)}function Ef(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var b=h.next;h.next=f.next,f.next=b}r.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{r=h.next;var A=b=null,O=null,q=r,J=!1;do{var te=q.lane&-536870913;if(te!==q.lane?(qe&te)===te:(hr&te)===te){var $=q.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),te===Za&&(J=!0);else if((hr&$)===$){q=q.next,$===Za&&(J=!0);continue}else te={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(A=O=te,b=f):O=O.next=te,je.lanes|=$,Zr|=$;te=q.action,la&&a(f,te),f=q.hasEagerState?q.eagerState:a(f,te)}else $={lane:te,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},O===null?(A=O=$,b=f):O=O.next=$,je.lanes|=te,Zr|=te;q=q.next}while(q!==null&&q!==r);if(O===null?b=f:O.next=A,!Vn(f,t.memoizedState)&&(jt=!0,J&&(a=eo,a!==null)))throw a;t.memoizedState=f,t.baseState=b,t.baseQueue=O,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Tf(t){var r=Dt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do f=t(f,b.action),b=b.next;while(b!==h);Vn(f,r.memoizedState)||(jt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function Uy(t,r,a){var l=je,h=Dt(),f=Qe;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var b=!Vn((dt||h).memoizedState,a);if(b&&(h.memoizedState=a,jt=!0),h=h.queue,wf(Gy.bind(null,l,h,t),[t]),h.getSnapshot!==r||b||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,ao(9,{destroy:void 0},zy.bind(null,l,h,a,r),null),pt===null)throw Error(s(349));f||(hr&127)!==0||By(l,r,a)}return a}function By(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=je.updateQueue,r===null?(r=Cu(),je.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function zy(t,r,a,l){r.value=a,r.getSnapshot=l,Hy(r)&&qy(t)}function Gy(t,r,a){return a(function(){Hy(r)&&qy(t)})}function Hy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Vn(t,a)}catch{return!0}}function qy(t){var r=Zs(t,2);r!==null&&Dn(r,t,2)}function Sf(t){var r=_n();if(typeof t=="function"){var a=t;if(t=a(),la){Tn(!0);try{a()}finally{Tn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:t},r}function Fy(t,r,a,l){return t.baseState=a,Ef(t,dt,typeof l=="function"?l:fr)}function Y1(t,r,a,l,h){if(Mu(t))throw Error(s(485));if(t=r.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){f.listeners.push(b)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,$y(r,f)):(f.next=a.next,r.pending=a.next=f)}}function $y(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var f=Q.T,b={};Q.T=b;try{var A=a(h,l),O=Q.S;O!==null&&O(b,A),Yy(t,r,A)}catch(q){Af(t,r,q)}finally{f!==null&&b.types!==null&&(f.types=b.types),Q.T=f}}else try{f=a(h,l),Yy(t,r,f)}catch(q){Af(t,r,q)}}function Yy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Xy(t,r,l)},function(l){return Af(t,r,l)}):Xy(t,r,a)}function Xy(t,r,a){r.status="fulfilled",r.value=a,Ky(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,$y(t,a)))}function Af(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Ky(r),r=r.next;while(r!==l)}t.action=null}function Ky(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Qy(t,r){return r}function Wy(t,r){if(Qe){var a=pt.formState;if(a!==null){e:{var l=je;if(Qe){if(mt){t:{for(var h=mt,f=ni;h.nodeType!==8;){if(!f){h=null;break t}if(h=ri(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){mt=ri(h.nextSibling),l=h.data==="F!";break e}}qr(l)}l=!1}l&&(r=a[0])}}return a=_n(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qy,lastRenderedState:r},a.queue=l,a=gv.bind(null,je,l),l.dispatch=a,l=Sf(!1),f=Df.bind(null,je,!1,l.queue),l=_n(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=Y1.bind(null,je,h,f,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Jy(t){var r=Dt();return Zy(r,dt,t)}function Zy(t,r,a){if(r=Ef(t,r,Qy)[0],t=Du(fr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Nl(r)}catch(b){throw b===to?bu:b}else l=r;r=Dt();var h=r.queue,f=h.dispatch;return a!==r.memoizedState&&(je.flags|=2048,ao(9,{destroy:void 0},X1.bind(null,h,a),null)),[l,f,t]}function X1(t,r){t.action=r}function ev(t){var r=Dt(),a=dt;if(a!==null)return Zy(r,a,t);Dt(),r=r.memoizedState,a=Dt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function ao(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=je.updateQueue,r===null&&(r=Cu(),je.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function tv(){return Dt().memoizedState}function Nu(t,r,a,l){var h=_n();je.flags|=t,h.memoizedState=ao(1|r,{destroy:void 0},a,l===void 0?null:l)}function Ou(t,r,a,l){var h=Dt();l=l===void 0?null:l;var f=h.memoizedState.inst;dt!==null&&l!==null&&mf(l,dt.memoizedState.deps)?h.memoizedState=ao(r,f,a,l):(je.flags|=t,h.memoizedState=ao(1|r,f,a,l))}function nv(t,r){Nu(8390656,8,t,r)}function wf(t,r){Ou(2048,8,t,r)}function K1(t){je.flags|=4;var r=je.updateQueue;if(r===null)r=Cu(),je.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function iv(t){var r=Dt().memoizedState;return K1({ref:r,nextImpl:t}),function(){if((rt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function rv(t,r){return Ou(4,2,t,r)}function sv(t,r){return Ou(4,4,t,r)}function av(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function ov(t,r,a){a=a!=null?a.concat([t]):null,Ou(4,4,av.bind(null,r,t),a)}function xf(){}function lv(t,r){var a=Dt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&mf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function cv(t,r){var a=Dt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&mf(r,l[1]))return l[0];if(l=t(),la){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,r],l}function Rf(t,r,a){return a===void 0||(hr&1073741824)!==0&&(qe&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=u_(),je.lanes|=t,Zr|=t,a)}function uv(t,r,a,l){return Vn(a,r)?a:io.current!==null?(t=Rf(t,a,l),Vn(t,r)||(jt=!0),t):(hr&42)===0||(hr&1073741824)!==0&&(qe&261930)===0?(jt=!0,t.memoizedState=a):(t=u_(),je.lanes|=t,Zr|=t,r)}function dv(t,r,a,l,h){var f=he.p;he.p=f!==0&&8>f?f:8;var b=Q.T,A={};Q.T=A,Df(t,!1,r,a);try{var O=h(),q=Q.S;if(q!==null&&q(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=q1(O,l);Ol(t,r,J,zn(t))}else Ol(t,r,l,zn(t))}catch(te){Ol(t,r,{then:function(){},status:"rejected",reason:te},zn())}finally{he.p=f,b!==null&&A.types!==null&&(b.types=A.types),Q.T=b}}function Q1(){}function Cf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=hv(t).queue;dv(t,h,r,Ee,a===null?Q1:function(){return fv(t),a(l)})}function hv(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:Ee},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function fv(t){var r=hv(t);r.next===null&&(r=t.alternate.memoizedState),Ol(t,r.next.queue,{},zn())}function If(){return nn(Kl)}function pv(){return Dt().memoizedState}function mv(){return Dt().memoizedState}function W1(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=zn();t=Yr(a);var l=Xr(r,t,a);l!==null&&(Dn(l,r,a),Rl(l,r,a)),r={cache:rf()},t.payload=r;return}r=r.return}}function J1(t,r,a){var l=zn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Mu(t)?yv(r,a):(a=$h(t,r,a,l),a!==null&&(Dn(a,t,l),vv(a,r,l)))}function gv(t,r,a){var l=zn();Ol(t,r,a,l)}function Ol(t,r,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mu(t))yv(r,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var b=r.lastRenderedState,A=f(b,a);if(h.hasEagerState=!0,h.eagerState=A,Vn(A,b))return fu(t,r,h,0),pt===null&&hu(),!1}catch{}finally{}if(a=$h(t,r,h,l),a!==null)return Dn(a,t,l),vv(a,r,l),!0}return!1}function Df(t,r,a,l){if(l={lane:2,revertLane:lp(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Mu(t)){if(r)throw Error(s(479))}else r=$h(t,a,l,2),r!==null&&Dn(r,t,2)}function Mu(t){var r=t.alternate;return t===je||r!==null&&r===je}function yv(t,r){ro=xu=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function vv(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,el(t,a)}}var Ml={readContext:nn,use:Iu,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};Ml.useEffectEvent=xt;var _v={readContext:nn,use:Iu,useCallback:function(t,r){return _n().memoizedState=[t,r===void 0?null:r],t},useContext:nn,useEffect:nv,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Nu(4194308,4,av.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Nu(4194308,4,t,r)},useInsertionEffect:function(t,r){Nu(4,2,t,r)},useMemo:function(t,r){var a=_n();r=r===void 0?null:r;var l=t();if(la){Tn(!0);try{t()}finally{Tn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=_n();if(a!==void 0){var h=a(r);if(la){Tn(!0);try{a(r)}finally{Tn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=J1.bind(null,je,t),[l.memoizedState,t]},useRef:function(t){var r=_n();return t={current:t},r.memoizedState=t},useState:function(t){t=Sf(t);var r=t.queue,a=gv.bind(null,je,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(t,r){var a=_n();return Rf(a,t,r)},useTransition:function(){var t=Sf(!1);return t=dv.bind(null,je,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=je,h=_n();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),pt===null)throw Error(s(349));(qe&127)!==0||By(l,r,a)}h.memoizedState=a;var f={value:a,getSnapshot:r};return h.queue=f,nv(Gy.bind(null,l,f,t),[t]),l.flags|=2048,ao(9,{destroy:void 0},zy.bind(null,l,f,a,r),null),a},useId:function(){var t=_n(),r=pt.identifierPrefix;if(Qe){var a=Gi,l=zi;a=(l&~(1<<32-Et(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Ru++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=F1++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:If,useFormState:Wy,useActionState:Wy,useOptimistic:function(t){var r=_n();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Df.bind(null,je,!0,a),a.dispatch=r,[t,r]},useMemoCache:bf,useCacheRefresh:function(){return _n().memoizedState=W1.bind(null,je)},useEffectEvent:function(t){var r=_n(),a={impl:t};return r.memoizedState=a,function(){if((rt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Nf={readContext:nn,use:Iu,useCallback:lv,useContext:nn,useEffect:wf,useImperativeHandle:ov,useInsertionEffect:rv,useLayoutEffect:sv,useMemo:cv,useReducer:Du,useRef:tv,useState:function(){return Du(fr)},useDebugValue:xf,useDeferredValue:function(t,r){var a=Dt();return uv(a,dt.memoizedState,t,r)},useTransition:function(){var t=Du(fr)[0],r=Dt().memoizedState;return[typeof t=="boolean"?t:Nl(t),r]},useSyncExternalStore:Uy,useId:pv,useHostTransitionStatus:If,useFormState:Jy,useActionState:Jy,useOptimistic:function(t,r){var a=Dt();return Fy(a,dt,t,r)},useMemoCache:bf,useCacheRefresh:mv};Nf.useEffectEvent=iv;var bv={readContext:nn,use:Iu,useCallback:lv,useContext:nn,useEffect:wf,useImperativeHandle:ov,useInsertionEffect:rv,useLayoutEffect:sv,useMemo:cv,useReducer:Tf,useRef:tv,useState:function(){return Tf(fr)},useDebugValue:xf,useDeferredValue:function(t,r){var a=Dt();return dt===null?Rf(a,t,r):uv(a,dt.memoizedState,t,r)},useTransition:function(){var t=Tf(fr)[0],r=Dt().memoizedState;return[typeof t=="boolean"?t:Nl(t),r]},useSyncExternalStore:Uy,useId:pv,useHostTransitionStatus:If,useFormState:ev,useActionState:ev,useOptimistic:function(t,r){var a=Dt();return dt!==null?Fy(a,dt,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:bf,useCacheRefresh:mv};bv.useEffectEvent=iv;function Of(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:y({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Mf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=zn(),h=Yr(l);h.payload=r,a!=null&&(h.callback=a),r=Xr(t,h,l),r!==null&&(Dn(r,t,l),Rl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=zn(),h=Yr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Xr(t,h,l),r!==null&&(Dn(r,t,l),Rl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=zn(),l=Yr(a);l.tag=2,r!=null&&(l.callback=r),r=Xr(t,l,a),r!==null&&(Dn(r,t,a),Rl(r,t,a))}};function Ev(t,r,a,l,h,f,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,b):r.prototype&&r.prototype.isPureReactComponent?!_l(a,l)||!_l(h,f):!0}function Tv(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Mf.enqueueReplaceState(r,r.state,null)}function ca(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=y({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Sv(t){du(t)}function Av(t){console.error(t)}function wv(t){du(t)}function Pu(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function xv(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(t,r,a){return a=Yr(a),a.tag=3,a.payload={element:null},a.callback=function(){Pu(t,r)},a}function Rv(t){return t=Yr(t),t.tag=3,t}function Cv(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){xv(r,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){xv(r,a,l),typeof h!="function"&&(es===null?es=new Set([this]):es.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function Z1(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ja(r,a,h,!0),a=kn.current,a!==null){switch(a.tag){case 31:case 13:return ii===null?$u():a.alternate===null&&Rt===0&&(Rt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Eu?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),sp(t,l,h)),!1;case 22:return a.flags|=65536,l===Eu?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),sp(t,l,h)),!1}throw Error(s(435,a.tag))}return sp(t,l,h),$u(),!1}if(Qe)return r=kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Jh&&(t=Error(s(422),{cause:l}),Tl(Zn(t,a)))):(l!==Jh&&(r=Error(s(423),{cause:l}),Tl(Zn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Zn(l,a),h=Pf(t.stateNode,l,h),uf(t,h),Rt!==4&&(Rt=2)),!1;var f=Error(s(520),{cause:l});if(f=Zn(f,a),zl===null?zl=[f]:zl.push(f),Rt!==4&&(Rt=2),r===null)return!0;l=Zn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Pf(a.stateNode,l,t),uf(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(es===null||!es.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Rv(h),Cv(h,t,a,l),uf(a,h),!1}a=a.return}while(a!==null);return!1}var Vf=Error(s(461)),jt=!1;function rn(t,r,a,l){r.child=t===null?Oy(r,null,a,l):oa(r,t.child,a,l)}function Iv(t,r,a,l,h){a=a.render;var f=r.ref;if("ref"in l){var b={};for(var A in l)A!=="ref"&&(b[A]=l[A])}else b=l;return ia(r),l=gf(t,r,a,b,f,h),A=yf(),t!==null&&!jt?(vf(t,r,h),pr(t,r,h)):(Qe&&A&&Qh(r),r.flags|=1,rn(t,r,l,h),r.child)}function Dv(t,r,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Yh(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,Nv(t,r,f,l,h)):(t=mu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!Hf(t,h)){var b=f.memoizedProps;if(a=a.compare,a=a!==null?a:_l,a(b,l)&&t.ref===r.ref)return pr(t,r,h)}return r.flags|=1,t=lr(f,l),t.ref=r.ref,t.return=r,r.child=t}function Nv(t,r,a,l,h){if(t!==null){var f=t.memoizedProps;if(_l(f,l)&&t.ref===r.ref)if(jt=!1,r.pendingProps=l=f,Hf(t,h))(t.flags&131072)!==0&&(jt=!0);else return r.lanes=t.lanes,pr(t,r,h)}return Lf(t,r,a,l,h)}function Ov(t,r,a,l){var h=l.children,f=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=r.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,r.child=null;return Mv(t,r,f,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&_u(r,f!==null?f.cachePool:null),f!==null?Vy(r,f):hf(),Ly(r);else return l=r.lanes=536870912,Mv(t,r,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(_u(r,f.cachePool),Vy(r,f),Qr(),r.memoizedState=null):(t!==null&&_u(r,null),hf(),Qr());return rn(t,r,h,a),r.child}function Pl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Mv(t,r,a,l,h){var f=af();return f=f===null?null:{parent:Lt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&_u(r,null),hf(),Ly(r),t!==null&&Ja(t,r,l,!0),r.childLanes=h,null}function Vu(t,r){return r=ku({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Pv(t,r,a){return oa(r,t.child,null,a),t=Vu(r,r.pendingProps),t.flags|=2,jn(r),r.memoizedState=null,t}function ew(t,r,a){var l=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Qe){if(l.mode==="hidden")return t=Vu(r,l),r.lanes=536870912,Pl(null,t);if(pf(r),(t=mt)?(t=$_(t,ni),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Gr!==null?{id:zi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},a=yy(t),a.return=r,r.child=a,tn=r,mt=null)):t=null,t===null)throw qr(r);return r.lanes=536870912,null}return Vu(r,l)}var f=t.memoizedState;if(f!==null){var b=f.dehydrated;if(pf(r),h)if(r.flags&256)r.flags&=-257,r=Pv(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(jt||Ja(t,r,a,!1),h=(a&t.childLanes)!==0,jt||h){if(l=pt,l!==null&&(b=tl(l,a),b!==0&&b!==f.retryLane))throw f.retryLane=b,Zs(t,b),Dn(l,t,b),Vf;$u(),r=Pv(t,r,a)}else t=f.treeContext,mt=ri(b.nextSibling),tn=r,Qe=!0,Hr=null,ni=!1,t!==null&&by(r,t),r=Vu(r,l),r.flags|=4096;return r}return t=lr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Lu(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Lf(t,r,a,l,h){return ia(r),a=gf(t,r,a,l,void 0,h),l=yf(),t!==null&&!jt?(vf(t,r,h),pr(t,r,h)):(Qe&&l&&Qh(r),r.flags|=1,rn(t,r,a,h),r.child)}function Vv(t,r,a,l,h,f){return ia(r),r.updateQueue=null,a=jy(r,l,a,h),ky(t),l=yf(),t!==null&&!jt?(vf(t,r,f),pr(t,r,f)):(Qe&&l&&Qh(r),r.flags|=1,rn(t,r,a,f),r.child)}function Lv(t,r,a,l,h){if(ia(r),r.stateNode===null){var f=Xa,b=a.contextType;typeof b=="object"&&b!==null&&(f=nn(b)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},lf(r),b=a.contextType,f.context=typeof b=="object"&&b!==null?nn(b):Xa,f.state=r.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Of(r,a,b,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(b=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),b!==f.state&&Mf.enqueueReplaceState(f,f.state,null),Il(r,l,f,h),Cl(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var A=r.memoizedProps,O=ca(a,A);f.props=O;var q=f.context,J=a.contextType;b=Xa,typeof J=="object"&&J!==null&&(b=nn(J));var te=a.getDerivedStateFromProps;J=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",A=r.pendingProps!==A,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(A||q!==b)&&Tv(r,f,l,b),$r=!1;var $=r.memoizedState;f.state=$,Il(r,l,f,h),Cl(),q=r.memoizedState,A||$!==q||$r?(typeof te=="function"&&(Of(r,a,te,l),q=r.memoizedState),(O=$r||Ev(r,a,O,l,$,q,b))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=q),f.props=l,f.state=q,f.context=b,l=O):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,cf(t,r),b=r.memoizedProps,J=ca(a,b),f.props=J,te=r.pendingProps,$=f.context,q=a.contextType,O=Xa,typeof q=="object"&&q!==null&&(O=nn(q)),A=a.getDerivedStateFromProps,(q=typeof A=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==te||$!==O)&&Tv(r,f,l,O),$r=!1,$=r.memoizedState,f.state=$,Il(r,l,f,h),Cl();var X=r.memoizedState;b!==te||$!==X||$r||t!==null&&t.dependencies!==null&&yu(t.dependencies)?(typeof A=="function"&&(Of(r,a,A,l),X=r.memoizedState),(J=$r||Ev(r,a,J,l,$,X,O)||t!==null&&t.dependencies!==null&&yu(t.dependencies))?(q||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,X,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,X,O)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=X),f.props=l,f.state=X,f.context=O,l=J):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,Lu(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=oa(r,t.child,null,h),r.child=oa(r,null,a,h)):rn(t,r,a,h),r.memoizedState=f.state,t=r.child):t=pr(t,r,h),t}function kv(t,r,a,l){return ta(),r.flags|=256,rn(t,r,a,l),r.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(t){return{baseLanes:t,cachePool:xy()}}function Uf(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Bn),t}function jv(t,r,a){var l=r.pendingProps,h=!1,f=(r.flags&128)!==0,b;if((b=f)||(b=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),b&&(h=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,t===null){if(Qe){if(h?Kr(r):Qr(),(t=mt)?(t=$_(t,ni),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Gr!==null?{id:zi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},a=yy(t),a.return=r,r.child=a,tn=r,mt=null)):t=null,t===null)throw qr(r);return Ep(t)?r.lanes=32:r.lanes=536870912,null}var A=l.children;return l=l.fallback,h?(Qr(),h=r.mode,A=ku({mode:"hidden",children:A},h),l=ea(l,h,a,null),A.return=r,l.return=r,A.sibling=l,r.child=A,l=r.child,l.memoizedState=jf(a),l.childLanes=Uf(t,b,a),r.memoizedState=kf,Pl(null,l)):(Kr(r),Bf(r,A))}var O=t.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(f)r.flags&256?(Kr(r),r.flags&=-257,r=zf(t,r,a)):r.memoizedState!==null?(Qr(),r.child=t.child,r.flags|=128,r=null):(Qr(),A=l.fallback,h=r.mode,l=ku({mode:"visible",children:l.children},h),A=ea(A,h,a,null),A.flags|=2,l.return=r,A.return=r,l.sibling=A,r.child=l,oa(r,t.child,null,a),l=r.child,l.memoizedState=jf(a),l.childLanes=Uf(t,b,a),r.memoizedState=kf,r=Pl(null,l));else if(Kr(r),Ep(A)){if(b=A.nextSibling&&A.nextSibling.dataset,b)var q=b.dgst;b=q,l=Error(s(419)),l.stack="",l.digest=b,Tl({value:l,source:null,stack:null}),r=zf(t,r,a)}else if(jt||Ja(t,r,a,!1),b=(a&t.childLanes)!==0,jt||b){if(b=pt,b!==null&&(l=tl(b,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,Zs(t,l),Dn(b,t,l),Vf;bp(A)||$u(),r=zf(t,r,a)}else bp(A)?(r.flags|=192,r.child=t.child,r=null):(t=O.treeContext,mt=ri(A.nextSibling),tn=r,Qe=!0,Hr=null,ni=!1,t!==null&&by(r,t),r=Bf(r,l.children),r.flags|=4096);return r}return h?(Qr(),A=l.fallback,h=r.mode,O=t.child,q=O.sibling,l=lr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,q!==null?A=lr(q,A):(A=ea(A,h,a,null),A.flags|=2),A.return=r,l.return=r,l.sibling=A,r.child=l,Pl(null,l),l=r.child,A=t.child.memoizedState,A===null?A=jf(a):(h=A.cachePool,h!==null?(O=Lt._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=xy(),A={baseLanes:A.baseLanes|a,cachePool:h}),l.memoizedState=A,l.childLanes=Uf(t,b,a),r.memoizedState=kf,Pl(t.child,l)):(Kr(r),a=t.child,t=a.sibling,a=lr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(b=r.deletions,b===null?(r.deletions=[t],r.flags|=16):b.push(t)),r.child=a,r.memoizedState=null,a)}function Bf(t,r){return r=ku({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function ku(t,r){return t=Ln(22,t,null,r),t.lanes=0,t}function zf(t,r,a){return oa(r,t.child,null,a),t=Bf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Uv(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),tf(t.return,r,a)}function Gf(t,r,a,l,h,f){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:f}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=l,b.tail=a,b.tailMode=h,b.treeForkCount=f)}function Bv(t,r,a){var l=r.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var b=It.current,A=(b&2)!==0;if(A?(b=b&1|2,r.flags|=128):b&=1,ue(It,b),rn(t,r,l,a),l=Qe?El:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uv(t,a,r);else if(t.tag===19)Uv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&wu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Gf(r,!1,h,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&wu(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Gf(r,!0,a,null,f,l);break;case"together":Gf(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function pr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Zr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(Ja(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=lr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=lr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Hf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&yu(t)))}function tw(t,r,a){switch(r.tag){case 3:bt(r,r.stateNode.containerInfo),Fr(r,Lt,t.memoizedState.cache),ta();break;case 27:case 5:un(r);break;case 4:bt(r,r.stateNode.containerInfo);break;case 10:Fr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,pf(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Kr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?jv(t,r,a):(Kr(r),t=pr(t,r,a),t!==null?t.sibling:null);Kr(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ja(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return Bv(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ue(It,It.current),l)break;return null;case 22:return r.lanes=0,Ov(t,r,a,r.pendingProps);case 24:Fr(r,Lt,t.memoizedState.cache)}return pr(t,r,a)}function zv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)jt=!0;else{if(!Hf(t,a)&&(r.flags&128)===0)return jt=!1,tw(t,r,a);jt=(t.flags&131072)!==0}else jt=!1,Qe&&(r.flags&1048576)!==0&&_y(r,El,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=sa(r.elementType),r.type=t,typeof t=="function")Yh(t)?(l=ca(t,l),r.tag=1,r=Lv(null,r,t,l,a)):(r.tag=0,r=Lf(null,r,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===se){r.tag=11,r=Iv(null,r,t,l,a);break e}else if(h===I){r.tag=14,r=Dv(null,r,t,l,a);break e}}throw r=oe(t)||t,Error(s(306,r,""))}}return r;case 0:return Lf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=ca(l,r.pendingProps),Lv(t,r,l,h,a);case 3:e:{if(bt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;h=f.element,cf(t,r),Il(r,l,null,a);var b=r.memoizedState;if(l=b.cache,Fr(r,Lt,l),l!==f.cache&&nf(r,[Lt],a,!0),Cl(),l=b.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=kv(t,r,l,a);break e}else if(l!==h){h=Zn(Error(s(424)),r),Tl(h),r=kv(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(mt=ri(t.firstChild),tn=r,Qe=!0,Hr=null,ni=!0,a=Oy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ta(),l===h){r=pr(t,r,a);break e}rn(t,r,l,a)}r=r.child}return r;case 26:return Lu(t,r),t===null?(a=J_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Qe||(a=r.type,t=r.pendingProps,l=Zu(Oe.current).createElement(a),l[Mt]=r,l[$t]=t,sn(l,a,t),Pt(l),r.stateNode=l):r.memoizedState=J_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return un(r),t===null&&Qe&&(l=r.stateNode=K_(r.type,r.pendingProps,Oe.current),tn=r,ni=!0,h=mt,rs(r.type)?(Tp=h,mt=ri(l.firstChild)):mt=h),rn(t,r,r.pendingProps.children,a),Lu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Qe&&((h=l=mt)&&(l=Nw(l,r.type,r.pendingProps,ni),l!==null?(r.stateNode=l,tn=r,mt=ri(l.firstChild),ni=!1,h=!0):h=!1),h||qr(r)),un(r),h=r.type,f=r.pendingProps,b=t!==null?t.memoizedProps:null,l=f.children,yp(h,f)?l=null:b!==null&&yp(h,b)&&(r.flags|=32),r.memoizedState!==null&&(h=gf(t,r,$1,null,null,a),Kl._currentValue=h),Lu(t,r),rn(t,r,l,a),r.child;case 6:return t===null&&Qe&&((t=a=mt)&&(a=Ow(a,r.pendingProps,ni),a!==null?(r.stateNode=a,tn=r,mt=null,t=!0):t=!1),t||qr(r)),null;case 13:return jv(t,r,a);case 4:return bt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=oa(r,null,l,a):rn(t,r,l,a),r.child;case 11:return Iv(t,r,r.type,r.pendingProps,a);case 7:return rn(t,r,r.pendingProps,a),r.child;case 8:return rn(t,r,r.pendingProps.children,a),r.child;case 12:return rn(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Fr(r,r.type,l.value),rn(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,ia(r),h=nn(h),l=l(h),r.flags|=1,rn(t,r,l,a),r.child;case 14:return Dv(t,r,r.type,r.pendingProps,a);case 15:return Nv(t,r,r.type,r.pendingProps,a);case 19:return Bv(t,r,a);case 31:return ew(t,r,a);case 22:return Ov(t,r,a,r.pendingProps);case 24:return ia(r),l=nn(Lt),t===null?(h=af(),h===null&&(h=pt,f=rf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:l,cache:h},lf(r),Fr(r,Lt,h)):((t.lanes&a)!==0&&(cf(t,r),Il(r,null,null,a),Cl()),h=t.memoizedState,f=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Fr(r,Lt,l)):(l=f.cache,Fr(r,Lt,l),l!==h.cache&&nf(r,[Lt],a,!0))),rn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function mr(t){t.flags|=4}function qf(t,r,a,l,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(p_())t.flags|=8192;else throw aa=Eu,of}else t.flags&=-16777217}function Gv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ib(r))if(p_())t.flags|=8192;else throw aa=Eu,of}function ju(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ir():536870912,t.lanes|=r,uo|=r)}function Vl(t,r){if(!Qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function gt(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function nw(t,r,a){var l=r.pendingProps;switch(Wh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(r),null;case 1:return gt(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),dr(Lt),We(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Wa(r)?mr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Zh())),gt(r),null;case 26:var h=r.type,f=r.memoizedState;return t===null?(mr(r),f!==null?(gt(r),Gv(r,f)):(gt(r),qf(r,h,null,l,a))):f?f!==t.memoizedState?(mr(r),gt(r),Gv(r,f)):(gt(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&mr(r),gt(r),qf(r,h,t,l,a)),null;case 27:if(Fn(r),a=Oe.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&mr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return gt(r),null}t=ge.current,Wa(r)?Ey(r):(t=K_(h,l,a),r.stateNode=t,mr(r))}return gt(r),null;case 5:if(Fn(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&mr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return gt(r),null}if(f=ge.current,Wa(r))Ey(r);else{var b=Zu(Oe.current);switch(f){case 1:f=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=b.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?b.createElement("select",{is:l.is}):b.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?b.createElement(h,{is:l.is}):b.createElement(h)}}f[Mt]=r,f[$t]=l;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)f.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=f;e:switch(sn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&mr(r)}}return gt(r),qf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&mr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Oe.current,Wa(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Mt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||j_(t.nodeValue,a)),t||qr(r,!0)}else t=Zu(t).createTextNode(l),t[Mt]=r,r.stateNode=t}return gt(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=Wa(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Mt]=r}else ta(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),t=!1}else a=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(jn(r),r):(jn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return gt(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Wa(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Mt]=r}else ta(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;gt(r),h=!1}else h=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(jn(r),r):(jn(r),null)}return jn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),ju(r,r.updateQueue),gt(r),null);case 4:return We(),t===null&&hp(r.stateNode.containerInfo),gt(r),null;case 10:return dr(r.type),gt(r),null;case 19:if(Z(It),l=r.memoizedState,l===null)return gt(r),null;if(h=(r.flags&128)!==0,f=l.rendering,f===null)if(h)Vl(l,!1);else{if(Rt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=wu(t),f!==null){for(r.flags|=128,Vl(l,!1),t=f.updateQueue,r.updateQueue=t,ju(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)gy(a,t),a=a.sibling;return ue(It,It.current&1|2),Qe&&cr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&Zt()>Hu&&(r.flags|=128,h=!0,Vl(l,!1),r.lanes=4194304)}else{if(!h)if(t=wu(f),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,ju(r,t),Vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Qe)return gt(r),null}else 2*Zt()-l.renderingStartTime>Hu&&a!==536870912&&(r.flags|=128,h=!0,Vl(l,!1),r.lanes=4194304);l.isBackwards?(f.sibling=r.child,r.child=f):(t=l.last,t!==null?t.sibling=f:r.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Zt(),t.sibling=null,a=It.current,ue(It,h?a&1|2:a&1),Qe&&cr(r,l.treeForkCount),t):(gt(r),null);case 22:case 23:return jn(r),ff(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(gt(r),r.subtreeFlags&6&&(r.flags|=8192)):gt(r),a=r.updateQueue,a!==null&&ju(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&Z(ra),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),dr(Lt),gt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function iw(t,r){switch(Wh(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return dr(Lt),We(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Fn(r),null;case 31:if(r.memoizedState!==null){if(jn(r),r.alternate===null)throw Error(s(340));ta()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(jn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ta()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Z(It),null;case 4:return We(),null;case 10:return dr(r.type),null;case 22:case 23:return jn(r),ff(),t!==null&&Z(ra),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return dr(Lt),null;case 25:return null;default:return null}}function Hv(t,r){switch(Wh(r),r.tag){case 3:dr(Lt),We();break;case 26:case 27:case 5:Fn(r);break;case 4:We();break;case 31:r.memoizedState!==null&&jn(r);break;case 13:jn(r);break;case 19:Z(It);break;case 10:dr(r.type);break;case 22:case 23:jn(r),ff(),t!==null&&Z(ra);break;case 24:dr(Lt)}}function Ll(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,b=a.inst;l=f(),b.destroy=l}a=a.next}while(a!==h)}}catch(A){ct(r,r.return,A)}}function Wr(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var b=l.inst,A=b.destroy;if(A!==void 0){b.destroy=void 0,h=r;var O=a,q=A;try{q()}catch(J){ct(h,O,J)}}}l=l.next}while(l!==f)}}catch(J){ct(r,r.return,J)}}function qv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Py(r,a)}catch(l){ct(t,t.return,l)}}}function Fv(t,r,a){a.props=ca(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ct(t,r,l)}}function kl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){ct(t,r,h)}}function Hi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ct(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ct(t,r,h)}else a.current=null}function $v(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ct(t,t.return,h)}}function Ff(t,r,a){try{var l=t.stateNode;ww(l,t.type,a,r),l[$t]=r}catch(h){ct(t,t.return,h)}}function Yv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rs(t.type)||t.tag===4}function $f(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=mi));else if(l!==4&&(l===27&&rs(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Yf(t,r,a),t=t.sibling;t!==null;)Yf(t,r,a),t=t.sibling}function Uu(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&rs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Uu(t,r,a),t=t.sibling;t!==null;)Uu(t,r,a),t=t.sibling}function Xv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);sn(r,l,a),r[Mt]=t,r[$t]=a}catch(f){ct(t,t.return,f)}}var gr=!1,Ut=!1,Xf=!1,Kv=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function rw(t,r){if(t=t.containerInfo,mp=ad,t=oy(t),Bh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var b=0,A=-1,O=-1,q=0,J=0,te=t,$=null;t:for(;;){for(var X;te!==a||h!==0&&te.nodeType!==3||(A=b+h),te!==f||l!==0&&te.nodeType!==3||(O=b+l),te.nodeType===3&&(b+=te.nodeValue.length),(X=te.firstChild)!==null;)$=te,te=X;for(;;){if(te===t)break t;if($===a&&++q===h&&(A=b),$===f&&++J===l&&(O=b),(X=te.nextSibling)!==null)break;te=$,$=te.parentNode}te=X}a=A===-1||O===-1?null:{start:A,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(gp={focusedElem:t,selectionRange:a},ad=!1,Xt=r;Xt!==null;)if(r=Xt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Xt=t;else for(;Xt!==null;){switch(r=Xt,f=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var _e=ca(a.type,h);t=l.getSnapshotBeforeUpdate(_e,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(De){ct(a,a.return,De)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)_p(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_p(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Xt=t;break}Xt=r.return}}function Qv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:vr(t,a),l&4&&Ll(5,a);break;case 1:if(vr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(b){ct(a,a.return,b)}else{var h=ca(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(b){ct(a,a.return,b)}}l&64&&qv(a),l&512&&kl(a,a.return);break;case 3:if(vr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Py(t,r)}catch(b){ct(a,a.return,b)}}break;case 27:r===null&&l&4&&Xv(a);case 26:case 5:vr(t,a),r===null&&l&4&&$v(a),l&512&&kl(a,a.return);break;case 12:vr(t,a);break;case 31:vr(t,a),l&4&&Zv(t,a);break;case 13:vr(t,a),l&4&&e_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=fw.bind(null,a),Mw(t,a))));break;case 22:if(l=a.memoizedState!==null||gr,!l){r=r!==null&&r.memoizedState!==null||Ut,h=gr;var f=Ut;gr=l,(Ut=r)&&!f?_r(t,a,(a.subtreeFlags&8772)!==0):vr(t,a),gr=h,Ut=f}break;case 30:break;default:vr(t,a)}}function Wv(t){var r=t.alternate;r!==null&&(t.alternate=null,Wv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Pa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,xn=!1;function yr(t,r,a){for(a=a.child;a!==null;)Jv(t,r,a),a=a.sibling}function Jv(t,r,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(On,a)}catch{}switch(a.tag){case 26:Ut||Hi(a,r),yr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ut||Hi(a,r);var l=_t,h=xn;rs(a.type)&&(_t=a.stateNode,xn=!1),yr(t,r,a),$l(a.stateNode),_t=l,xn=h;break;case 5:Ut||Hi(a,r);case 6:if(l=_t,h=xn,_t=null,yr(t,r,a),_t=l,xn=h,_t!==null)if(xn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(a.stateNode)}catch(f){ct(a,r,f)}else try{_t.removeChild(a.stateNode)}catch(f){ct(a,r,f)}break;case 18:_t!==null&&(xn?(t=_t,q_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),_o(t)):q_(_t,a.stateNode));break;case 4:l=_t,h=xn,_t=a.stateNode.containerInfo,xn=!0,yr(t,r,a),_t=l,xn=h;break;case 0:case 11:case 14:case 15:Wr(2,a,r),Ut||Wr(4,a,r),yr(t,r,a);break;case 1:Ut||(Hi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Fv(a,r,l)),yr(t,r,a);break;case 21:yr(t,r,a);break;case 22:Ut=(l=Ut)||a.memoizedState!==null,yr(t,r,a),Ut=l;break;default:yr(t,r,a)}}function Zv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{_o(t)}catch(a){ct(r,r.return,a)}}}function e_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{_o(t)}catch(a){ct(r,r.return,a)}}function sw(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Kv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Kv),r;default:throw Error(s(435,t.tag))}}function Bu(t,r){var a=sw(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var h=pw.bind(null,t,l);l.then(h,h)}})}function Rn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,b=r,A=b;e:for(;A!==null;){switch(A.tag){case 27:if(rs(A.type)){_t=A.stateNode,xn=!1;break e}break;case 5:_t=A.stateNode,xn=!1;break e;case 3:case 4:_t=A.stateNode.containerInfo,xn=!0;break e}A=A.return}if(_t===null)throw Error(s(160));Jv(f,b,h),_t=null,xn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)t_(r,t),r=r.sibling}var Ei=null;function t_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(r,t),Cn(t),l&4&&(Wr(3,t,t.return),Ll(3,t),Wr(5,t,t.return));break;case 1:Rn(r,t),Cn(t),l&512&&(Ut||a===null||Hi(a,a.return)),l&64&&gr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Ei;if(Rn(r,t),Cn(t),l&512&&(Ut||a===null||Hi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ii]||f[Mt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),sn(f,l,a),f[Mt]=t,Pt(f),l=f;break e;case"link":var b=tb("link","href",h).get(l+(a.href||""));if(b){for(var A=0;A<b.length;A++)if(f=b[A],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(A,1);break t}}f=h.createElement(l),sn(f,l,a),h.head.appendChild(f);break;case"meta":if(b=tb("meta","content",h).get(l+(a.content||""))){for(A=0;A<b.length;A++)if(f=b[A],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(A,1);break t}}f=h.createElement(l),sn(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Mt]=t,Pt(f),l=f}t.stateNode=l}else nb(h,t.type,t.stateNode);else t.stateNode=eb(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?nb(h,t.type,t.stateNode):eb(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ff(t,t.memoizedProps,a.memoizedProps)}break;case 27:Rn(r,t),Cn(t),l&512&&(Ut||a===null||Hi(a,a.return)),a!==null&&l&4&&Ff(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Rn(r,t),Cn(t),l&512&&(Ut||a===null||Hi(a,a.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(_e){ct(t,t.return,_e)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ff(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Xf=!0);break;case 6:if(Rn(r,t),Cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(_e){ct(t,t.return,_e)}}break;case 3:if(nd=null,h=Ei,Ei=ed(r.containerInfo),Rn(r,t),Ei=h,Cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{_o(r.containerInfo)}catch(_e){ct(t,t.return,_e)}Xf&&(Xf=!1,n_(t));break;case 4:l=Ei,Ei=ed(t.stateNode.containerInfo),Rn(r,t),Cn(t),Ei=l;break;case 12:Rn(r,t),Cn(t);break;case 31:Rn(r,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bu(t,l)));break;case 13:Rn(r,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gu=Zt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bu(t,l)));break;case 22:h=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,q=gr,J=Ut;if(gr=q||h,Ut=J||O,Rn(r,t),Ut=J,gr=q,Cn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||O||gr||Ut||ua(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(f=O.stateNode,h)b=f.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{A=O.stateNode;var te=O.memoizedProps.style,$=te!=null&&te.hasOwnProperty("display")?te.display:null;A.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(_e){ct(O,O.return,_e)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(_e){ct(O,O.return,_e)}}}else if(r.tag===18){if(a===null){O=r;try{var X=O.stateNode;h?F_(X,!0):F_(O.stateNode,!1)}catch(_e){ct(O,O.return,_e)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Bu(t,a))));break;case 19:Rn(r,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Bu(t,l)));break;case 30:break;case 21:break;default:Rn(r,t),Cn(t)}}function Cn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Yv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=$f(t);Uu(t,f,h);break;case 5:var b=a.stateNode;a.flags&32&&(wn(b,""),a.flags&=-33);var A=$f(t);Uu(t,A,b);break;case 3:case 4:var O=a.stateNode.containerInfo,q=$f(t);Yf(t,q,O);break;default:throw Error(s(161))}}catch(J){ct(t,t.return,J)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function n_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;n_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function vr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Qv(t,r.alternate,r),r=r.sibling}function ua(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Wr(4,r,r.return),ua(r);break;case 1:Hi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Fv(r,r.return,a),ua(r);break;case 27:$l(r.stateNode);case 26:case 5:Hi(r,r.return),ua(r);break;case 22:r.memoizedState===null&&ua(r);break;case 30:ua(r);break;default:ua(r)}t=t.sibling}}function _r(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,f=r,b=f.flags;switch(f.tag){case 0:case 11:case 15:_r(h,f,a),Ll(4,f);break;case 1:if(_r(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){ct(l,l.return,q)}if(l=f,h=l.updateQueue,h!==null){var A=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)My(O[h],A)}catch(q){ct(l,l.return,q)}}a&&b&64&&qv(f),kl(f,f.return);break;case 27:Xv(f);case 26:case 5:_r(h,f,a),a&&l===null&&b&4&&$v(f),kl(f,f.return);break;case 12:_r(h,f,a);break;case 31:_r(h,f,a),a&&b&4&&Zv(h,f);break;case 13:_r(h,f,a),a&&b&4&&e_(h,f);break;case 22:f.memoizedState===null&&_r(h,f,a),kl(f,f.return);break;case 30:break;default:_r(h,f,a)}r=r.sibling}}function Kf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Sl(a))}function Qf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Sl(t))}function Ti(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)i_(t,r,a,l),r=r.sibling}function i_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Ti(t,r,a,l),h&2048&&Ll(9,r);break;case 1:Ti(t,r,a,l);break;case 3:Ti(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Sl(t)));break;case 12:if(h&2048){Ti(t,r,a,l),t=r.stateNode;try{var f=r.memoizedProps,b=f.id,A=f.onPostCommit;typeof A=="function"&&A(b,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){ct(r,r.return,O)}}else Ti(t,r,a,l);break;case 31:Ti(t,r,a,l);break;case 13:Ti(t,r,a,l);break;case 23:break;case 22:f=r.stateNode,b=r.alternate,r.memoizedState!==null?f._visibility&2?Ti(t,r,a,l):jl(t,r):f._visibility&2?Ti(t,r,a,l):(f._visibility|=2,oo(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(b,r);break;case 24:Ti(t,r,a,l),h&2048&&Qf(r.alternate,r);break;default:Ti(t,r,a,l)}}function oo(t,r,a,l,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var f=t,b=r,A=a,O=l,q=b.flags;switch(b.tag){case 0:case 11:case 15:oo(f,b,A,O,h),Ll(8,b);break;case 23:break;case 22:var J=b.stateNode;b.memoizedState!==null?J._visibility&2?oo(f,b,A,O,h):jl(f,b):(J._visibility|=2,oo(f,b,A,O,h)),h&&q&2048&&Kf(b.alternate,b);break;case 24:oo(f,b,A,O,h),h&&q&2048&&Qf(b.alternate,b);break;default:oo(f,b,A,O,h)}r=r.sibling}}function jl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:jl(a,l),h&2048&&Kf(l.alternate,l);break;case 24:jl(a,l),h&2048&&Qf(l.alternate,l);break;default:jl(a,l)}r=r.sibling}}var Ul=8192;function lo(t,r,a){if(t.subtreeFlags&Ul)for(t=t.child;t!==null;)r_(t,r,a),t=t.sibling}function r_(t,r,a){switch(t.tag){case 26:lo(t,r,a),t.flags&Ul&&t.memoizedState!==null&&Fw(a,Ei,t.memoizedState,t.memoizedProps);break;case 5:lo(t,r,a);break;case 3:case 4:var l=Ei;Ei=ed(t.stateNode.containerInfo),lo(t,r,a),Ei=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ul,Ul=16777216,lo(t,r,a),Ul=l):lo(t,r,a));break;default:lo(t,r,a)}}function s_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Bl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Xt=l,o_(l,t)}s_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)a_(t),t=t.sibling}function a_(t){switch(t.tag){case 0:case 11:case 15:Bl(t),t.flags&2048&&Wr(9,t,t.return);break;case 3:Bl(t);break;case 12:Bl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,zu(t)):Bl(t);break;default:Bl(t)}}function zu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Xt=l,o_(l,t)}s_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Wr(8,r,r.return),zu(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,zu(r));break;default:zu(r)}t=t.sibling}}function o_(t,r){for(;Xt!==null;){var a=Xt;switch(a.tag){case 0:case 11:case 15:Wr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xt=l;else e:for(a=t;Xt!==null;){l=Xt;var h=l.sibling,f=l.return;if(Wv(l),l===a){Xt=null;break e}if(h!==null){h.return=f,Xt=h;break e}Xt=f}}}var aw={getCacheForType:function(t){var r=nn(Lt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return nn(Lt).controller.signal}},ow=typeof WeakMap=="function"?WeakMap:Map,rt=0,pt=null,Ge=null,qe=0,lt=0,Un=null,Jr=!1,co=!1,Wf=!1,br=0,Rt=0,Zr=0,da=0,Jf=0,Bn=0,uo=0,zl=null,In=null,Zf=!1,Gu=0,l_=0,Hu=1/0,qu=null,es=null,Ht=0,ts=null,ho=null,Er=0,ep=0,tp=null,c_=null,Gl=0,np=null;function zn(){return(rt&2)!==0&&qe!==0?qe&-qe:Q.T!==null?lp():Fc()}function u_(){if(Bn===0)if((qe&536870912)===0||Qe){var t=re;re<<=1,(re&3932160)===0&&(re=262144),Bn=t}else Bn=536870912;return t=kn.current,t!==null&&(t.flags|=32),Bn}function Dn(t,r,a){(t===pt&&(lt===2||lt===9)||t.cancelPendingCommit!==null)&&(fo(t,0),ns(t,qe,Bn,!1)),Us(t,a),((rt&2)===0||t!==pt)&&(t===pt&&((rt&2)===0&&(da|=a),Rt===4&&ns(t,qe,Bn,!1)),qi(t))}function d_(t,r,a){if((rt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||be(t,r),h=l?uw(t,r):rp(t,r,!0),f=l;do{if(h===0){co&&!l&&ns(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!lw(a)){h=rp(t,r,!1),f=!1;continue}if(h===2){if(f=r,t.errorRecoveryDisabledLanes&f)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var A=t;h=zl;var O=A.current.memoizedState.isDehydrated;if(O&&(fo(A,b).flags|=256),b=rp(A,b,!1),b!==2){if(Wf&&!O){A.errorRecoveryDisabledLanes|=f,da|=f,h=4;break e}f=In,In=h,f!==null&&(In===null?In=f:In.push.apply(In,f))}h=b}if(f=!1,h!==2)continue}}if(h===1){fo(t,0),ns(t,r,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ns(l,r,Bn,!Jr);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Gu+300-Zt(),10<h)){if(ns(l,r,Bn,!Jr),me(l,0,!0)!==0)break e;Er=r,l.timeoutHandle=G_(h_.bind(null,l,a,In,qu,Zf,r,Bn,da,uo,Jr,f,"Throttled",-0,0),h);break e}h_(l,a,In,qu,Zf,r,Bn,da,uo,Jr,f,null,-0,0)}}break}while(!0);qi(t)}function h_(t,r,a,l,h,f,b,A,O,q,J,te,$,X){if(t.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mi},r_(r,f,te);var _e=(f&62914560)===f?Gu-Zt():(f&4194048)===f?l_-Zt():0;if(_e=$w(te,_e),_e!==null){Er=f,t.cancelPendingCommit=_e(b_.bind(null,t,r,f,a,l,h,b,A,O,J,te,null,$,X)),ns(t,f,b,!q);return}}b_(t,r,f,a,l,h,b,A,O)}function lw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!Vn(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ns(t,r,a,l){r&=~Jf,r&=~da,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var f=31-Et(h),b=1<<f;l[f]=-1,h&=~b}a!==0&&Bs(t,a,r)}function Fu(){return(rt&6)===0?(Hl(0),!1):!0}function ip(){if(Ge!==null){if(lt===0)var t=Ge.return;else t=Ge,ur=na=null,_f(t),no=null,wl=0,t=Ge;for(;t!==null;)Hv(t.alternate,t),t=t.return;Ge=null}}function fo(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Cw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Er=0,ip(),pt=t,Ge=a=lr(t.current,null),qe=r,lt=0,Un=null,Jr=!1,co=be(t,r),Wf=!1,uo=Bn=Jf=da=Zr=Rt=0,In=zl=null,Zf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Et(l),f=1<<h;r|=t[h],l&=~f}return br=r,hu(),a}function f_(t,r){je=null,Q.H=Ml,r===to||r===bu?(r=Iy(),lt=3):r===of?(r=Iy(),lt=4):lt=r===Vf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Un=r,Ge===null&&(Rt=1,Pu(t,Zn(r,t.current)))}function p_(){var t=kn.current;return t===null?!0:(qe&4194048)===qe?ii===null:(qe&62914560)===qe||(qe&536870912)!==0?t===ii:!1}function m_(){var t=Q.H;return Q.H=Ml,t===null?Ml:t}function g_(){var t=Q.A;return Q.A=aw,t}function $u(){Rt=4,Jr||(qe&4194048)!==qe&&kn.current!==null||(co=!0),(Zr&134217727)===0&&(da&134217727)===0||pt===null||ns(pt,qe,Bn,!1)}function rp(t,r,a){var l=rt;rt|=2;var h=m_(),f=g_();(pt!==t||qe!==r)&&(qu=null,fo(t,r)),r=!1;var b=Rt;e:do try{if(lt!==0&&Ge!==null){var A=Ge,O=Un;switch(lt){case 8:ip(),b=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(r=!0);var q=lt;if(lt=0,Un=null,po(t,A,O,q),a&&co){b=0;break e}break;default:q=lt,lt=0,Un=null,po(t,A,O,q)}}cw(),b=Rt;break}catch(J){f_(t,J)}while(!0);return r&&t.shellSuspendCounter++,ur=na=null,rt=l,Q.H=h,Q.A=f,Ge===null&&(pt=null,qe=0,hu()),b}function cw(){for(;Ge!==null;)y_(Ge)}function uw(t,r){var a=rt;rt|=2;var l=m_(),h=g_();pt!==t||qe!==r?(qu=null,Hu=Zt()+500,fo(t,r)):co=be(t,r);e:do try{if(lt!==0&&Ge!==null){r=Ge;var f=Un;t:switch(lt){case 1:lt=0,Un=null,po(t,r,f,1);break;case 2:case 9:if(Ry(f)){lt=0,Un=null,v_(r);break}r=function(){lt!==2&&lt!==9||pt!==t||(lt=7),qi(t)},f.then(r,r);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:Ry(f)?(lt=0,Un=null,v_(r)):(lt=0,Un=null,po(t,r,f,7));break;case 5:var b=null;switch(Ge.tag){case 26:b=Ge.memoizedState;case 5:case 27:var A=Ge;if(b?ib(b):A.stateNode.complete){lt=0,Un=null;var O=A.sibling;if(O!==null)Ge=O;else{var q=A.return;q!==null?(Ge=q,Yu(q)):Ge=null}break t}}lt=0,Un=null,po(t,r,f,5);break;case 6:lt=0,Un=null,po(t,r,f,6);break;case 8:ip(),Rt=6;break e;default:throw Error(s(462))}}dw();break}catch(J){f_(t,J)}while(!0);return ur=na=null,Q.H=l,Q.A=h,rt=a,Ge!==null?0:(pt=null,qe=0,hu(),Rt)}function dw(){for(;Ge!==null&&!Jo();)y_(Ge)}function y_(t){var r=zv(t.alternate,t,br);t.memoizedProps=t.pendingProps,r===null?Yu(t):Ge=r}function v_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Vv(a,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=Vv(a,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:_f(r);default:Hv(a,r),r=Ge=gy(r,br),r=zv(a,r,br)}t.memoizedProps=t.pendingProps,r===null?Yu(t):Ge=r}function po(t,r,a,l){ur=na=null,_f(r),no=null,wl=0;var h=r.return;try{if(Z1(t,h,r,a,qe)){Rt=1,Pu(t,Zn(a,t.current)),Ge=null;return}}catch(f){if(h!==null)throw Ge=h,f;Rt=1,Pu(t,Zn(a,t.current)),Ge=null;return}r.flags&32768?(Qe||l===1?t=!0:co||(qe&536870912)!==0?t=!1:(Jr=t=!0,(l===2||l===9||l===3||l===6)&&(l=kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),__(r,t)):Yu(r)}function Yu(t){var r=t;do{if((r.flags&32768)!==0){__(r,Jr);return}t=r.return;var a=nw(r.alternate,r,br);if(a!==null){Ge=a;return}if(r=r.sibling,r!==null){Ge=r;return}Ge=r=t}while(r!==null);Rt===0&&(Rt=5)}function __(t,r){do{var a=iw(t.alternate,t);if(a!==null){a.flags&=32767,Ge=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ge=t;return}Ge=t=a}while(t!==null);Rt=6,Ge=null}function b_(t,r,a,l,h,f,b,A,O){t.cancelPendingCommit=null;do Xu();while(Ht!==0);if((rt&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=Fh,Lh(t,a,f,b,A,O),t===pt&&(Ge=pt=null,qe=0),ho=r,ts=t,Er=a,ep=f,tp=h,c_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,mw(Ri,function(){return w_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=he.p,he.p=2,b=rt,rt|=4;try{rw(t,r,a)}finally{rt=b,he.p=h,Q.T=l}}Ht=1,E_(),T_(),S_()}}function E_(){if(Ht===1){Ht=0;var t=ts,r=ho,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=he.p;he.p=2;var h=rt;rt|=4;try{t_(r,t);var f=gp,b=oy(t.containerInfo),A=f.focusedElem,O=f.selectionRange;if(b!==A&&A&&A.ownerDocument&&ay(A.ownerDocument.documentElement,A)){if(O!==null&&Bh(A)){var q=O.start,J=O.end;if(J===void 0&&(J=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(J,A.value.length);else{var te=A.ownerDocument||document,$=te&&te.defaultView||window;if($.getSelection){var X=$.getSelection(),_e=A.textContent.length,De=Math.min(O.start,_e),ft=O.end===void 0?De:Math.min(O.end,_e);!X.extend&&De>ft&&(b=ft,ft=De,De=b);var z=sy(A,De),U=sy(A,ft);if(z&&U&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var H=te.createRange();H.setStart(z.node,z.offset),X.removeAllRanges(),De>ft?(X.addRange(H),X.extend(U.node,U.offset)):(H.setEnd(U.node,U.offset),X.addRange(H))}}}}for(te=[],X=A;X=X.parentNode;)X.nodeType===1&&te.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<te.length;A++){var ee=te[A];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}ad=!!mp,gp=mp=null}finally{rt=h,he.p=l,Q.T=a}}t.current=r,Ht=2}}function T_(){if(Ht===2){Ht=0;var t=ts,r=ho,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=he.p;he.p=2;var h=rt;rt|=4;try{Qv(t,r.alternate,r)}finally{rt=h,he.p=l,Q.T=a}}Ht=3}}function S_(){if(Ht===4||Ht===3){Ht=0,Ca();var t=ts,r=ho,a=Er,l=c_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,ho=ts=null,A_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(es=null),rr(a),r=r.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(On,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,h=he.p,he.p=2,Q.T=null;try{for(var f=t.onRecoverableError,b=0;b<l.length;b++){var A=l[b];f(A.value,{componentStack:A.stack})}}finally{Q.T=r,he.p=h}}(Er&3)!==0&&Xu(),qi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===np?Gl++:(Gl=0,np=t):Gl=0,Hl(0)}}function A_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Sl(r)))}function Xu(){return E_(),T_(),S_(),w_()}function w_(){if(Ht!==5)return!1;var t=ts,r=ep;ep=0;var a=rr(Er),l=Q.T,h=he.p;try{he.p=32>a?32:a,Q.T=null,a=tp,tp=null;var f=ts,b=Er;if(Ht=0,ho=ts=null,Er=0,(rt&6)!==0)throw Error(s(331));var A=rt;if(rt|=4,a_(f.current),i_(f,f.current,b,a),rt=A,Hl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(On,f)}catch{}return!0}finally{he.p=h,Q.T=l,A_(t,r)}}function x_(t,r,a){r=Zn(a,r),r=Pf(t.stateNode,r,2),t=Xr(t,r,2),t!==null&&(Us(t,2),qi(t))}function ct(t,r,a){if(t.tag===3)x_(t,t,a);else for(;r!==null;){if(r.tag===3){x_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(es===null||!es.has(l))){t=Zn(a,t),a=Rv(2),l=Xr(r,a,2),l!==null&&(Cv(a,l,r,t),Us(l,2),qi(l));break}}r=r.return}}function sp(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ow;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Wf=!0,h.add(a),t=hw.bind(null,t,r,a),r.then(t,t))}function hw(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,pt===t&&(qe&a)===a&&(Rt===4||Rt===3&&(qe&62914560)===qe&&300>Zt()-Gu?(rt&2)===0&&fo(t,0):Jf|=a,uo===qe&&(uo=0)),qi(t)}function R_(t,r){r===0&&(r=ir()),t=Zs(t,r),t!==null&&(Us(t,r),qi(t))}function fw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),R_(t,a)}function pw(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),R_(t,a)}function mw(t,r){return wt(t,r)}var Ku=null,mo=null,ap=!1,Qu=!1,op=!1,is=0;function qi(t){t!==mo&&t.next===null&&(mo===null?Ku=mo=t:mo=mo.next=t),Qu=!0,ap||(ap=!0,yw())}function Hl(t,r){if(!op&&Qu){op=!0;do for(var a=!1,l=Ku;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var b=l.suspendedLanes,A=l.pingedLanes;f=(1<<31-Et(42|t)+1)-1,f&=h&~(b&~A),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,N_(l,f))}else f=qe,f=me(l,l===pt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||be(l,f)||(a=!0,N_(l,f));l=l.next}while(a);op=!1}}function gw(){C_()}function C_(){Qu=ap=!1;var t=0;is!==0&&Rw()&&(t=is);for(var r=Zt(),a=null,l=Ku;l!==null;){var h=l.next,f=I_(l,r);f===0?(l.next=null,a===null?Ku=h:a.next=h,h===null&&(mo=a)):(a=l,(t!==0||(f&3)!==0)&&(Qu=!0)),l=h}Ht!==0&&Ht!==5||Hl(t),is!==0&&(is=0)}function I_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var b=31-Et(f),A=1<<b,O=h[b];O===-1?((A&a)===0||(A&l)!==0)&&(h[b]=et(A,r)):O<=r&&(t.expiredLanes|=A),f&=~A}if(r=pt,a=qe,a=me(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(lt===2||lt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&hi(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||be(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&hi(l),rr(a)){case 2:case 8:a=js;break;case 32:a=Ri;break;case 268435456:a=Ia;break;default:a=Ri}return l=D_.bind(null,t),a=wt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&hi(l),t.callbackPriority=2,t.callbackNode=null,2}function D_(t,r){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Xu()&&t.callbackNode!==a)return null;var l=qe;return l=me(t,t===pt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(d_(t,l,r),I_(t,Zt()),t.callbackNode!=null&&t.callbackNode===a?D_.bind(null,t):null)}function N_(t,r){if(Xu())return null;d_(t,r,!0)}function yw(){Iw(function(){(rt&6)!==0?wt(ks,gw):C_()})}function lp(){if(is===0){var t=Za;t===0&&(t=Yn,Yn<<=1,(Yn&261888)===0&&(Yn=256)),is=t}return is}function O_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ja(""+t)}function M_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function vw(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var f=O_((h[$t]||null).action),b=l.submitter;b&&(r=(r=b[$t]||null)?O_(r.formAction):b.getAttribute("formAction"),r!==null&&(f=r,b=null));var A=new ki("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(is!==0){var O=b?M_(h,b):new FormData(h);Cf(a,{pending:!0,data:O,method:h.method,action:f},null,O)}}else typeof f=="function"&&(A.preventDefault(),O=b?M_(h,b):new FormData(h),Cf(a,{pending:!0,data:O,method:h.method,action:f},f,O))},currentTarget:h}]})}}for(var cp=0;cp<qh.length;cp++){var up=qh[cp],_w=up.toLowerCase(),bw=up[0].toUpperCase()+up.slice(1);bi(_w,"on"+bw)}bi(uy,"onAnimationEnd"),bi(dy,"onAnimationIteration"),bi(hy,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(L1,"onTransitionRun"),bi(k1,"onTransitionStart"),bi(j1,"onTransitionCancel"),bi(fy,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ew=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function P_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var b=l.length-1;0<=b;b--){var A=l[b],O=A.instance,q=A.currentTarget;if(A=A.listener,O!==f&&h.isPropagationStopped())break e;f=A,h.currentTarget=q;try{f(h)}catch(J){du(J)}h.currentTarget=null,f=O}else for(b=0;b<l.length;b++){if(A=l[b],O=A.instance,q=A.currentTarget,A=A.listener,O!==f&&h.isPropagationStopped())break e;f=A,h.currentTarget=q;try{f(h)}catch(J){du(J)}h.currentTarget=null,f=O}}}}function He(t,r){var a=r[Ma];a===void 0&&(a=r[Ma]=new Set);var l=t+"__bubble";a.has(l)||(V_(r,t,2,!1),a.add(l))}function dp(t,r,a){var l=0;r&&(l|=4),V_(a,t,l,r)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function hp(t){if(!t[Wu]){t[Wu]=!0,nl.forEach(function(a){a!=="selectionchange"&&(Ew.has(a)||dp(a,!1,t),dp(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Wu]||(r[Wu]=!0,dp("selectionchange",!1,r))}}function V_(t,r,a,l){switch(ub(r)){case 2:var h=Kw;break;case 8:h=Qw;break;default:h=Rp}a=h.bind(null,r,a,t),h=void 0,!Fs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function fp(t,r,a,l,h){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var A=l.stateNode.containerInfo;if(A===h)break;if(b===4)for(b=l.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;A!==null;){if(b=Di(A),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){l=f=b;continue e}A=A.parentNode}}l=l.return}jr(function(){var q=f,J=Kn(a),te=[];e:{var $=py.get(t);if($!==void 0){var X=ki,_e=t;switch(t){case"keypress":if(Ys(a)===0)break e;case"keydown":case"keyup":X=lu;break;case"focusin":_e="focus",X=Ks;break;case"focusout":_e="blur",X=Ks;break;case"beforeblur":case"afterblur":X=Ks;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case uy:case dy:case hy:X=tu;break;case fy:X=x;break;case"scroll":case"scrollend":X=pl;break;case"wheel":X=Y;break;case"copy":case"cut":case"paste":X=nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=or;break;case"toggle":case"beforetoggle":X=ke}var De=(r&4)!==0,ft=!De&&(t==="scroll"||t==="scrollend"),z=De?$!==null?$+"Capture":null:$;De=[];for(var U=q,H;U!==null;){var ee=U;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||z===null||(ee=gi(U,z),ee!=null&&De.push(Fl(U,ee,H))),ft)break;U=U.return}0<De.length&&($=new X($,_e,null,a,J),te.push({event:$,listeners:De}))}}if((r&7)===0){e:{if($=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",$&&a!==dl&&(_e=a.relatedTarget||a.fromElement)&&(Di(_e)||_e[Ci]))break e;if((X||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,X?(_e=a.relatedTarget||a.toElement,X=q,_e=_e?Di(_e):null,_e!==null&&(ft=c(_e),De=_e.tag,_e!==ft||De!==5&&De!==27&&De!==6)&&(_e=null)):(X=null,_e=q),X!==_e)){if(De=ml,ee="onMouseLeave",z="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(De=or,ee="onPointerLeave",z="onPointerEnter",U="pointer"),ft=X==null?$:Mn(X),H=_e==null?$:Mn(_e),$=new De(ee,U+"leave",X,a,J),$.target=ft,$.relatedTarget=H,ee=null,Di(J)===q&&(De=new De(z,U+"enter",_e,a,J),De.target=H,De.relatedTarget=ft,ee=De),ft=ee,X&&_e)t:{for(De=Tw,z=X,U=_e,H=0,ee=z;ee;ee=De(ee))H++;ee=0;for(var Re=U;Re;Re=De(Re))ee++;for(;0<H-ee;)z=De(z),H--;for(;0<ee-H;)U=De(U),ee--;for(;H--;){if(z===U||U!==null&&z===U.alternate){De=z;break t}z=De(z),U=De(U)}De=null}else De=null;X!==null&&L_(te,$,X,De,!1),_e!==null&&ft!==null&&L_(te,ft,_e,De,!0)}}e:{if($=q?Mn(q):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var tt=Zg;else if(Wg($))if(ey)tt=M1;else{tt=N1;var Te=D1}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?q&&ka(q.elementType)&&(tt=Zg):tt=O1;if(tt&&(tt=tt(t,q))){Jg(te,tt,a,J);break e}Te&&Te(t,$,q),t==="focusout"&&q&&$.type==="number"&&q.memoizedProps.value!=null&&ll($,"number",$.value)}switch(Te=q?Mn(q):window,t){case"focusin":(Wg(Te)||Te.contentEditable==="true")&&(Fa=Te,zh=q,bl=null);break;case"focusout":bl=zh=Fa=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,ly(te,a,J);break;case"selectionchange":if(V1)break;case"keydown":case"keyup":ly(te,a,J)}var ze;if(it)e:{switch(t){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else qa?Qs(t,a)&&(Fe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Fe="onCompositionStart");Fe&&(Bi&&a.locale!=="ko"&&(qa||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&qa&&(ze=fl()):(Li=J,hl="value"in Li?Li.value:Li.textContent,qa=!0)),Te=Ju(q,Fe),0<Te.length&&(Fe=new Ui(Fe,t,null,a,J),te.push({event:Fe,listeners:Te}),ze?Fe.data=ze:(ze=Ha(a),ze!==null&&(Fe.data=ze)))),(ze=Wn?x1(t,a):R1(t,a))&&(Fe=Ju(q,"onBeforeInput"),0<Fe.length&&(Te=new Ui("onBeforeInput","beforeinput",null,a,J),te.push({event:Te,listeners:Fe}),Te.data=ze)),vw(te,t,q,a,J)}P_(te,r)})}function Fl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Ju(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=gi(t,a),h!=null&&l.unshift(Fl(t,h,f)),h=gi(t,r),h!=null&&l.push(Fl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Tw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function L_(t,r,a,l,h){for(var f=r._reactName,b=[];a!==null&&a!==l;){var A=a,O=A.alternate,q=A.stateNode;if(A=A.tag,O!==null&&O===l)break;A!==5&&A!==26&&A!==27||q===null||(O=q,h?(q=gi(a,f),q!=null&&b.unshift(Fl(a,q,O))):h||(q=gi(a,f),q!=null&&b.push(Fl(a,q,O)))),a=a.return}b.length!==0&&t.push({event:r,listeners:b})}var Sw=/\r\n?/g,Aw=/\u0000|\uFFFD/g;function k_(t){return(typeof t=="string"?t:""+t).replace(Sw,`
`).replace(Aw,"")}function j_(t,r){return r=k_(r),k_(t)===r}function ht(t,r,a,l,h,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&wn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,a,l);break;case"style":ul(t,l,f);break;case"data":if(r!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ja(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&ht(t,r,"name",h.name,h,null),ht(t,r,"formEncType",h.formEncType,h,null),ht(t,r,"formMethod",h.formMethod,h,null),ht(t,r,"formTarget",h.formTarget,h,null)):(ht(t,r,"encType",h.encType,h,null),ht(t,r,"method",h.method,h,null),ht(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ja(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=mi);break;case"onScroll":l!=null&&He("scroll",t);break;case"onScrollEnd":l!=null&&He("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ja(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":He("beforetoggle",t),He("toggle",t),Va(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Va(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Jc.get(a)||a,Va(t,a,l))}}function pp(t,r,a,l,h,f){switch(a){case"style":ul(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&He("scroll",t);break;case"onScrollEnd":l!=null&&He("scrollend",t);break;case"onClick":l!=null&&(t.onclick=mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!il.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=t[$t]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Va(t,a,l)}}}function sn(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",t),He("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var b=a[f];if(b!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ht(t,r,f,b,a,null)}}h&&ht(t,r,"srcSet",a.srcSet,a,null),l&&ht(t,r,"src",a.src,a,null);return;case"input":He("invalid",t);var A=f=b=h=null,O=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":b=J;break;case"checked":O=J;break;case"defaultChecked":q=J;break;case"value":f=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:ht(t,r,l,J,a,null)}}Kc(t,f,A,O,q,b,h,!1);return;case"select":He("invalid",t),l=b=f=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":f=A;break;case"defaultValue":b=A;break;case"multiple":l=A;default:ht(t,r,h,A,a,null)}r=f,a=b,t.multiple=!!l,r!=null?Pr(t,!!l,r,!1):a!=null&&Pr(t,!!l,a,!0);return;case"textarea":He("invalid",t),f=h=l=null;for(b in a)if(a.hasOwnProperty(b)&&(A=a[b],A!=null))switch(b){case"value":l=A;break;case"defaultValue":h=A;break;case"children":f=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:ht(t,r,b,A,a,null)}Vr(t,l,h,f);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ht(t,r,O,l,a,null)}return;case"dialog":He("beforetoggle",t),He("toggle",t),He("cancel",t),He("close",t);break;case"iframe":case"object":He("load",t);break;case"video":case"audio":for(l=0;l<ql.length;l++)He(ql[l],t);break;case"image":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"embed":case"source":case"link":He("error",t),He("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:ht(t,r,q,l,a,null)}return;default:if(ka(r)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&pp(t,r,J,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&ht(t,r,A,l,a,null))}function ww(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,b=null,A=null,O=null,q=null,J=null;for(X in a){var te=a[X];if(a.hasOwnProperty(X)&&te!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=te;default:l.hasOwnProperty(X)||ht(t,r,X,null,l,te)}}for(var $ in l){var X=l[$];if(te=a[$],l.hasOwnProperty($)&&(X!=null||te!=null))switch($){case"type":f=X;break;case"name":h=X;break;case"checked":q=X;break;case"defaultChecked":J=X;break;case"value":b=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==te&&ht(t,r,$,X,l,te)}}La(t,b,A,O,q,J,f,h);return;case"select":X=b=A=$=null;for(f in a)if(O=a[f],a.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":X=O;default:l.hasOwnProperty(f)||ht(t,r,f,null,l,O)}for(h in l)if(f=l[h],O=a[h],l.hasOwnProperty(h)&&(f!=null||O!=null))switch(h){case"value":$=f;break;case"defaultValue":A=f;break;case"multiple":b=f;default:f!==O&&ht(t,r,h,f,l,O)}r=A,a=b,l=X,$!=null?Pr(t,!!a,$,!1):!!l!=!!a&&(r!=null?Pr(t,!!a,r,!0):Pr(t,!!a,a?[]:"",!1));return;case"textarea":X=$=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:ht(t,r,A,null,l,h)}for(b in l)if(h=l[b],f=a[b],l.hasOwnProperty(b)&&(h!=null||f!=null))switch(b){case"value":$=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&ht(t,r,b,h,l,f)}Qc(t,$,X);return;case"option":for(var _e in a)if($=a[_e],a.hasOwnProperty(_e)&&$!=null&&!l.hasOwnProperty(_e))switch(_e){case"selected":t.selected=!1;break;default:ht(t,r,_e,null,l,$)}for(O in l)if($=l[O],X=a[O],l.hasOwnProperty(O)&&$!==X&&($!=null||X!=null))switch(O){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:ht(t,r,O,$,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in a)$=a[De],a.hasOwnProperty(De)&&$!=null&&!l.hasOwnProperty(De)&&ht(t,r,De,null,l,$);for(q in l)if($=l[q],X=a[q],l.hasOwnProperty(q)&&$!==X&&($!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:ht(t,r,q,$,l,X)}return;default:if(ka(r)){for(var ft in a)$=a[ft],a.hasOwnProperty(ft)&&$!==void 0&&!l.hasOwnProperty(ft)&&pp(t,r,ft,void 0,l,$);for(J in l)$=l[J],X=a[J],!l.hasOwnProperty(J)||$===X||$===void 0&&X===void 0||pp(t,r,J,$,l,X);return}}for(var z in a)$=a[z],a.hasOwnProperty(z)&&$!=null&&!l.hasOwnProperty(z)&&ht(t,r,z,null,l,$);for(te in l)$=l[te],X=a[te],!l.hasOwnProperty(te)||$===X||$==null&&X==null||ht(t,r,te,$,l,X)}function U_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],f=h.transferSize,b=h.initiatorType,A=h.duration;if(f&&A&&U_(b)){for(b=0,A=h.responseEnd,l+=1;l<a.length;l++){var O=a[l],q=O.startTime;if(q>A)break;var J=O.transferSize,te=O.initiatorType;J&&U_(te)&&(O=O.responseEnd,b+=J*(O<A?1:(A-q)/(O-q)))}if(--l,r+=8*(f+b)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var mp=null,gp=null;function Zu(t){return t.nodeType===9?t:t.ownerDocument}function B_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function yp(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var vp=null;function Rw(){var t=window.event;return t&&t.type==="popstate"?t===vp?!1:(vp=t,!0):(vp=null,!1)}var G_=typeof setTimeout=="function"?setTimeout:void 0,Cw=typeof clearTimeout=="function"?clearTimeout:void 0,H_=typeof Promise=="function"?Promise:void 0,Iw=typeof queueMicrotask=="function"?queueMicrotask:typeof H_<"u"?function(t){return H_.resolve(null).then(t).catch(Dw)}:G_;function Dw(t){setTimeout(function(){throw t})}function rs(t){return t==="head"}function q_(t,r){var a=r,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),_o(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")$l(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,$l(a);for(var f=a.firstChild;f;){var b=f.nextSibling,A=f.nodeName;f[Ii]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=b}}else a==="body"&&$l(t.ownerDocument.body);a=h}while(a);_o(r)}function F_(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function _p(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_p(a),Pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Nw(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ii])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ri(t.nextSibling),t===null)break}return null}function Ow(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ri(t.nextSibling),t===null))return null;return t}function $_(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ri(t.nextSibling),t===null))return null;return t}function bp(t){return t.data==="$?"||t.data==="$~"}function Ep(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Mw(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function ri(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Tp=null;function Y_(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return ri(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function X_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function K_(t,r,a){switch(r=Zu(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function $l(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Pa(t)}var si=new Map,Q_=new Set;function ed(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Tr=he.d;he.d={f:Pw,r:Vw,D:Lw,C:kw,L:jw,m:Uw,X:zw,S:Bw,M:Gw};function Pw(){var t=Tr.f(),r=Fu();return t||r}function Vw(t){var r=Xn(t);r!==null&&r.tag===5&&r.type==="form"?fv(r):Tr.r(t)}var go=typeof document>"u"?null:document;function W_(t,r,a){var l=go;if(l&&typeof r=="string"&&r){var h=An(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Q_.has(h)||(Q_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),sn(r,"link",t),Pt(r),l.head.appendChild(r)))}}function Lw(t){Tr.D(t),W_("dns-prefetch",t,null)}function kw(t,r){Tr.C(t,r),W_("preconnect",t,r)}function jw(t,r,a){Tr.L(t,r,a);var l=go;if(l&&t&&r){var h='link[rel="preload"][as="'+An(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+An(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+An(a.imageSizes)+'"]')):h+='[href="'+An(t)+'"]';var f=h;switch(r){case"style":f=yo(t);break;case"script":f=vo(t)}si.has(f)||(t=y({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),si.set(f,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Yl(f))||r==="script"&&l.querySelector(Xl(f))||(r=l.createElement("link"),sn(r,"link",t),Pt(r),l.head.appendChild(r)))}}function Uw(t,r){Tr.m(t,r);var a=go;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+An(l)+'"][href="'+An(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=vo(t)}if(!si.has(f)&&(t=y({rel:"modulepreload",href:t},r),si.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xl(f)))return}l=a.createElement("link"),sn(l,"link",t),Pt(l),a.head.appendChild(l)}}}function Bw(t,r,a){Tr.S(t,r,a);var l=go;if(l&&t){var h=Ni(l).hoistableStyles,f=yo(t);r=r||"default";var b=h.get(f);if(!b){var A={loading:0,preload:null};if(b=l.querySelector(Yl(f)))A.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":r},a),(a=si.get(f))&&Sp(t,a);var O=b=l.createElement("link");Pt(O),sn(O,"link",t),O._p=new Promise(function(q,J){O.onload=q,O.onerror=J}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,td(b,r,l)}b={type:"stylesheet",instance:b,count:1,state:A},h.set(f,b)}}}function zw(t,r){Tr.X(t,r);var a=go;if(a&&t){var l=Ni(a).hoistableScripts,h=vo(t),f=l.get(h);f||(f=a.querySelector(Xl(h)),f||(t=y({src:t,async:!0},r),(r=si.get(h))&&Ap(t,r),f=a.createElement("script"),Pt(f),sn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Gw(t,r){Tr.M(t,r);var a=go;if(a&&t){var l=Ni(a).hoistableScripts,h=vo(t),f=l.get(h);f||(f=a.querySelector(Xl(h)),f||(t=y({src:t,async:!0,type:"module"},r),(r=si.get(h))&&Ap(t,r),f=a.createElement("script"),Pt(f),sn(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function J_(t,r,a,l){var h=(h=Oe.current)?ed(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=yo(a.href),a=Ni(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=yo(a.href);var f=Ni(h).hoistableStyles,b=f.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,b),(f=h.querySelector(Yl(t)))&&!f._p&&(b.instance=f,b.state.loading=5),si.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},si.set(t,a),f||Hw(h,t,a,b.state))),r&&l===null)throw Error(s(528,""));return b}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=vo(a),a=Ni(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function yo(t){return'href="'+An(t)+'"'}function Yl(t){return'link[rel="stylesheet"]['+t+"]"}function Z_(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function Hw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),sn(r,"link",a),Pt(r),t.head.appendChild(r))}function vo(t){return'[src="'+An(t)+'"]'}function Xl(t){return"script[async]"+t}function eb(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+An(a.href)+'"]');if(l)return r.instance=l,Pt(l),l;var h=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Pt(l),sn(l,"style",h),td(l,a.precedence,t),r.instance=l;case"stylesheet":h=yo(a.href);var f=t.querySelector(Yl(h));if(f)return r.state.loading|=4,r.instance=f,Pt(f),f;l=Z_(a),(h=si.get(h))&&Sp(l,h),f=(t.ownerDocument||t).createElement("link"),Pt(f);var b=f;return b._p=new Promise(function(A,O){b.onload=A,b.onerror=O}),sn(f,"link",l),r.state.loading|=4,td(f,a.precedence,t),r.instance=f;case"script":return f=vo(a.src),(h=t.querySelector(Xl(f)))?(r.instance=h,Pt(h),h):(l=a,(h=si.get(f))&&(l=y({},a),Ap(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Pt(h),sn(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,td(l,a.precedence,t));return r.instance}function td(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,b=0;b<l.length;b++){var A=l[b];if(A.dataset.precedence===r)f=A;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Sp(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Ap(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var nd=null;function tb(t,r,a){if(nd===null){var l=new Map,h=nd=new Map;h.set(a,l)}else h=nd,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ii]||f[Mt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var b=f.getAttribute(r)||"";b=t+b;var A=l.get(b);A?A.push(f):l.set(b,[f])}}return l}function nb(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function qw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ib(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Fw(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=yo(l.href),f=r.querySelector(Yl(h));if(f){r=f._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=id.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=f,Pt(f);return}f=r.ownerDocument||r,l=Z_(l),(h=si.get(h))&&Sp(l,h),f=f.createElement("link"),Pt(f);var b=f;b._p=new Promise(function(A,O){b.onload=A,b.onerror=O}),sn(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=id.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var wp=0;function $w(t,r){return t.stylesheets&&t.count===0&&sd(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&sd(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+r);0<t.imgBytes&&wp===0&&(wp=62500*xw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&sd(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>wp?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function id(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rd=null;function sd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rd=new Map,r.forEach(Yw,t),rd=null,id.call(t))}function Yw(t,r){if(!(r.state.loading&4)){var a=rd.get(t);if(a)var l=a.get(null);else{a=new Map,rd.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var b=h[f];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}h=r.instance,b=h.getAttribute("data-precedence"),f=a.get(b)||l,f===l&&a.set(null,h),a.set(b,h),this.count++,l=id.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Kl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function Xw(t,r,a,l,h,f,b,A,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sn(0),this.hiddenUpdates=Sn(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function rb(t,r,a,l,h,f,b,A,O,q,J,te){return t=new Xw(t,r,a,b,O,q,J,te,A),r=1,f===!0&&(r|=24),f=Ln(3,null,null,r),t.current=f,f.stateNode=t,r=rf(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},lf(f),t}function sb(t){return t?(t=Xa,t):Xa}function ab(t,r,a,l,h,f){h=sb(h),l.context===null?l.context=h:l.pendingContext=h,l=Yr(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Xr(t,l,r),a!==null&&(Dn(a,t,r),Rl(a,t,r))}function ob(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function xp(t,r){ob(t,r),(t=t.alternate)&&ob(t,r)}function lb(t){if(t.tag===13||t.tag===31){var r=Zs(t,67108864);r!==null&&Dn(r,t,67108864),xp(t,67108864)}}function cb(t){if(t.tag===13||t.tag===31){var r=zn();r=zs(r);var a=Zs(t,r);a!==null&&Dn(a,t,r),xp(t,r)}}var ad=!0;function Kw(t,r,a,l){var h=Q.T;Q.T=null;var f=he.p;try{he.p=2,Rp(t,r,a,l)}finally{he.p=f,Q.T=h}}function Qw(t,r,a,l){var h=Q.T;Q.T=null;var f=he.p;try{he.p=8,Rp(t,r,a,l)}finally{he.p=f,Q.T=h}}function Rp(t,r,a,l){if(ad){var h=Cp(l);if(h===null)fp(t,r,l,od,a),db(t,l);else if(Jw(h,t,r,a,l))l.stopPropagation();else if(db(t,l),r&4&&-1<Ww.indexOf(t)){for(;h!==null;){var f=Xn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var b=ye(f.pendingLanes);if(b!==0){var A=f;for(A.pendingLanes|=2,A.entangledLanes|=2;b;){var O=1<<31-Et(b);A.entanglements[1]|=O,b&=~O}qi(f),(rt&6)===0&&(Hu=Zt()+500,Hl(0))}}break;case 31:case 13:A=Zs(f,2),A!==null&&Dn(A,f,2),Fu(),xp(f,2)}if(f=Cp(l),f===null&&fp(t,r,l,od,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else fp(t,r,l,null,a)}}function Cp(t){return t=Kn(t),Ip(t)}var od=null;function Ip(t){if(od=null,t=Di(t),t!==null){var r=c(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=u(r),t!==null)return t;t=null}else if(a===31){if(t=p(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return od=t,null}function ub(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nr()){case ks:return 2;case js:return 8;case Ri:case Zo:return 32;case Ia:return 268435456;default:return 32}default:return 32}}var Dp=!1,ss=null,as=null,os=null,Ql=new Map,Wl=new Map,ls=[],Ww="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function db(t,r){switch(t){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":Ql.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(r.pointerId)}}function Jl(t,r,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},r!==null&&(r=Xn(r),r!==null&&lb(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Jw(t,r,a,l,h){switch(r){case"focusin":return ss=Jl(ss,t,r,a,l,h),!0;case"dragenter":return as=Jl(as,t,r,a,l,h),!0;case"mouseover":return os=Jl(os,t,r,a,l,h),!0;case"pointerover":var f=h.pointerId;return Ql.set(f,Jl(Ql.get(f)||null,t,r,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Wl.set(f,Jl(Wl.get(f)||null,t,r,a,l,h)),!0}return!1}function hb(t){var r=Di(t.target);if(r!==null){var a=c(r);if(a!==null){if(r=a.tag,r===13){if(r=u(a),r!==null){t.blockedOn=r,fi(t.priority,function(){cb(a)});return}}else if(r===31){if(r=p(a),r!==null){t.blockedOn=r,fi(t.priority,function(){cb(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ld(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Cp(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);dl=l,a.target.dispatchEvent(l),dl=null}else return r=Xn(a),r!==null&&lb(r),t.blockedOn=a,!1;r.shift()}return!0}function fb(t,r,a){ld(t)&&a.delete(r)}function Zw(){Dp=!1,ss!==null&&ld(ss)&&(ss=null),as!==null&&ld(as)&&(as=null),os!==null&&ld(os)&&(os=null),Ql.forEach(fb),Wl.forEach(fb)}function cd(t,r){t.blockedOn===r&&(t.blockedOn=null,Dp||(Dp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Zw)))}var ud=null;function pb(t){ud!==t&&(ud=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ud===t&&(ud=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Ip(l||a)===null)continue;break}var f=Xn(a);f!==null&&(t.splice(r,3),r-=3,Cf(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function _o(t){function r(O){return cd(O,t)}ss!==null&&cd(ss,t),as!==null&&cd(as,t),os!==null&&cd(os,t),Ql.forEach(r),Wl.forEach(r);for(var a=0;a<ls.length;a++){var l=ls[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ls.length&&(a=ls[0],a.blockedOn===null);)hb(a),a.blockedOn===null&&ls.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],b=h[$t]||null;if(typeof f=="function")b||pb(a);else if(b){var A=null;if(f&&f.hasAttribute("formAction")){if(h=f,b=f[$t]||null)A=b.formAction;else if(Ip(h)!==null)continue}else A=b.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),pb(a)}}}function mb(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function Np(t){this._internalRoot=t}dd.prototype.render=Np.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=zn();ab(a,l,t,r,null,null)},dd.prototype.unmount=Np.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;ab(t.current,2,null,t,null,null),Fu(),r[Ci]=null}};function dd(t){this._internalRoot=t}dd.prototype.unstable_scheduleHydration=function(t){if(t){var r=Fc();t={blockedOn:null,target:t,priority:r};for(var a=0;a<ls.length&&r!==0&&r<ls[a].priority;a++);ls.splice(a,0,t),a===0&&hb(t)}};var gb=e.version;if(gb!=="19.2.0")throw Error(s(527,gb,"19.2.0"));he.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var ex={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{On=hd.inject(ex),Gt=hd}catch{}}return ec.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=Sv,f=Av,b=wv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=rb(t,1,!1,null,null,a,l,null,h,f,b,mb),t[Ci]=r.current,hp(t),new Np(r)},ec.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=Sv,b=Av,A=wv,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),r=rb(t,1,!0,r,a??null,l,h,O,f,b,A,mb),r.context=sb(null),a=r.current,l=zn(),l=zs(l),h=Yr(l),h.callback=null,Xr(a,h,l),a=l,r.current.lanes=a,Us(r,a),qi(r),t[Ci]=r.current,hp(t),new dd(r)},ec.version="19.2.0",ec}var xb;function cx(){if(xb)return Pp.exports;xb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pp.exports=lx(),Pp.exports}var ux=cx(),Hm=qE();const dx=HE(Hm);function En(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var hx=typeof Symbol=="function"&&Symbol.observable||"@@observable",Rb=hx,Cb=()=>Math.random().toString(36).substring(7).split("").join("."),fx={INIT:`@@redux/INIT${Cb()}`,REPLACE:`@@redux/REPLACE${Cb()}`},Ib=fx;function px(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function FE(n,e,i){if(typeof n!="function")throw new Error(En(2));if(typeof e=="function"&&typeof i=="function"||typeof i=="function"&&typeof arguments[3]=="function")throw new Error(En(0));if(typeof e=="function"&&typeof i>"u"&&(i=e,e=void 0),typeof i<"u"){if(typeof i!="function")throw new Error(En(1));return i(FE)(n,e)}let s=n,o=e,c=new Map,u=c,p=0,m=!1;function g(){u===c&&(u=new Map,c.forEach((L,K)=>{u.set(K,L)}))}function _(){if(m)throw new Error(En(3));return o}function y(L){if(typeof L!="function")throw new Error(En(4));if(m)throw new Error(En(5));let K=!0;g();const W=p++;return u.set(W,L),function(){if(K){if(m)throw new Error(En(6));K=!1,g(),u.delete(W),c=null}}}function T(L){if(!px(L))throw new Error(En(7));if(typeof L.type>"u")throw new Error(En(8));if(typeof L.type!="string")throw new Error(En(17));if(m)throw new Error(En(9));try{m=!0,o=s(o,L)}finally{m=!1}return(c=u).forEach(W=>{W()}),L}function w(L){if(typeof L!="function")throw new Error(En(10));s=L,T({type:Ib.REPLACE})}function C(){const L=y;return{subscribe(K){if(typeof K!="object"||K===null)throw new Error(En(11));function W(){const se=K;se.next&&se.next(_())}return W(),{unsubscribe:L(W)}},[Rb](){return this}}}return T({type:Ib.INIT}),{dispatch:T,subscribe:y,getState:_,replaceReducer:w,[Rb]:C}}function Db(n,e){return function(...i){return e(n.apply(this,i))}}function Nb(n,e){if(typeof n=="function")return Db(n,e);if(typeof n!="object"||n===null)throw new Error(En(16));const i={};for(const s in n){const o=n[s];typeof o=="function"&&(i[s]=Db(o,e))}return i}function $E(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,i)=>(...s)=>e(i(...s)))}function mx(...n){return e=>(i,s)=>{const o=e(i,s);let c=()=>{throw new Error(En(15))};const u={getState:o.getState,dispatch:(m,...g)=>c(m,...g)},p=n.map(m=>m(u));return c=$E(...p)(o.dispatch),{...o,dispatch:c}}}var jp={exports:{}},Up={};var Ob;function gx(){if(Ob)return Up;Ob=1;var n=uh();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var i=typeof Object.is=="function"?Object.is:e,s=n.useSyncExternalStore,o=n.useRef,c=n.useEffect,u=n.useMemo,p=n.useDebugValue;return Up.useSyncExternalStoreWithSelector=function(m,g,_,y,T){var w=o(null);if(w.current===null){var C={hasValue:!1,value:null};w.current=C}else C=w.current;w=u(function(){function L(le){if(!K){if(K=!0,W=le,le=y(le),T!==void 0&&C.hasValue){var ce=C.value;if(T(ce,le))return ie=ce}return ie=le}if(ce=ie,i(W,le))return ce;var I=y(le);return T!==void 0&&T(ce,I)?(W=le,ce):(W=le,ie=I)}var K=!1,W,ie,se=_===void 0?null:_;return[function(){return L(g())},se===null?void 0:function(){return L(se())}]},[g,_,y,T]);var k=s(m,w[0],w[1]);return c(function(){C.hasValue=!0,C.value=k},[k]),p(k),k},Up}var Mb;function yx(){return Mb||(Mb=1,jp.exports=gx()),jp.exports}yx();var vx=F.version.startsWith("19"),_x=Symbol.for(vx?"react.transitional.element":"react.element"),bx=Symbol.for("react.portal"),Ex=Symbol.for("react.fragment"),Tx=Symbol.for("react.strict_mode"),Sx=Symbol.for("react.profiler"),Ax=Symbol.for("react.consumer"),wx=Symbol.for("react.context"),YE=Symbol.for("react.forward_ref"),xx=Symbol.for("react.suspense"),Rx=Symbol.for("react.suspense_list"),qm=Symbol.for("react.memo"),Cx=Symbol.for("react.lazy"),Ix=YE,Dx=qm;function Nx(n){if(typeof n=="object"&&n!==null){const{$$typeof:e}=n;switch(e){case _x:switch(n=n.type,n){case Ex:case Sx:case Tx:case xx:case Rx:return n;default:switch(n=n&&n.$$typeof,n){case wx:case YE:case Cx:case qm:return n;case Ax:return n;default:return e}}case bx:return e}}}function Ox(n){return Nx(n)===qm}function Mx(n,e,i,s,{areStatesEqual:o,areOwnPropsEqual:c,areStatePropsEqual:u}){let p=!1,m,g,_,y,T;function w(W,ie){return m=W,g=ie,_=n(m,g),y=e(s,g),T=i(_,y,g),p=!0,T}function C(){return _=n(m,g),e.dependsOnOwnProps&&(y=e(s,g)),T=i(_,y,g),T}function k(){return n.dependsOnOwnProps&&(_=n(m,g)),e.dependsOnOwnProps&&(y=e(s,g)),T=i(_,y,g),T}function L(){const W=n(m,g),ie=!u(W,_);return _=W,ie&&(T=i(_,y,g)),T}function K(W,ie){const se=!c(ie,g),le=!o(W,m,ie,g);return m=W,g=ie,se&&le?C():se?k():le?L():T}return function(ie,se){return p?K(ie,se):w(ie,se)}}function Px(n,{initMapStateToProps:e,initMapDispatchToProps:i,initMergeProps:s,...o}){const c=e(n,o),u=i(n,o),p=s(n,o);return Mx(c,u,p,n,o)}function Vx(n,e){const i={};for(const s in n){const o=n[s];typeof o=="function"&&(i[s]=(...c)=>e(o(...c)))}return i}function cm(n){return function(i){const s=n(i);function o(){return s}return o.dependsOnOwnProps=!1,o}}function Pb(n){return n.dependsOnOwnProps?!!n.dependsOnOwnProps:n.length!==1}function XE(n,e){return function(s,{displayName:o}){const c=function(p,m){return c.dependsOnOwnProps?c.mapToProps(p,m):c.mapToProps(p,void 0)};return c.dependsOnOwnProps=!0,c.mapToProps=function(p,m){c.mapToProps=n,c.dependsOnOwnProps=Pb(n);let g=c(p,m);return typeof g=="function"&&(c.mapToProps=g,c.dependsOnOwnProps=Pb(g),g=c(p,m)),g},c}}function Fm(n,e){return(i,s)=>{throw new Error(`Invalid value of type ${typeof n} for ${e} argument when connecting component ${s.wrappedComponentName}.`)}}function Lx(n){return n&&typeof n=="object"?cm(e=>Vx(n,e)):n?typeof n=="function"?XE(n):Fm(n,"mapDispatchToProps"):cm(e=>({dispatch:e}))}function kx(n){return n?typeof n=="function"?XE(n):Fm(n,"mapStateToProps"):cm(()=>({}))}function jx(n,e,i){return{...i,...n,...e}}function Ux(n){return function(i,{displayName:s,areMergedPropsEqual:o}){let c=!1,u;return function(m,g,_){const y=n(m,g,_);return c?o(y,u)||(u=y):(c=!0,u=y),u}}}function Bx(n){return n?typeof n=="function"?Ux(n):Fm(n,"mergeProps"):()=>jx}function zx(n){n()}function Gx(){let n=null,e=null;return{clear(){n=null,e=null},notify(){zx(()=>{let i=n;for(;i;)i.callback(),i=i.next})},get(){const i=[];let s=n;for(;s;)i.push(s),s=s.next;return i},subscribe(i){let s=!0;const o=e={callback:i,next:null,prev:e};return o.prev?o.prev.next=o:n=o,function(){!s||n===null||(s=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var Vb={notify(){},get:()=>[]};function KE(n,e){let i,s=Vb,o=0,c=!1;function u(k){_();const L=s.subscribe(k);let K=!1;return()=>{K||(K=!0,L(),y())}}function p(){s.notify()}function m(){C.onStateChange&&C.onStateChange()}function g(){return c}function _(){o++,i||(i=e?e.addNestedSub(m):n.subscribe(m),s=Gx())}function y(){o--,i&&o===0&&(i(),i=void 0,s.clear(),s=Vb)}function T(){c||(c=!0,_())}function w(){c&&(c=!1,y())}const C={addNestedSub:u,notifyNestedSubs:p,handleChangeWrapper:m,isSubscribed:g,trySubscribe:T,tryUnsubscribe:w,getListeners:()=>s};return C}var Hx=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qx=Hx(),Fx=()=>typeof navigator<"u"&&navigator.product==="ReactNative",$x=Fx(),Yx=()=>qx||$x?F.useLayoutEffect:F.useEffect,Pd=Yx();function Lb(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function Bp(n,e){if(Lb(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const i=Object.keys(n),s=Object.keys(e);if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(!Object.prototype.hasOwnProperty.call(e,i[o])||!Lb(n[i[o]],e[i[o]]))return!1;return!0}var Xx={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Kx={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Qx={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},QE={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Wx={[Ix]:Qx,[Dx]:QE};function kb(n){return Ox(n)?QE:Wx[n.$$typeof]||Xx}var Jx=Object.defineProperty,Zx=Object.getOwnPropertyNames,jb=Object.getOwnPropertySymbols,eR=Object.getOwnPropertyDescriptor,tR=Object.getPrototypeOf,Ub=Object.prototype;function um(n,e){if(typeof e!="string"){if(Ub){const c=tR(e);c&&c!==Ub&&um(n,c)}let i=Zx(e);jb&&(i=i.concat(jb(e)));const s=kb(n),o=kb(e);for(let c=0;c<i.length;++c){const u=i[c];if(!Kx[u]&&!(o&&o[u])&&!(s&&s[u])){const p=eR(e,u);try{Jx(n,u,p)}catch{}}}}return n}var nR=Symbol.for("react-redux-context"),iR=typeof globalThis<"u"?globalThis:{};function rR(){if(!F.createContext)return{};const n=iR[nR]??=new Map;let e=n.get(F.createContext);return e||(e=F.createContext(null),n.set(F.createContext,e)),e}var WE=rR(),sR=[null,null];function aR(n,e,i){Pd(()=>n(...e),i)}function oR(n,e,i,s,o,c){n.current=s,i.current=!1,o.current&&(o.current=null,c())}function lR(n,e,i,s,o,c,u,p,m,g,_){if(!n)return()=>{};let y=!1,T=null;const w=()=>{if(y||!p.current)return;const k=e.getState();let L,K;try{L=s(k,o.current)}catch(W){K=W,T=W}K||(T=null),L===c.current?u.current||g():(c.current=L,m.current=L,u.current=!0,_())};return i.onStateChange=w,i.trySubscribe(),w(),()=>{if(y=!0,i.tryUnsubscribe(),i.onStateChange=null,T)throw T}}function cR(n,e){return n===e}function uR(n,e,i,{pure:s,areStatesEqual:o=cR,areOwnPropsEqual:c=Bp,areStatePropsEqual:u=Bp,areMergedPropsEqual:p=Bp,forwardRef:m=!1,context:g=WE}={}){const _=g,y=kx(n),T=Lx(e),w=Bx(i),C=!!n;return L=>{const K=L.displayName||L.name||"Component",W=`Connect(${K})`,ie={shouldHandleStateChanges:C,displayName:W,wrappedComponentName:K,WrappedComponent:L,initMapStateToProps:y,initMapDispatchToProps:T,initMergeProps:w,areStatesEqual:o,areStatePropsEqual:u,areOwnPropsEqual:c,areMergedPropsEqual:p};function se(I){const[R,D,V]=F.useMemo(()=>{const{reactReduxForwardedRef:xe,...yn}=I;return[I.context,xe,yn]},[I]),M=F.useMemo(()=>{let xe=_;return R?.Consumer,xe},[R,_]),B=F.useContext(M),N=!!I.store&&!!I.store.getState&&!!I.store.dispatch,oe=!!B&&!!B.store,Se=N?I.store:B.store,Q=oe?B.getServerState:Se.getState,he=F.useMemo(()=>Px(Se.dispatch,ie),[Se]),[Ee,Ue]=F.useMemo(()=>{if(!C)return sR;const xe=KE(Se,N?void 0:B.subscription),yn=xe.notifyNestedSubs.bind(xe);return[xe,yn]},[Se,N,B]),Ke=F.useMemo(()=>N?B:{...B,subscription:Ee},[N,B,Ee]),j=F.useRef(void 0),Z=F.useRef(V),ue=F.useRef(void 0),ge=F.useRef(!1),Ce=F.useRef(!1),Oe=F.useRef(void 0);Pd(()=>(Ce.current=!0,()=>{Ce.current=!1}),[]);const Be=F.useMemo(()=>()=>ue.current&&V===Z.current?ue.current:he(Se.getState(),V),[Se,V]),bt=F.useMemo(()=>yn=>Ee?lR(C,Se,Ee,he,Z,j,ge,Ce,ue,Ue,yn):()=>{},[Ee]);aR(oR,[Z,j,ge,V,ue,Ue]);let We;try{We=F.useSyncExternalStore(bt,Be,Q?()=>he(Q(),V):Be)}catch(xe){throw Oe.current&&(xe.message+=`
The error may be correlated with this previous error:
${Oe.current.stack}

`),xe}Pd(()=>{Oe.current=void 0,ue.current=void 0,j.current=We});const un=F.useMemo(()=>F.createElement(L,{...We,ref:D}),[D,L,We]);return F.useMemo(()=>C?F.createElement(M.Provider,{value:Ke},un):un,[M,un,Ke])}const ce=F.memo(se);if(ce.WrappedComponent=L,ce.displayName=se.displayName=W,m){const R=F.forwardRef(function(V,M){return F.createElement(ce,{...V,reactReduxForwardedRef:M})});return R.displayName=W,R.WrappedComponent=L,um(R,L)}return um(ce,L)}}var JE=uR;function dR(n){const{children:e,context:i,serverState:s,store:o}=n,c=F.useMemo(()=>{const m=KE(o);return{store:o,subscription:m,getServerState:s?()=>s:void 0}},[o,s]),u=F.useMemo(()=>o.getState(),[o]);Pd(()=>{const{subscription:m}=c;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),u!==o.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[c,u]);const p=i||WE;return F.createElement(p.Provider,{value:c},e)}var hR=dR,fR="Invariant failed";function pR(n,e){throw new Error(fR)}var Ai=function(e){var i=e.top,s=e.right,o=e.bottom,c=e.left,u=s-c,p=o-i,m={top:i,right:s,bottom:o,left:c,width:u,height:p,x:c,y:i,center:{x:(s+c)/2,y:(o+i)/2}};return m},$m=function(e,i){return{top:e.top-i.top,left:e.left-i.left,bottom:e.bottom+i.bottom,right:e.right+i.right}},Bb=function(e,i){return{top:e.top+i.top,left:e.left+i.left,bottom:e.bottom-i.bottom,right:e.right-i.right}},mR=function(e,i){return{top:e.top+i.y,left:e.left+i.x,bottom:e.bottom+i.y,right:e.right+i.x}},zp={top:0,right:0,bottom:0,left:0},Ym=function(e){var i=e.borderBox,s=e.margin,o=s===void 0?zp:s,c=e.border,u=c===void 0?zp:c,p=e.padding,m=p===void 0?zp:p,g=Ai($m(i,o)),_=Ai(Bb(i,u)),y=Ai(Bb(_,m));return{marginBox:g,borderBox:Ai(i),paddingBox:_,contentBox:y,margin:o,border:u,padding:m}},ai=function(e){var i=e.slice(0,-2),s=e.slice(-2);if(s!=="px")return 0;var o=Number(i);return isNaN(o)&&pR(),o},gR=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Vd=function(e,i){var s=e.borderBox,o=e.border,c=e.margin,u=e.padding,p=mR(s,i);return Ym({borderBox:p,border:o,margin:c,padding:u})},Ld=function(e,i){return i===void 0&&(i=gR()),Vd(e,i)},ZE=function(e,i){var s={top:ai(i.marginTop),right:ai(i.marginRight),bottom:ai(i.marginBottom),left:ai(i.marginLeft)},o={top:ai(i.paddingTop),right:ai(i.paddingRight),bottom:ai(i.paddingBottom),left:ai(i.paddingLeft)},c={top:ai(i.borderTopWidth),right:ai(i.borderRightWidth),bottom:ai(i.borderBottomWidth),left:ai(i.borderLeftWidth)};return Ym({borderBox:e,margin:s,padding:o,border:c})},eT=function(e){var i=e.getBoundingClientRect(),s=window.getComputedStyle(e);return ZE(i,s)},yc=function(e){var i=[],s=null,o=function(){for(var u=arguments.length,p=new Array(u),m=0;m<u;m++)p[m]=arguments[m];i=p,!s&&(s=requestAnimationFrame(function(){s=null,e.apply(void 0,i)}))};return o.cancel=function(){s&&(cancelAnimationFrame(s),s=null)},o};function kd(){return kd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)({}).hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},kd.apply(null,arguments)}function tT(n,e){}tT.bind(null,"warn");tT.bind(null,"error");function ys(){}function yR(n,e){return{...n,...e}}function ci(n,e,i){const s=e.map(o=>{const c=yR(i,o.options);return n.addEventListener(o.eventName,o.fn,c),function(){n.removeEventListener(o.eventName,o.fn,c)}});return function(){s.forEach(c=>{c()})}}const vR="Invariant failed";class jd extends Error{}jd.prototype.toString=function(){return this.message};function de(n,e){throw new jd(vR)}class _R extends Ot.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=ys,this.onWindowError=i=>{const s=this.getCallbacks();s.isDragging()&&s.tryAbort(),i.error instanceof jd&&i.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=i=>{this.callbacks=i}}componentDidMount(){this.unbind=ci(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof jd){this.setState({});return}throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const bR=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Ud=n=>n+1,ER=n=>`
  You have lifted an item in position ${Ud(n.source.index)}
`,nT=(n,e)=>{const i=n.droppableId===e.droppableId,s=Ud(n.index),o=Ud(e.index);return i?`
      You have moved the item from position ${s}
      to position ${o}
    `:`
    You have moved the item from position ${s}
    in list ${n.droppableId}
    to list ${e.droppableId}
    in position ${o}
  `},iT=(n,e,i)=>e.droppableId===i.droppableId?`
      The item ${n}
      has been combined with ${i.draggableId}`:`
      The item ${n}
      in list ${e.droppableId}
      has been combined with ${i.draggableId}
      in list ${i.droppableId}
    `,TR=n=>{const e=n.destination;if(e)return nT(n.source,e);const i=n.combine;return i?iT(n.draggableId,n.source,i):"You are over an area that cannot be dropped on"},zb=n=>`
  The item has returned to its starting position
  of ${Ud(n.index)}
`,SR=n=>{if(n.reason==="CANCEL")return`
      Movement cancelled.
      ${zb(n.source)}
    `;const e=n.destination,i=n.combine;return e?`
      You have dropped the item.
      ${nT(n.source,e)}
    `:i?`
      You have dropped the item.
      ${iT(n.draggableId,n.source,i)}
    `:`
    The item has been dropped while not over a drop area.
    ${zb(n.source)}
  `},Sd={dragHandleUsageInstructions:bR,onDragStart:ER,onDragUpdate:TR,onDragEnd:SR};function AR(n,e){return!!(n===e||Number.isNaN(n)&&Number.isNaN(e))}function rT(n,e){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++)if(!AR(n[i],e[i]))return!1;return!0}function Ze(n,e){const i=F.useState(()=>({inputs:e,result:n()}))[0],s=F.useRef(!0),o=F.useRef(i),u=s.current||!!(e&&o.current.inputs&&rT(e,o.current.inputs))?o.current:{inputs:e,result:n()};return F.useEffect(()=>{s.current=!1,o.current=u},[u]),u.result}function Ae(n,e){return Ze(()=>n,e)}const Jt={x:0,y:0},ln=(n,e)=>({x:n.x+e.x,y:n.y+e.y}),Gn=(n,e)=>({x:n.x-e.x,y:n.y-e.y}),vs=(n,e)=>n.x===e.x&&n.y===e.y,zo=n=>({x:n.x!==0?-n.x:0,y:n.y!==0?-n.y:0}),va=(n,e,i=0)=>n==="x"?{x:e,y:i}:{x:i,y:e},vc=(n,e)=>Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2),Gb=(n,e)=>Math.min(...e.map(i=>vc(n,i))),sT=n=>e=>({x:n(e.x),y:n(e.y)});var wR=(n,e)=>{const i=Ai({top:Math.max(e.top,n.top),right:Math.min(e.right,n.right),bottom:Math.min(e.bottom,n.bottom),left:Math.max(e.left,n.left)});return i.width<=0||i.height<=0?null:i};const Mc=(n,e)=>({top:n.top+e.y,left:n.left+e.x,bottom:n.bottom+e.y,right:n.right+e.x}),Hb=n=>[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.left,y:n.bottom},{x:n.right,y:n.bottom}],xR={top:0,right:0,bottom:0,left:0},RR=(n,e)=>e?Mc(n,e.scroll.diff.displacement):n,CR=(n,e,i)=>i&&i.increasedBy?{...n,[e.end]:n[e.end]+i.increasedBy[e.line]}:n,IR=(n,e)=>e&&e.shouldClipSubject?wR(e.pageMarginBox,n):Ai(n);var No=({page:n,withPlaceholder:e,axis:i,frame:s})=>{const o=RR(n.marginBox,s),c=CR(o,i,e),u=IR(c,s);return{page:n,withPlaceholder:e,active:u}},Xm=(n,e)=>{n.frame||de();const i=n.frame,s=Gn(e,i.scroll.initial),o=zo(s),c={...i,scroll:{initial:i.scroll.initial,current:e,diff:{value:s,displacement:o},max:i.scroll.max}},u=No({page:n.subject.page,withPlaceholder:n.subject.withPlaceholder,axis:n.axis,frame:c});return{...n,frame:c,subject:u}};function Wt(n,e=rT){let i=null;function s(...o){if(i&&i.lastThis===this&&e(o,i.lastArgs))return i.lastResult;const c=n.apply(this,o);return i={lastResult:c,lastArgs:o,lastThis:this},c}return s.clear=function(){i=null},s}const aT=Wt(n=>n.reduce((e,i)=>(e[i.descriptor.id]=i,e),{})),oT=Wt(n=>n.reduce((e,i)=>(e[i.descriptor.id]=i,e),{})),dh=Wt(n=>Object.values(n)),DR=Wt(n=>Object.values(n));var Go=Wt((n,e)=>DR(e).filter(s=>n===s.descriptor.droppableId).sort((s,o)=>s.descriptor.index-o.descriptor.index));function Km(n){return n.at&&n.at.type==="REORDER"?n.at.destination:null}function hh(n){return n.at&&n.at.type==="COMBINE"?n.at.combine:null}var fh=Wt((n,e)=>e.filter(i=>i.descriptor.id!==n.descriptor.id)),NR=({isMovingForward:n,draggable:e,destination:i,insideDestination:s,previousImpact:o})=>{if(!i.isCombineEnabled||!Km(o))return null;function u(w){const C={type:"COMBINE",combine:{draggableId:w,droppableId:i.descriptor.id}};return{...o,at:C}}const p=o.displaced.all,m=p.length?p[0]:null;if(n)return m?u(m):null;const g=fh(e,s);if(!m){if(!g.length)return null;const w=g[g.length-1];return u(w.descriptor.id)}const _=g.findIndex(w=>w.descriptor.id===m);_===-1&&de();const y=_-1;if(y<0)return null;const T=g[y];return u(T.descriptor.id)},Ho=(n,e)=>n.descriptor.droppableId===e.descriptor.id;const lT={point:Jt,value:0},_c={invisible:{},visible:{},all:[]},OR={displaced:_c,displacedBy:lT,at:null};var ui=(n,e)=>i=>n<=i&&i<=e,cT=n=>{const e=ui(n.top,n.bottom),i=ui(n.left,n.right);return s=>{if(e(s.top)&&e(s.bottom)&&i(s.left)&&i(s.right))return!0;const c=e(s.top)||e(s.bottom),u=i(s.left)||i(s.right);if(c&&u)return!0;const m=s.top<n.top&&s.bottom>n.bottom,g=s.left<n.left&&s.right>n.right;return m&&g?!0:m&&u||g&&c}},MR=n=>{const e=ui(n.top,n.bottom),i=ui(n.left,n.right);return s=>e(s.top)&&e(s.bottom)&&i(s.left)&&i(s.right)};const Qm={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},uT={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var PR=n=>e=>{const i=ui(e.top,e.bottom),s=ui(e.left,e.right);return o=>n===Qm?i(o.top)&&i(o.bottom):s(o.left)&&s(o.right)};const VR=(n,e)=>{const i=e.frame?e.frame.scroll.diff.displacement:Jt;return Mc(n,i)},LR=(n,e,i)=>e.subject.active?i(e.subject.active)(n):!1,kR=(n,e,i)=>i(e)(n),Wm=({target:n,destination:e,viewport:i,withDroppableDisplacement:s,isVisibleThroughFrameFn:o})=>{const c=s?VR(n,e):n;return LR(c,e,o)&&kR(c,i,o)},jR=n=>Wm({...n,isVisibleThroughFrameFn:cT}),dT=n=>Wm({...n,isVisibleThroughFrameFn:MR}),UR=n=>Wm({...n,isVisibleThroughFrameFn:PR(n.destination.axis)}),BR=(n,e,i)=>{if(typeof i=="boolean")return i;if(!e)return!0;const{invisible:s,visible:o}=e;if(s[n])return!1;const c=o[n];return c?c.shouldAnimate:!0};function zR(n,e){const i=n.page.marginBox,s={top:e.point.y,right:0,bottom:0,left:e.point.x};return Ai($m(i,s))}function bc({afterDragging:n,destination:e,displacedBy:i,viewport:s,forceShouldAnimate:o,last:c}){return n.reduce(function(p,m){const g=zR(m,i),_=m.descriptor.id;if(p.all.push(_),!jR({target:g,destination:e,viewport:s,withDroppableDisplacement:!0}))return p.invisible[m.descriptor.id]=!0,p;const T=BR(_,c,o),w={draggableId:_,shouldAnimate:T};return p.visible[_]=w,p},{all:[],visible:{},invisible:{}})}function GR(n,e){if(!n.length)return 0;const i=n[n.length-1].descriptor.index;return e.inHomeList?i:i+1}function qb({insideDestination:n,inHomeList:e,displacedBy:i,destination:s}){const o=GR(n,{inHomeList:e});return{displaced:_c,displacedBy:i,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:o}}}}function Bd({draggable:n,insideDestination:e,destination:i,viewport:s,displacedBy:o,last:c,index:u,forceShouldAnimate:p}){const m=Ho(n,i);if(u==null)return qb({insideDestination:e,inHomeList:m,displacedBy:o,destination:i});const g=e.find(C=>C.descriptor.index===u);if(!g)return qb({insideDestination:e,inHomeList:m,displacedBy:o,destination:i});const _=fh(n,e),y=e.indexOf(g),T=_.slice(y);return{displaced:bc({afterDragging:T,destination:i,displacedBy:o,last:c,viewport:s.frame,forceShouldAnimate:p}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:u}}}}function xs(n,e){return!!e.effected[n]}var HR=({isMovingForward:n,destination:e,draggables:i,combine:s,afterCritical:o})=>{if(!e.isCombineEnabled)return null;const c=s.draggableId,p=i[c].descriptor.index;return xs(c,o)?n?p:p-1:n?p+1:p},qR=({isMovingForward:n,isInHomeList:e,insideDestination:i,location:s})=>{if(!i.length)return null;const o=s.index,c=n?o+1:o-1,u=i[0].descriptor.index,p=i[i.length-1].descriptor.index,m=e?p:p+1;return c<u||c>m?null:c},FR=({isMovingForward:n,isInHomeList:e,draggable:i,draggables:s,destination:o,insideDestination:c,previousImpact:u,viewport:p,afterCritical:m})=>{const g=u.at;if(g||de(),g.type==="REORDER"){const y=qR({isMovingForward:n,isInHomeList:e,location:g.destination,insideDestination:c});return y==null?null:Bd({draggable:i,insideDestination:c,destination:o,viewport:p,last:u.displaced,displacedBy:u.displacedBy,index:y})}const _=HR({isMovingForward:n,destination:o,displaced:u.displaced,draggables:s,combine:g.combine,afterCritical:m});return _==null?null:Bd({draggable:i,insideDestination:c,destination:o,viewport:p,last:u.displaced,displacedBy:u.displacedBy,index:_})},$R=({displaced:n,afterCritical:e,combineWith:i,displacedBy:s})=>{const o=!!(n.visible[i]||n.invisible[i]);return xs(i,e)?o?Jt:zo(s.point):o?s.point:Jt},YR=({afterCritical:n,impact:e,draggables:i})=>{const s=hh(e);s||de();const o=s.draggableId,c=i[o].page.borderBox.center,u=$R({displaced:e.displaced,afterCritical:n,combineWith:o,displacedBy:e.displacedBy});return ln(c,u)};const hT=(n,e)=>e.margin[n.start]+e.borderBox[n.size]/2,XR=(n,e)=>e.margin[n.end]+e.borderBox[n.size]/2,Jm=(n,e,i)=>e[n.crossAxisStart]+i.margin[n.crossAxisStart]+i.borderBox[n.crossAxisSize]/2,Fb=({axis:n,moveRelativeTo:e,isMoving:i})=>va(n.line,e.marginBox[n.end]+hT(n,i),Jm(n,e.marginBox,i)),$b=({axis:n,moveRelativeTo:e,isMoving:i})=>va(n.line,e.marginBox[n.start]-XR(n,i),Jm(n,e.marginBox,i)),KR=({axis:n,moveInto:e,isMoving:i})=>va(n.line,e.contentBox[n.start]+hT(n,i),Jm(n,e.contentBox,i));var QR=({impact:n,draggable:e,draggables:i,droppable:s,afterCritical:o})=>{const c=Go(s.descriptor.id,i),u=e.page,p=s.axis;if(!c.length)return KR({axis:p,moveInto:s.page,isMoving:u});const{displaced:m,displacedBy:g}=n,_=m.all[0];if(_){const T=i[_];if(xs(_,o))return $b({axis:p,moveRelativeTo:T.page,isMoving:u});const w=Vd(T.page,g.point);return $b({axis:p,moveRelativeTo:w,isMoving:u})}const y=c[c.length-1];if(y.descriptor.id===e.descriptor.id)return u.borderBox.center;if(xs(y.descriptor.id,o)){const T=Vd(y.page,zo(o.displacedBy.point));return Fb({axis:p,moveRelativeTo:T,isMoving:u})}return Fb({axis:p,moveRelativeTo:y.page,isMoving:u})},dm=(n,e)=>{const i=n.frame;return i?ln(e,i.scroll.diff.displacement):e};const WR=({impact:n,draggable:e,droppable:i,draggables:s,afterCritical:o})=>{const c=e.page.borderBox.center,u=n.at;return!i||!u?c:u.type==="REORDER"?QR({impact:n,draggable:e,draggables:s,droppable:i,afterCritical:o}):YR({impact:n,draggables:s,afterCritical:o})};var ph=n=>{const e=WR(n),i=n.droppable;return i?dm(i,e):e},fT=(n,e)=>{const i=Gn(e,n.scroll.initial),s=zo(i);return{frame:Ai({top:e.y,bottom:e.y+n.frame.height,left:e.x,right:e.x+n.frame.width}),scroll:{initial:n.scroll.initial,max:n.scroll.max,current:e,diff:{value:i,displacement:s}}}};function Yb(n,e){return n.map(i=>e[i])}function JR(n,e){for(let i=0;i<e.length;i++){const s=e[i].visible[n];if(s)return s}return null}var ZR=({impact:n,viewport:e,destination:i,draggables:s,maxScrollChange:o})=>{const c=fT(e,ln(e.scroll.current,o)),u=i.frame?Xm(i,ln(i.frame.scroll.current,o)):i,p=n.displaced,m=bc({afterDragging:Yb(p.all,s),destination:i,displacedBy:n.displacedBy,viewport:c.frame,last:p,forceShouldAnimate:!1}),g=bc({afterDragging:Yb(p.all,s),destination:u,displacedBy:n.displacedBy,viewport:e.frame,last:p,forceShouldAnimate:!1}),_={},y={},T=[p,m,g];return p.all.forEach(C=>{const k=JR(C,T);if(k){y[C]=k;return}_[C]=!0}),{...n,displaced:{all:p.all,invisible:_,visible:y}}},eC=(n,e)=>ln(n.scroll.diff.displacement,e),Zm=({pageBorderBoxCenter:n,draggable:e,viewport:i})=>{const s=eC(i,n),o=Gn(s,e.page.borderBox.center);return ln(e.client.borderBox.center,o)},pT=({draggable:n,destination:e,newPageBorderBoxCenter:i,viewport:s,withDroppableDisplacement:o,onlyOnMainAxis:c=!1})=>{const u=Gn(i,n.page.borderBox.center),m={target:Mc(n.page.borderBox,u),destination:e,withDroppableDisplacement:o,viewport:s};return c?UR(m):dT(m)},tC=({isMovingForward:n,draggable:e,destination:i,draggables:s,previousImpact:o,viewport:c,previousPageBorderBoxCenter:u,previousClientSelection:p,afterCritical:m})=>{if(!i.isEnabled)return null;const g=Go(i.descriptor.id,s),_=Ho(e,i),y=NR({isMovingForward:n,draggable:e,destination:i,insideDestination:g,previousImpact:o})||FR({isMovingForward:n,isInHomeList:_,draggable:e,draggables:s,destination:i,insideDestination:g,previousImpact:o,viewport:c,afterCritical:m});if(!y)return null;const T=ph({impact:y,draggable:e,droppable:i,draggables:s,afterCritical:m});if(pT({draggable:e,destination:i,newPageBorderBoxCenter:T,viewport:c.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Zm({pageBorderBoxCenter:T,draggable:e,viewport:c}),impact:y,scrollJumpRequest:null};const C=Gn(T,u),k=ZR({impact:y,viewport:c,destination:i,draggables:s,maxScrollChange:C});return{clientSelection:p,impact:k,scrollJumpRequest:C}};const bn=n=>{const e=n.subject.active;return e||de(),e};var nC=({isMovingForward:n,pageBorderBoxCenter:e,source:i,droppables:s,viewport:o})=>{const c=i.subject.active;if(!c)return null;const u=i.axis,p=ui(c[u.start],c[u.end]),m=dh(s).filter(_=>_!==i).filter(_=>_.isEnabled).filter(_=>!!_.subject.active).filter(_=>cT(o.frame)(bn(_))).filter(_=>{const y=bn(_);return n?c[u.crossAxisEnd]<y[u.crossAxisEnd]:y[u.crossAxisStart]<c[u.crossAxisStart]}).filter(_=>{const y=bn(_),T=ui(y[u.start],y[u.end]);return p(y[u.start])||p(y[u.end])||T(c[u.start])||T(c[u.end])}).sort((_,y)=>{const T=bn(_)[u.crossAxisStart],w=bn(y)[u.crossAxisStart];return n?T-w:w-T}).filter((_,y,T)=>bn(_)[u.crossAxisStart]===bn(T[0])[u.crossAxisStart]);if(!m.length)return null;if(m.length===1)return m[0];const g=m.filter(_=>ui(bn(_)[u.start],bn(_)[u.end])(e[u.line]));return g.length===1?g[0]:g.length>1?g.sort((_,y)=>bn(_)[u.start]-bn(y)[u.start])[0]:m.sort((_,y)=>{const T=Gb(e,Hb(bn(_))),w=Gb(e,Hb(bn(y)));return T!==w?T-w:bn(_)[u.start]-bn(y)[u.start]})[0]};const Xb=(n,e)=>{const i=n.page.borderBox.center;return xs(n.descriptor.id,e)?Gn(i,e.displacedBy.point):i},iC=(n,e)=>{const i=n.page.borderBox;return xs(n.descriptor.id,e)?Mc(i,zo(e.displacedBy.point)):i};var rC=({pageBorderBoxCenter:n,viewport:e,destination:i,insideDestination:s,afterCritical:o})=>s.filter(u=>dT({target:iC(u,o),destination:i,viewport:e.frame,withDroppableDisplacement:!0})).sort((u,p)=>{const m=vc(n,dm(i,Xb(u,o))),g=vc(n,dm(i,Xb(p,o)));return m<g?-1:g<m?1:u.descriptor.index-p.descriptor.index})[0]||null,Pc=Wt(function(e,i){const s=i[e.line];return{value:s,point:va(e.line,s)}});const sC=(n,e,i)=>{const s=n.axis;if(n.descriptor.mode==="virtual")return va(s.line,e[s.line]);const o=n.subject.page.contentBox[s.size],m=Go(n.descriptor.id,i).reduce((g,_)=>g+_.client.marginBox[s.size],0)+e[s.line]-o;return m<=0?null:va(s.line,m)},mT=(n,e)=>({...n,scroll:{...n.scroll,max:e}}),gT=(n,e,i)=>{const s=n.frame;Ho(e,n)&&de(),n.subject.withPlaceholder&&de();const o=Pc(n.axis,e.displaceBy).point,c=sC(n,o,i),u={placeholderSize:o,increasedBy:c,oldFrameMaxScroll:n.frame?n.frame.scroll.max:null};if(!s){const _=No({page:n.subject.page,withPlaceholder:u,axis:n.axis,frame:n.frame});return{...n,subject:_}}const p=c?ln(s.scroll.max,c):s.scroll.max,m=mT(s,p),g=No({page:n.subject.page,withPlaceholder:u,axis:n.axis,frame:m});return{...n,subject:g,frame:m}},aC=n=>{const e=n.subject.withPlaceholder;e||de();const i=n.frame;if(!i){const u=No({page:n.subject.page,axis:n.axis,frame:null,withPlaceholder:null});return{...n,subject:u}}const s=e.oldFrameMaxScroll;s||de();const o=mT(i,s),c=No({page:n.subject.page,axis:n.axis,frame:o,withPlaceholder:null});return{...n,subject:c,frame:o}};var oC=({previousPageBorderBoxCenter:n,moveRelativeTo:e,insideDestination:i,draggable:s,draggables:o,destination:c,viewport:u,afterCritical:p})=>{if(!e){if(i.length)return null;const y={displaced:_c,displacedBy:lT,at:{type:"REORDER",destination:{droppableId:c.descriptor.id,index:0}}},T=ph({impact:y,draggable:s,droppable:c,draggables:o,afterCritical:p}),w=Ho(s,c)?c:gT(c,s,o);return pT({draggable:s,destination:w,newPageBorderBoxCenter:T,viewport:u.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?y:null}const m=n[c.axis.line]<=e.page.borderBox.center[c.axis.line],g=(()=>{const y=e.descriptor.index;return e.descriptor.id===s.descriptor.id||m?y:y+1})(),_=Pc(c.axis,s.displaceBy);return Bd({draggable:s,insideDestination:i,destination:c,viewport:u,displacedBy:_,last:_c,index:g})},lC=({isMovingForward:n,previousPageBorderBoxCenter:e,draggable:i,isOver:s,draggables:o,droppables:c,viewport:u,afterCritical:p})=>{const m=nC({isMovingForward:n,pageBorderBoxCenter:e,source:s,droppables:c,viewport:u});if(!m)return null;const g=Go(m.descriptor.id,o),_=rC({pageBorderBoxCenter:e,viewport:u,destination:m,insideDestination:g,afterCritical:p}),y=oC({previousPageBorderBoxCenter:e,destination:m,draggable:i,draggables:o,moveRelativeTo:_,insideDestination:g,viewport:u,afterCritical:p});if(!y)return null;const T=ph({impact:y,draggable:i,droppable:m,draggables:o,afterCritical:p});return{clientSelection:Zm({pageBorderBoxCenter:T,draggable:i,viewport:u}),impact:y,scrollJumpRequest:null}},Hn=n=>{const e=n.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const cC=(n,e)=>{const i=Hn(n);return i?e[i]:null};var uC=({state:n,type:e})=>{const i=cC(n.impact,n.dimensions.droppables),s=!!i,o=n.dimensions.droppables[n.critical.droppable.id],c=i||o,u=c.axis.direction,p=u==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||u==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(p&&!s)return null;const m=e==="MOVE_DOWN"||e==="MOVE_RIGHT",g=n.dimensions.draggables[n.critical.draggable.id],_=n.current.page.borderBoxCenter,{draggables:y,droppables:T}=n.dimensions;return p?tC({isMovingForward:m,previousPageBorderBoxCenter:_,draggable:g,destination:c,draggables:y,viewport:n.viewport,previousClientSelection:n.current.client.selection,previousImpact:n.impact,afterCritical:n.afterCritical}):lC({isMovingForward:m,previousPageBorderBoxCenter:_,draggable:g,isOver:c,draggables:y,droppables:T,viewport:n.viewport,afterCritical:n.afterCritical})};function fa(n){return n.phase==="DRAGGING"||n.phase==="COLLECTING"}function yT(n){const e=ui(n.top,n.bottom),i=ui(n.left,n.right);return function(o){return e(o.y)&&i(o.x)}}function dC(n,e){return n.left<e.right&&n.right>e.left&&n.top<e.bottom&&n.bottom>e.top}function hC({pageBorderBox:n,draggable:e,candidates:i}){const s=e.page.borderBox.center,o=i.map(c=>{const u=c.axis,p=va(c.axis.line,n.center[u.line],c.page.borderBox.center[u.crossAxisLine]);return{id:c.descriptor.id,distance:vc(s,p)}}).sort((c,u)=>u.distance-c.distance);return o[0]?o[0].id:null}function fC({pageBorderBox:n,draggable:e,droppables:i}){const s=dh(i).filter(o=>{if(!o.isEnabled)return!1;const c=o.subject.active;if(!c||!dC(n,c))return!1;if(yT(c)(n.center))return!0;const u=o.axis,p=c.center[u.crossAxisLine],m=n[u.crossAxisStart],g=n[u.crossAxisEnd],_=ui(c[u.crossAxisStart],c[u.crossAxisEnd]),y=_(m),T=_(g);return!y&&!T?!0:y?m<p:g>p});return s.length?s.length===1?s[0].descriptor.id:hC({pageBorderBox:n,draggable:e,candidates:s}):null}const vT=(n,e)=>Ai(Mc(n,e));var pC=(n,e)=>{const i=n.frame;return i?vT(e,i.scroll.diff.value):e};function _T({displaced:n,id:e}){return!!(n.visible[e]||n.invisible[e])}function mC({draggable:n,closest:e,inHomeList:i}){return e?i&&e.descriptor.index>n.descriptor.index?e.descriptor.index-1:e.descriptor.index:null}var gC=({pageBorderBoxWithDroppableScroll:n,draggable:e,destination:i,insideDestination:s,last:o,viewport:c,afterCritical:u})=>{const p=i.axis,m=Pc(i.axis,e.displaceBy),g=m.value,_=n[p.start],y=n[p.end],w=fh(e,s).find(k=>{const L=k.descriptor.id,K=k.page.borderBox.center[p.line],W=xs(L,u),ie=_T({displaced:o,id:L});return W?ie?y<=K:_<K-g:ie?y<=K+g:_<K})||null,C=mC({draggable:e,closest:w,inHomeList:Ho(e,i)});return Bd({draggable:e,insideDestination:s,destination:i,viewport:c,last:o,displacedBy:m,index:C})};const yC=4;var vC=({draggable:n,pageBorderBoxWithDroppableScroll:e,previousImpact:i,destination:s,insideDestination:o,afterCritical:c})=>{if(!s.isCombineEnabled)return null;const u=s.axis,p=Pc(s.axis,n.displaceBy),m=p.value,g=e[u.start],_=e[u.end],T=fh(n,o).find(C=>{const k=C.descriptor.id,L=C.page.borderBox,W=L[u.size]/yC,ie=xs(k,c),se=_T({displaced:i.displaced,id:k});return ie?se?_>L[u.start]+W&&_<L[u.end]-W:g>L[u.start]-m+W&&g<L[u.end]-m-W:se?_>L[u.start]+m+W&&_<L[u.end]+m-W:g>L[u.start]+W&&g<L[u.end]-W});return T?{displacedBy:p,displaced:i.displaced,at:{type:"COMBINE",combine:{draggableId:T.descriptor.id,droppableId:s.descriptor.id}}}:null},bT=({pageOffset:n,draggable:e,draggables:i,droppables:s,previousImpact:o,viewport:c,afterCritical:u})=>{const p=vT(e.page.borderBox,n),m=fC({pageBorderBox:p,draggable:e,droppables:s});if(!m)return OR;const g=s[m],_=Go(g.descriptor.id,i),y=pC(g,p);return vC({pageBorderBoxWithDroppableScroll:y,draggable:e,previousImpact:o,destination:g,insideDestination:_,afterCritical:u})||gC({pageBorderBoxWithDroppableScroll:y,draggable:e,destination:g,insideDestination:_,last:o.displaced,viewport:c,afterCritical:u})},eg=(n,e)=>({...n,[e.descriptor.id]:e});const _C=({previousImpact:n,impact:e,droppables:i})=>{const s=Hn(n),o=Hn(e);if(!s||s===o)return i;const c=i[s];if(!c.subject.withPlaceholder)return i;const u=aC(c);return eg(i,u)};var bC=({draggable:n,draggables:e,droppables:i,previousImpact:s,impact:o})=>{const c=_C({previousImpact:s,impact:o,droppables:i}),u=Hn(o);if(!u)return c;const p=i[u];if(Ho(n,p)||p.subject.withPlaceholder)return c;const m=gT(p,n,e);return eg(c,m)},cc=({state:n,clientSelection:e,dimensions:i,viewport:s,impact:o,scrollJumpRequest:c})=>{const u=s||n.viewport,p=i||n.dimensions,m=e||n.current.client.selection,g=Gn(m,n.initial.client.selection),_={offset:g,selection:m,borderBoxCenter:ln(n.initial.client.borderBoxCenter,g)},y={selection:ln(_.selection,u.scroll.current),borderBoxCenter:ln(_.borderBoxCenter,u.scroll.current),offset:ln(_.offset,u.scroll.diff.value)},T={client:_,page:y};if(n.phase==="COLLECTING")return{...n,dimensions:p,viewport:u,current:T};const w=p.draggables[n.critical.draggable.id],C=o||bT({pageOffset:y.offset,draggable:w,draggables:p.draggables,droppables:p.droppables,previousImpact:n.impact,viewport:u,afterCritical:n.afterCritical}),k=bC({draggable:w,impact:C,previousImpact:n.impact,draggables:p.draggables,droppables:p.droppables});return{...n,current:T,dimensions:{draggables:p.draggables,droppables:k},impact:C,viewport:u,scrollJumpRequest:c||null,forceShouldAnimate:c?!1:null}};function EC(n,e){return n.map(i=>e[i])}var ET=({impact:n,viewport:e,draggables:i,destination:s,forceShouldAnimate:o})=>{const c=n.displaced,u=EC(c.all,i),p=bc({afterDragging:u,destination:s,displacedBy:n.displacedBy,viewport:e.frame,forceShouldAnimate:o,last:c});return{...n,displaced:p}},TT=({impact:n,draggable:e,droppable:i,draggables:s,viewport:o,afterCritical:c})=>{const u=ph({impact:n,draggable:e,draggables:s,droppable:i,afterCritical:c});return Zm({pageBorderBoxCenter:u,draggable:e,viewport:o})},ST=({state:n,dimensions:e,viewport:i})=>{n.movementMode!=="SNAP"&&de();const s=n.impact,o=i||n.viewport,c=e||n.dimensions,{draggables:u,droppables:p}=c,m=u[n.critical.draggable.id],g=Hn(s);g||de();const _=p[g],y=ET({impact:s,viewport:o,destination:_,draggables:u}),T=TT({impact:y,draggable:m,droppable:_,draggables:u,viewport:o,afterCritical:n.afterCritical});return cc({impact:y,clientSelection:T,state:n,dimensions:c,viewport:o})},TC=n=>({index:n.index,droppableId:n.droppableId}),AT=({draggable:n,home:e,draggables:i,viewport:s})=>{const o=Pc(e.axis,n.displaceBy),c=Go(e.descriptor.id,i),u=c.indexOf(n);u===-1&&de();const p=c.slice(u+1),m=p.reduce((T,w)=>(T[w.descriptor.id]=!0,T),{}),g={inVirtualList:e.descriptor.mode==="virtual",displacedBy:o,effected:m};return{impact:{displaced:bc({afterDragging:p,destination:e,displacedBy:o,last:null,viewport:s.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:TC(n.descriptor)}},afterCritical:g}},SC=(n,e)=>({draggables:n.draggables,droppables:eg(n.droppables,e)}),AC=({draggable:n,offset:e,initialWindowScroll:i})=>{const s=Vd(n.client,e),o=Ld(s,i);return{...n,placeholder:{...n.placeholder,client:s},client:s,page:o}},wC=n=>{const e=n.frame;return e||de(),e},xC=({additions:n,updatedDroppables:e,viewport:i})=>{const s=i.scroll.diff.value;return n.map(o=>{const c=o.descriptor.droppableId,u=e[c],m=wC(u).scroll.diff.value,g=ln(s,m);return AC({draggable:o,offset:g,initialWindowScroll:i.scroll.initial})})},RC=({state:n,published:e})=>{const i=e.modified.map(K=>{const W=n.dimensions.droppables[K.droppableId];return Xm(W,K.scroll)}),s={...n.dimensions.droppables,...aT(i)},o=oT(xC({additions:e.additions,updatedDroppables:s,viewport:n.viewport})),c={...n.dimensions.draggables,...o};e.removals.forEach(K=>{delete c[K]});const u={droppables:s,draggables:c},p=Hn(n.impact),m=p?u.droppables[p]:null,g=u.draggables[n.critical.draggable.id],_=u.droppables[n.critical.droppable.id],{impact:y,afterCritical:T}=AT({draggable:g,home:_,draggables:c,viewport:n.viewport}),w=m&&m.isCombineEnabled?n.impact:y,C=bT({pageOffset:n.current.page.offset,draggable:u.draggables[n.critical.draggable.id],draggables:u.draggables,droppables:u.droppables,previousImpact:w,viewport:n.viewport,afterCritical:T}),k={...n,phase:"DRAGGING",impact:C,onLiftImpact:y,dimensions:u,afterCritical:T,forceShouldAnimate:!1};return n.phase==="COLLECTING"?k:{...k,phase:"DROP_PENDING",reason:n.reason,isWaiting:!1}};const hm=n=>n.movementMode==="SNAP",Gp=(n,e,i)=>{const s=SC(n.dimensions,e);return!hm(n)||i?cc({state:n,dimensions:s}):ST({state:n,dimensions:s})};function Hp(n){return n.isDragging&&n.movementMode==="SNAP"?{...n,scrollJumpRequest:null}:n}const Kb={phase:"IDLE",completed:null,shouldFlush:!1};var CC=(n=Kb,e)=>{if(e.type==="FLUSH")return{...Kb,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){n.phase!=="IDLE"&&de();const{critical:i,clientSelection:s,viewport:o,dimensions:c,movementMode:u}=e.payload,p=c.draggables[i.draggable.id],m=c.droppables[i.droppable.id],g={selection:s,borderBoxCenter:p.client.borderBox.center,offset:Jt},_={client:g,page:{selection:ln(g.selection,o.scroll.initial),borderBoxCenter:ln(g.selection,o.scroll.initial),offset:ln(g.selection,o.scroll.diff.value)}},y=dh(c.droppables).every(k=>!k.isFixedOnPage),{impact:T,afterCritical:w}=AT({draggable:p,home:m,draggables:c.draggables,viewport:o});return{phase:"DRAGGING",isDragging:!0,critical:i,movementMode:u,dimensions:c,initial:_,current:_,isWindowScrollAllowed:y,impact:T,afterCritical:w,onLiftImpact:T,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"?n:(n.phase!=="DRAGGING"&&de(),{...n,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"||de(),RC({state:n,published:e.payload});if(e.type==="MOVE"){if(n.phase==="DROP_PENDING")return n;fa(n)||de();const{client:i}=e.payload;return vs(i,n.current.client.selection)?n:cc({state:n,clientSelection:i,impact:hm(n)?n.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="COLLECTING")return Hp(n);fa(n)||de();const{id:i,newScroll:s}=e.payload,o=n.dimensions.droppables[i];if(!o)return n;const c=Xm(o,s);return Gp(n,c,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(n.phase==="DROP_PENDING")return n;fa(n)||de();const{id:i,isEnabled:s}=e.payload,o=n.dimensions.droppables[i];o||de(),o.isEnabled===s&&de();const c={...o,isEnabled:s};return Gp(n,c,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(n.phase==="DROP_PENDING")return n;fa(n)||de();const{id:i,isCombineEnabled:s}=e.payload,o=n.dimensions.droppables[i];o||de(),o.isCombineEnabled===s&&de();const c={...o,isCombineEnabled:s};return Gp(n,c,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="DROP_ANIMATING")return n;fa(n)||de(),n.isWindowScrollAllowed||de();const i=e.payload.newScroll;if(vs(n.viewport.scroll.current,i))return Hp(n);const s=fT(n.viewport,i);return hm(n)?ST({state:n,viewport:s}):cc({state:n,viewport:s})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!fa(n))return n;const i=e.payload.maxScroll;if(vs(i,n.viewport.scroll.max))return n;const s={...n.viewport,scroll:{...n.viewport.scroll,max:i}};return{...n,viewport:s}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&de();const i=uC({state:n,type:e.type});return i?cc({state:n,impact:i.impact,clientSelection:i.clientSelection,scrollJumpRequest:i.scrollJumpRequest}):n}if(e.type==="DROP_PENDING"){const i=e.payload.reason;return n.phase!=="COLLECTING"&&de(),{...n,phase:"DROP_PENDING",isWaiting:!0,reason:i}}if(e.type==="DROP_ANIMATE"){const{completed:i,dropDuration:s,newHomeClientOffset:o}=e.payload;return n.phase==="DRAGGING"||n.phase==="DROP_PENDING"||de(),{phase:"DROP_ANIMATING",completed:i,dropDuration:s,newHomeClientOffset:o,dimensions:n.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:i}=e.payload;return{phase:"IDLE",completed:i,shouldFlush:!1}}return n};function st(n,e){return n instanceof Object&&"type"in n&&n.type===e}const IC=n=>({type:"BEFORE_INITIAL_CAPTURE",payload:n}),DC=n=>({type:"LIFT",payload:n}),NC=n=>({type:"INITIAL_PUBLISH",payload:n}),OC=n=>({type:"PUBLISH_WHILE_DRAGGING",payload:n}),MC=()=>({type:"COLLECTION_STARTING",payload:null}),PC=n=>({type:"UPDATE_DROPPABLE_SCROLL",payload:n}),VC=n=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:n}),LC=n=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:n}),wT=n=>({type:"MOVE",payload:n}),kC=n=>({type:"MOVE_BY_WINDOW_SCROLL",payload:n}),jC=n=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:n}),UC=()=>({type:"MOVE_UP",payload:null}),BC=()=>({type:"MOVE_DOWN",payload:null}),zC=()=>({type:"MOVE_RIGHT",payload:null}),GC=()=>({type:"MOVE_LEFT",payload:null}),tg=()=>({type:"FLUSH",payload:null}),HC=n=>({type:"DROP_ANIMATE",payload:n}),ng=n=>({type:"DROP_COMPLETE",payload:n}),xT=n=>({type:"DROP",payload:n}),qC=n=>({type:"DROP_PENDING",payload:n}),RT=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var FC=n=>({getState:e,dispatch:i})=>s=>o=>{if(!st(o,"LIFT")){s(o);return}const{id:c,clientSelection:u,movementMode:p}=o.payload,m=e();m.phase==="DROP_ANIMATING"&&i(ng({completed:m.completed})),e().phase!=="IDLE"&&de(),i(tg()),i(IC({draggableId:c,movementMode:p}));const _={draggableId:c,scrollOptions:{shouldPublishImmediately:p==="SNAP"}},{critical:y,dimensions:T,viewport:w}=n.startPublishing(_);i(NC({critical:y,dimensions:T,clientSelection:u,movementMode:p,viewport:w}))},$C=n=>()=>e=>i=>{st(i,"INITIAL_PUBLISH")&&n.dragging(),st(i,"DROP_ANIMATE")&&n.dropping(i.payload.completed.result.reason),(st(i,"FLUSH")||st(i,"DROP_COMPLETE"))&&n.resting(),e(i)};const ig={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Ec={opacity:{drop:0,combining:.7},scale:{drop:.75}},CT={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ha=`${CT.outOfTheWay}s ${ig.outOfTheWay}`,uc={fluid:`opacity ${ha}`,snap:`transform ${ha}, opacity ${ha}`,drop:n=>{const e=`${n}s ${ig.drop}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${ha}`,placeholder:`height ${ha}, width ${ha}, margin ${ha}`},Qb=n=>vs(n,Jt)?void 0:`translate(${n.x}px, ${n.y}px)`,fm={moveTo:Qb,drop:(n,e)=>{const i=Qb(n);if(i)return e?`${i} scale(${Ec.scale.drop})`:i}},{minDropTime:pm,maxDropTime:IT}=CT,YC=IT-pm,Wb=1500,XC=.6;var KC=({current:n,destination:e,reason:i})=>{const s=vc(n,e);if(s<=0)return pm;if(s>=Wb)return IT;const o=s/Wb,c=pm+YC*o,u=i==="CANCEL"?c*XC:c;return Number(u.toFixed(2))},QC=({impact:n,draggable:e,dimensions:i,viewport:s,afterCritical:o})=>{const{draggables:c,droppables:u}=i,p=Hn(n),m=p?u[p]:null,g=u[e.descriptor.droppableId],_=TT({impact:n,draggable:e,draggables:c,afterCritical:o,droppable:m||g,viewport:s});return Gn(_,e.client.borderBox.center)},WC=({draggables:n,reason:e,lastImpact:i,home:s,viewport:o,onLiftImpact:c})=>!i.at||e!=="DROP"?{impact:ET({draggables:n,impact:c,destination:s,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:i.at.type==="REORDER"?{impact:i,didDropInsideDroppable:!0}:{impact:{...i,displaced:_c},didDropInsideDroppable:!0};const JC=({getState:n,dispatch:e})=>i=>s=>{if(!st(s,"DROP")){i(s);return}const o=n(),c=s.payload.reason;if(o.phase==="COLLECTING"){e(qC({reason:c}));return}if(o.phase==="IDLE")return;o.phase==="DROP_PENDING"&&o.isWaiting&&de(),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||de();const p=o.critical,m=o.dimensions,g=m.draggables[o.critical.draggable.id],{impact:_,didDropInsideDroppable:y}=WC({reason:c,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),T=y?Km(_):null,w=y?hh(_):null,C={index:p.draggable.index,droppableId:p.droppable.id},k={draggableId:g.descriptor.id,type:g.descriptor.type,source:C,reason:c,mode:o.movementMode,destination:T,combine:w},L=QC({impact:_,draggable:g,dimensions:m,viewport:o.viewport,afterCritical:o.afterCritical}),K={critical:o.critical,afterCritical:o.afterCritical,result:k,impact:_};if(!(!vs(o.current.client.offset,L)||!!k.combine)){e(ng({completed:K}));return}const ie=KC({current:o.current.client.offset,destination:L,reason:c});e(HC({newHomeClientOffset:L,dropDuration:ie,completed:K}))};var DT=()=>({x:window.pageXOffset,y:window.pageYOffset});function ZC(n){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:e=>{e.target!==window&&e.target!==window.document||n()}}}function eI({onWindowScroll:n}){function e(){n(DT())}const i=yc(e),s=ZC(i);let o=ys;function c(){return o!==ys}function u(){c()&&de(),o=ci(window,[s])}function p(){c()||de(),i.cancel(),o(),o=ys}return{start:u,stop:p,isActive:c}}const tI=n=>st(n,"DROP_COMPLETE")||st(n,"DROP_ANIMATE")||st(n,"FLUSH"),nI=n=>{const e=eI({onWindowScroll:i=>{n.dispatch(kC({newScroll:i}))}});return i=>s=>{!e.isActive()&&st(s,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&tI(s)&&e.stop(),i(s)}};var iI=n=>{let e=!1,i=!1;const s=setTimeout(()=>{i=!0}),o=c=>{e||i||(e=!0,n(c),clearTimeout(s))};return o.wasCalled=()=>e,o},rI=()=>{const n=[],e=o=>{const c=n.findIndex(p=>p.timerId===o);c===-1&&de();const[u]=n.splice(c,1);u.callback()};return{add:o=>{const c=setTimeout(()=>e(c)),u={timerId:c,callback:o};n.push(u)},flush:()=>{if(!n.length)return;const o=[...n];n.length=0,o.forEach(c=>{clearTimeout(c.timerId),c.callback()})}}};const sI=(n,e)=>n==null&&e==null?!0:n==null||e==null?!1:n.droppableId===e.droppableId&&n.index===e.index,aI=(n,e)=>n==null&&e==null?!0:n==null||e==null?!1:n.draggableId===e.draggableId&&n.droppableId===e.droppableId,oI=(n,e)=>{if(n===e)return!0;const i=n.draggable.id===e.draggable.id&&n.draggable.droppableId===e.draggable.droppableId&&n.draggable.type===e.draggable.type&&n.draggable.index===e.draggable.index,s=n.droppable.id===e.droppable.id&&n.droppable.type===e.droppable.type;return i&&s},tc=(n,e)=>{e()},fd=(n,e)=>({draggableId:n.draggable.id,type:n.droppable.type,source:{droppableId:n.droppable.id,index:n.draggable.index},mode:e});function qp(n,e,i,s){if(!n){i(s(e));return}const o=iI(i);n(e,{announce:o}),o.wasCalled()||i(s(e))}var lI=(n,e)=>{const i=rI();let s=null;const o=(y,T)=>{s&&de(),tc("onBeforeCapture",()=>{const w=n().onBeforeCapture;w&&w({draggableId:y,mode:T})})},c=(y,T)=>{s&&de(),tc("onBeforeDragStart",()=>{const w=n().onBeforeDragStart;w&&w(fd(y,T))})},u=(y,T)=>{s&&de();const w=fd(y,T);s={mode:T,lastCritical:y,lastLocation:w.source,lastCombine:null},i.add(()=>{tc("onDragStart",()=>qp(n().onDragStart,w,e,Sd.onDragStart))})},p=(y,T)=>{const w=Km(T),C=hh(T);s||de();const k=!oI(y,s.lastCritical);k&&(s.lastCritical=y);const L=!sI(s.lastLocation,w);L&&(s.lastLocation=w);const K=!aI(s.lastCombine,C);if(K&&(s.lastCombine=C),!k&&!L&&!K)return;const W={...fd(y,s.mode),combine:C,destination:w};i.add(()=>{tc("onDragUpdate",()=>qp(n().onDragUpdate,W,e,Sd.onDragUpdate))})},m=()=>{s||de(),i.flush()},g=y=>{s||de(),s=null,tc("onDragEnd",()=>qp(n().onDragEnd,y,e,Sd.onDragEnd))};return{beforeCapture:o,beforeStart:c,start:u,update:p,flush:m,drop:g,abort:()=>{if(!s)return;const y={...fd(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};g(y)}}},cI=(n,e)=>{const i=lI(n,e);return s=>o=>c=>{if(st(c,"BEFORE_INITIAL_CAPTURE")){i.beforeCapture(c.payload.draggableId,c.payload.movementMode);return}if(st(c,"INITIAL_PUBLISH")){const p=c.payload.critical;i.beforeStart(p,c.payload.movementMode),o(c),i.start(p,c.payload.movementMode);return}if(st(c,"DROP_COMPLETE")){const p=c.payload.completed.result;i.flush(),o(c),i.drop(p);return}if(o(c),st(c,"FLUSH")){i.abort();return}const u=s.getState();u.phase==="DRAGGING"&&i.update(u.critical,u.impact)}};const uI=n=>e=>i=>{if(!st(i,"DROP_ANIMATION_FINISHED")){e(i);return}const s=n.getState();s.phase!=="DROP_ANIMATING"&&de(),n.dispatch(ng({completed:s.completed}))},dI=n=>{let e=null,i=null;function s(){i&&(cancelAnimationFrame(i),i=null),e&&(e(),e=null)}return o=>c=>{if((st(c,"FLUSH")||st(c,"DROP_COMPLETE")||st(c,"DROP_ANIMATION_FINISHED"))&&s(),o(c),!st(c,"DROP_ANIMATE"))return;const u={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){n.getState().phase==="DROP_ANIMATING"&&n.dispatch(RT())}};i=requestAnimationFrame(()=>{i=null,e=ci(window,[u])})}};var hI=n=>()=>e=>i=>{(st(i,"DROP_COMPLETE")||st(i,"FLUSH")||st(i,"DROP_ANIMATE"))&&n.stopPublishing(),e(i)},fI=n=>{let e=!1;return()=>i=>s=>{if(st(s,"INITIAL_PUBLISH")){e=!0,n.tryRecordFocus(s.payload.critical.draggable.id),i(s),n.tryRestoreFocusRecorded();return}if(i(s),!!e){if(st(s,"FLUSH")){e=!1,n.tryRestoreFocusRecorded();return}if(st(s,"DROP_COMPLETE")){e=!1;const o=s.payload.completed.result;o.combine&&n.tryShiftRecord(o.draggableId,o.combine.draggableId),n.tryRestoreFocusRecorded()}}}};const pI=n=>st(n,"DROP_COMPLETE")||st(n,"DROP_ANIMATE")||st(n,"FLUSH");var mI=n=>e=>i=>s=>{if(pI(s)){n.stop(),i(s);return}if(st(s,"INITIAL_PUBLISH")){i(s);const o=e.getState();o.phase!=="DRAGGING"&&de(),n.start(o);return}i(s),n.scroll(e.getState())};const gI=n=>e=>i=>{if(e(i),!st(i,"PUBLISH_WHILE_DRAGGING"))return;const s=n.getState();s.phase==="DROP_PENDING"&&(s.isWaiting||n.dispatch(xT({reason:s.reason})))},yI=$E;var vI=({dimensionMarshal:n,focusMarshal:e,styleMarshal:i,getResponders:s,announce:o,autoScroller:c})=>FE(CC,yI(mx($C(i),hI(n),FC(n),JC,uI,dI,gI,mI(c),nI,fI(e),cI(s,o))));const Fp=()=>({additions:{},removals:{},modified:{}});function _I({registry:n,callbacks:e}){let i=Fp(),s=null;const o=()=>{s||(e.collectionStarting(),s=requestAnimationFrame(()=>{s=null;const{additions:m,removals:g,modified:_}=i,y=Object.keys(m).map(C=>n.draggable.getById(C).getDimension(Jt)).sort((C,k)=>C.descriptor.index-k.descriptor.index),T=Object.keys(_).map(C=>{const L=n.droppable.getById(C).callbacks.getScrollWhileDragging();return{droppableId:C,scroll:L}}),w={additions:y,removals:Object.keys(g),modified:T};i=Fp(),e.publish(w)}))};return{add:m=>{const g=m.descriptor.id;i.additions[g]=m,i.modified[m.descriptor.droppableId]=!0,i.removals[g]&&delete i.removals[g],o()},remove:m=>{const g=m.descriptor;i.removals[g.id]=!0,i.modified[g.droppableId]=!0,i.additions[g.id]&&delete i.additions[g.id],o()},stop:()=>{s&&(cancelAnimationFrame(s),s=null,i=Fp())}}}var NT=({scrollHeight:n,scrollWidth:e,height:i,width:s})=>{const o=Gn({x:e,y:n},{x:s,y:i});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},OT=()=>{const n=document.documentElement;return n||de(),n},MT=()=>{const n=OT();return NT({scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,width:n.clientWidth,height:n.clientHeight})},bI=()=>{const n=DT(),e=MT(),i=n.y,s=n.x,o=OT(),c=o.clientWidth,u=o.clientHeight,p=s+c,m=i+u;return{frame:Ai({top:i,left:s,right:p,bottom:m}),scroll:{initial:n,current:n,max:e,diff:{value:Jt,displacement:Jt}}}},EI=({critical:n,scrollOptions:e,registry:i})=>{const s=bI(),o=s.scroll.current,c=n.droppable,u=i.droppable.getAllByType(c.type).map(_=>_.callbacks.getDimensionAndWatchScroll(o,e)),p=i.draggable.getAllByType(n.draggable.type).map(_=>_.getDimension(o));return{dimensions:{draggables:oT(p),droppables:aT(u)},critical:n,viewport:s}};function Jb(n,e,i){return!(i.descriptor.id===e.id||i.descriptor.type!==e.type||n.droppable.getById(i.descriptor.droppableId).descriptor.mode!=="virtual")}var TI=(n,e)=>{let i=null;const s=_I({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:n}),o=(T,w)=>{n.droppable.exists(T)||de(),i&&e.updateDroppableIsEnabled({id:T,isEnabled:w})},c=(T,w)=>{i&&(n.droppable.exists(T)||de(),e.updateDroppableIsCombineEnabled({id:T,isCombineEnabled:w}))},u=(T,w)=>{i&&(n.droppable.exists(T)||de(),e.updateDroppableScroll({id:T,newScroll:w}))},p=(T,w)=>{i&&n.droppable.getById(T).callbacks.scroll(w)},m=()=>{if(!i)return;s.stop();const T=i.critical.droppable;n.droppable.getAllByType(T.type).forEach(w=>w.callbacks.dragStopped()),i.unsubscribe(),i=null},g=T=>{i||de();const w=i.critical.draggable;T.type==="ADDITION"&&Jb(n,w,T.value)&&s.add(T.value),T.type==="REMOVAL"&&Jb(n,w,T.value)&&s.remove(T.value)};return{updateDroppableIsEnabled:o,updateDroppableIsCombineEnabled:c,scrollDroppable:p,updateDroppableScroll:u,startPublishing:T=>{i&&de();const w=n.draggable.getById(T.draggableId),C=n.droppable.getById(w.descriptor.droppableId),k={draggable:w.descriptor,droppable:C.descriptor},L=n.subscribe(g);return i={critical:k,unsubscribe:L},EI({critical:k,registry:n,scrollOptions:T.scrollOptions})},stopPublishing:m}},PT=(n,e)=>n.phase==="IDLE"?!0:n.phase!=="DROP_ANIMATING"||n.completed.result.draggableId===e?!1:n.completed.result.reason==="DROP",SI=n=>{window.scrollBy(n.x,n.y)};const AI=Wt(n=>dh(n).filter(e=>!(!e.isEnabled||!e.frame))),wI=(n,e)=>AI(e).find(s=>(s.frame||de(),yT(s.frame.pageMarginBox)(n)))||null;var xI=({center:n,destination:e,droppables:i})=>{if(e){const o=i[e];return o.frame?o:null}return wI(n,i)};const Tc={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:n=>n**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var RI=(n,e,i=()=>Tc)=>{const s=i(),o=n[e.size]*s.startFromPercentage,c=n[e.size]*s.maxScrollAtPercentage;return{startScrollingFrom:o,maxScrollValueAt:c}},VT=({startOfRange:n,endOfRange:e,current:i})=>{const s=e-n;return s===0?0:(i-n)/s},rg=1,CI=(n,e,i=()=>Tc)=>{const s=i();if(n>e.startScrollingFrom)return 0;if(n<=e.maxScrollValueAt)return s.maxPixelScroll;if(n===e.startScrollingFrom)return rg;const c=1-VT({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:n}),u=s.maxPixelScroll*s.ease(c);return Math.ceil(u)},II=(n,e,i)=>{const s=i(),o=s.durationDampening.accelerateAt,c=s.durationDampening.stopDampeningAt,u=e,p=c,g=Date.now()-u;if(g>=c)return n;if(g<o)return rg;const _=VT({startOfRange:o,endOfRange:p,current:g}),y=n*s.ease(_);return Math.ceil(y)},Zb=({distanceToEdge:n,thresholds:e,dragStartTime:i,shouldUseTimeDampening:s,getAutoScrollerOptions:o})=>{const c=CI(n,e,o);return c===0?0:s?Math.max(II(c,i,o),rg):c},e0=({container:n,distanceToEdges:e,dragStartTime:i,axis:s,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const u=RI(n,s,c);return e[s.end]<e[s.start]?Zb({distanceToEdge:e[s.end],thresholds:u,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:c}):-1*Zb({distanceToEdge:e[s.start],thresholds:u,dragStartTime:i,shouldUseTimeDampening:o,getAutoScrollerOptions:c})},DI=({container:n,subject:e,proposedScroll:i})=>{const s=e.height>n.height,o=e.width>n.width;return!o&&!s?i:o&&s?null:{x:o?0:i.x,y:s?0:i.y}};const NI=sT(n=>n===0?0:n);var LT=({dragStartTime:n,container:e,subject:i,center:s,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const u={top:s.y-e.top,right:e.right-s.x,bottom:e.bottom-s.y,left:s.x-e.left},p=e0({container:e,distanceToEdges:u,dragStartTime:n,axis:Qm,shouldUseTimeDampening:o,getAutoScrollerOptions:c}),m=e0({container:e,distanceToEdges:u,dragStartTime:n,axis:uT,shouldUseTimeDampening:o,getAutoScrollerOptions:c}),g=NI({x:m,y:p});if(vs(g,Jt))return null;const _=DI({container:e,subject:i,proposedScroll:g});return _?vs(_,Jt)?null:_:null};const OI=sT(n=>n===0?0:n>0?1:-1),sg=(()=>{const n=(e,i)=>e<0?e:e>i?e-i:0;return({current:e,max:i,change:s})=>{const o=ln(e,s),c={x:n(o.x,i.x),y:n(o.y,i.y)};return vs(c,Jt)?null:c}})(),kT=({max:n,current:e,change:i})=>{const s={x:Math.max(e.x,n.x),y:Math.max(e.y,n.y)},o=OI(i),c=sg({max:s,current:e,change:o});return!c||o.x!==0&&c.x===0||o.y!==0&&c.y===0},ag=(n,e)=>kT({current:n.scroll.current,max:n.scroll.max,change:e}),MI=(n,e)=>{if(!ag(n,e))return null;const i=n.scroll.max,s=n.scroll.current;return sg({current:s,max:i,change:e})},og=(n,e)=>{const i=n.frame;return i?kT({current:i.scroll.current,max:i.scroll.max,change:e}):!1},PI=(n,e)=>{const i=n.frame;return!i||!og(n,e)?null:sg({current:i.scroll.current,max:i.scroll.max,change:e})};var VI=({viewport:n,subject:e,center:i,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const u=LT({dragStartTime:s,container:n.frame,subject:e,center:i,shouldUseTimeDampening:o,getAutoScrollerOptions:c});return u&&ag(n,u)?u:null},LI=({droppable:n,subject:e,center:i,dragStartTime:s,shouldUseTimeDampening:o,getAutoScrollerOptions:c})=>{const u=n.frame;if(!u)return null;const p=LT({dragStartTime:s,container:u.pageMarginBox,subject:e,center:i,shouldUseTimeDampening:o,getAutoScrollerOptions:c});return p&&og(n,p)?p:null},t0=({state:n,dragStartTime:e,shouldUseTimeDampening:i,scrollWindow:s,scrollDroppable:o,getAutoScrollerOptions:c})=>{const u=n.current.page.borderBoxCenter,m=n.dimensions.draggables[n.critical.draggable.id].page.marginBox;if(n.isWindowScrollAllowed){const y=n.viewport,T=VI({dragStartTime:e,viewport:y,subject:m,center:u,shouldUseTimeDampening:i,getAutoScrollerOptions:c});if(T){s(T);return}}const g=xI({center:u,destination:Hn(n.impact),droppables:n.dimensions.droppables});if(!g)return;const _=LI({dragStartTime:e,droppable:g,subject:m,center:u,shouldUseTimeDampening:i,getAutoScrollerOptions:c});_&&o(g.descriptor.id,_)},kI=({scrollWindow:n,scrollDroppable:e,getAutoScrollerOptions:i=()=>Tc})=>{const s=yc(n),o=yc(e);let c=null;const u=g=>{c||de();const{shouldUseTimeDampening:_,dragStartTime:y}=c;t0({state:g,scrollWindow:s,scrollDroppable:o,dragStartTime:y,shouldUseTimeDampening:_,getAutoScrollerOptions:i})};return{start:g=>{c&&de();const _=Date.now();let y=!1;const T=()=>{y=!0};t0({state:g,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:T,scrollDroppable:T,getAutoScrollerOptions:i}),c={dragStartTime:_,shouldUseTimeDampening:y},y&&u(g)},stop:()=>{c&&(s.cancel(),o.cancel(),c=null)},scroll:u}},jI=({move:n,scrollDroppable:e,scrollWindow:i})=>{const s=(p,m)=>{const g=ln(p.current.client.selection,m);n({client:g})},o=(p,m)=>{if(!og(p,m))return m;const g=PI(p,m);if(!g)return e(p.descriptor.id,m),null;const _=Gn(m,g);return e(p.descriptor.id,_),Gn(m,_)},c=(p,m,g)=>{if(!p||!ag(m,g))return g;const _=MI(m,g);if(!_)return i(g),null;const y=Gn(g,_);return i(y),Gn(g,y)};return p=>{const m=p.scrollJumpRequest;if(!m)return;const g=Hn(p.impact);g||de();const _=o(p.dimensions.droppables[g],m);if(!_)return;const y=p.viewport,T=c(p.isWindowScrollAllowed,y,_);T&&s(p,T)}},UI=({scrollDroppable:n,scrollWindow:e,move:i,getAutoScrollerOptions:s})=>{const o=kI({scrollWindow:e,scrollDroppable:n,getAutoScrollerOptions:s}),c=jI({move:i,scrollWindow:e,scrollDroppable:n});return{scroll:m=>{if(!(s().disabled||m.phase!=="DRAGGING")){if(m.movementMode==="FLUID"){o.scroll(m);return}m.scrollJumpRequest&&c(m)}},start:o.start,stop:o.stop}};const Oo="data-rfd",Mo=(()=>{const n=`${Oo}-drag-handle`;return{base:n,draggableId:`${n}-draggable-id`,contextId:`${n}-context-id`}})(),mm=(()=>{const n=`${Oo}-draggable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),BI=(()=>{const n=`${Oo}-droppable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),n0={contextId:`${Oo}-scroll-container-context-id`},zI=n=>e=>`[${e}="${n}"]`,nc=(n,e)=>n.map(i=>{const s=i.styles[e];return s?`${i.selector} { ${s} }`:""}).join(" "),GI="pointer-events: none;";var HI=n=>{const e=zI(n),i=(()=>{const p=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(Mo.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:p,dragging:GI,dropAnimating:p}}})(),s=(()=>{const p=`
      transition: ${uc.outOfTheWay};
    `;return{selector:e(mm.contextId),styles:{dragging:p,dropAnimating:p,userCancel:p}}})(),o={selector:e(BI.contextId),styles:{always:"overflow-anchor: none;"}},u=[s,i,o,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:nc(u,"always"),resting:nc(u,"resting"),dragging:nc(u,"dragging"),dropAnimating:nc(u,"dropAnimating"),userCancel:nc(u,"userCancel")}};const qn=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?F.useLayoutEffect:F.useEffect,$p=()=>{const n=document.querySelector("head");return n||de(),n},i0=n=>{const e=document.createElement("style");return n&&e.setAttribute("nonce",n),e.type="text/css",e};function qI(n,e){const i=Ze(()=>HI(n),[n]),s=F.useRef(null),o=F.useRef(null),c=Ae(Wt(y=>{const T=o.current;T||de(),T.textContent=y}),[]),u=Ae(y=>{const T=s.current;T||de(),T.textContent=y},[]);qn(()=>{!s.current&&!o.current||de();const y=i0(e),T=i0(e);return s.current=y,o.current=T,y.setAttribute(`${Oo}-always`,n),T.setAttribute(`${Oo}-dynamic`,n),$p().appendChild(y),$p().appendChild(T),u(i.always),c(i.resting),()=>{const w=C=>{const k=C.current;k||de(),$p().removeChild(k),C.current=null};w(s),w(o)}},[e,u,c,i.always,i.resting,n]);const p=Ae(()=>c(i.dragging),[c,i.dragging]),m=Ae(y=>{if(y==="DROP"){c(i.dropAnimating);return}c(i.userCancel)},[c,i.dropAnimating,i.userCancel]),g=Ae(()=>{o.current&&c(i.resting)},[c,i.resting]);return Ze(()=>({dragging:p,dropping:m,resting:g}),[p,m,g])}function jT(n,e){return Array.from(n.querySelectorAll(e))}var UT=n=>n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView:window;function mh(n){return n instanceof UT(n).HTMLElement}function FI(n,e){const i=`[${Mo.contextId}="${n}"]`,s=jT(document,i);if(!s.length)return null;const o=s.find(c=>c.getAttribute(Mo.draggableId)===e);return!o||!mh(o)?null:o}function $I(n){const e=F.useRef({}),i=F.useRef(null),s=F.useRef(null),o=F.useRef(!1),c=Ae(function(T,w){const C={id:T,focus:w};return e.current[T]=C,function(){const L=e.current;L[T]!==C&&delete L[T]}},[]),u=Ae(function(T){const w=FI(n,T);w&&w!==document.activeElement&&w.focus()},[n]),p=Ae(function(T,w){i.current===T&&(i.current=w)},[]),m=Ae(function(){s.current||o.current&&(s.current=requestAnimationFrame(()=>{s.current=null;const T=i.current;T&&u(T)}))},[u]),g=Ae(function(T){i.current=null;const w=document.activeElement;w&&w.getAttribute(Mo.draggableId)===T&&(i.current=T)},[]);return qn(()=>(o.current=!0,function(){o.current=!1;const T=s.current;T&&cancelAnimationFrame(T)}),[]),Ze(()=>({register:c,tryRecordFocus:g,tryRestoreFocusRecorded:m,tryShiftRecord:p}),[c,g,m,p])}function YI(){const n={draggables:{},droppables:{}},e=[];function i(y){return e.push(y),function(){const w=e.indexOf(y);w!==-1&&e.splice(w,1)}}function s(y){e.length&&e.forEach(T=>T(y))}function o(y){return n.draggables[y]||null}function c(y){const T=o(y);return T||de(),T}const u={register:y=>{n.draggables[y.descriptor.id]=y,s({type:"ADDITION",value:y})},update:(y,T)=>{const w=n.draggables[T.descriptor.id];w&&w.uniqueId===y.uniqueId&&(delete n.draggables[T.descriptor.id],n.draggables[y.descriptor.id]=y)},unregister:y=>{const T=y.descriptor.id,w=o(T);w&&y.uniqueId===w.uniqueId&&(delete n.draggables[T],n.droppables[y.descriptor.droppableId]&&s({type:"REMOVAL",value:y}))},getById:c,findById:o,exists:y=>!!o(y),getAllByType:y=>Object.values(n.draggables).filter(T=>T.descriptor.type===y)};function p(y){return n.droppables[y]||null}function m(y){const T=p(y);return T||de(),T}const g={register:y=>{n.droppables[y.descriptor.id]=y},unregister:y=>{const T=p(y.descriptor.id);T&&y.uniqueId===T.uniqueId&&delete n.droppables[y.descriptor.id]},getById:m,findById:p,exists:y=>!!p(y),getAllByType:y=>Object.values(n.droppables).filter(T=>T.descriptor.type===y)};function _(){n.draggables={},n.droppables={},e.length=0}return{draggable:u,droppable:g,subscribe:i,clean:_}}function XI(){const n=Ze(YI,[]);return F.useEffect(()=>function(){n.clean()},[n]),n}var lg=Ot.createContext(null),zd=()=>{const n=document.body;return n||de(),n};const KI={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},QI=n=>`rfd-announcement-${n}`;function WI(n){const e=Ze(()=>QI(n),[n]),i=F.useRef(null);return F.useEffect(function(){const c=document.createElement("div");return i.current=c,c.id=e,c.setAttribute("aria-live","assertive"),c.setAttribute("aria-atomic","true"),kd(c.style,KI),zd().appendChild(c),function(){setTimeout(function(){const m=zd();m.contains(c)&&m.removeChild(c),c===i.current&&(i.current=null)})}},[e]),Ae(o=>{const c=i.current;if(c){c.textContent=o;return}},[])}const JI={separator:"::"};function cg(n,e=JI){const i=Ot.useId();return Ze(()=>`${n}${e.separator}${i}`,[e.separator,n,i])}function ZI({contextId:n,uniqueId:e}){return`rfd-hidden-text-${n}-${e}`}function e2({contextId:n,text:e}){const i=cg("hidden-text",{separator:"-"}),s=Ze(()=>ZI({contextId:n,uniqueId:i}),[i,n]);return F.useEffect(function(){const c=document.createElement("div");return c.id=s,c.textContent=e,c.style.display="none",zd().appendChild(c),function(){const p=zd();p.contains(c)&&p.removeChild(c)}},[s,e]),s}var gh=Ot.createContext(null);function BT(n){const e=F.useRef(n);return F.useEffect(()=>{e.current=n}),e}function t2(){let n=null;function e(){return!!n}function i(u){return u===n}function s(u){n&&de();const p={abandon:u};return n=p,p}function o(){n||de(),n=null}function c(){n&&(n.abandon(),o())}return{isClaimed:e,isActive:i,claim:s,release:o,tryAbandon:c}}function Sc(n){return n.phase==="IDLE"||n.phase==="DROP_ANIMATING"?!1:n.isDragging}const n2=9,i2=13,ug=27,zT=32,r2=33,s2=34,a2=35,o2=36,l2=37,c2=38,u2=39,d2=40,h2={[i2]:!0,[n2]:!0};var GT=n=>{h2[n.keyCode]&&n.preventDefault()};const yh=(()=>{const n="visibilitychange";return typeof document>"u"?n:[n,`ms${n}`,`webkit${n}`,`moz${n}`,`o${n}`].find(s=>`on${s}`in document)||n})(),HT=0,r0=5;function f2(n,e){return Math.abs(e.x-n.x)>=r0||Math.abs(e.y-n.y)>=r0}const s0={type:"IDLE"};function p2({cancel:n,completed:e,getPhase:i,setPhase:s}){return[{eventName:"mousemove",fn:o=>{const{button:c,clientX:u,clientY:p}=o;if(c!==HT)return;const m={x:u,y:p},g=i();if(g.type==="DRAGGING"){o.preventDefault(),g.actions.move(m);return}g.type!=="PENDING"&&de();const _=g.point;if(!f2(_,m))return;o.preventDefault();const y=g.actions.fluidLift(m);s({type:"DRAGGING",actions:y})}},{eventName:"mouseup",fn:o=>{const c=i();if(c.type!=="DRAGGING"){n();return}o.preventDefault(),c.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"mousedown",fn:o=>{i().type==="DRAGGING"&&o.preventDefault(),n()}},{eventName:"keydown",fn:o=>{if(i().type==="PENDING"){n();return}if(o.keyCode===ug){o.preventDefault(),n();return}GT(o)}},{eventName:"resize",fn:n},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{i().type==="PENDING"&&n()}},{eventName:"webkitmouseforcedown",fn:o=>{const c=i();if(c.type==="IDLE"&&de(),c.actions.shouldRespectForcePress()){n();return}o.preventDefault()}},{eventName:yh,fn:n}]}function m2(n){const e=F.useRef(s0),i=F.useRef(ys),s=Ze(()=>({eventName:"mousedown",fn:function(y){if(y.defaultPrevented||y.button!==HT||y.ctrlKey||y.metaKey||y.shiftKey||y.altKey)return;const T=n.findClosestDraggableId(y);if(!T)return;const w=n.tryGetLock(T,u,{sourceEvent:y});if(!w)return;y.preventDefault();const C={x:y.clientX,y:y.clientY};i.current(),g(w,C)}}),[n]),o=Ze(()=>({eventName:"webkitmouseforcewillbegin",fn:_=>{if(_.defaultPrevented)return;const y=n.findClosestDraggableId(_);if(!y)return;const T=n.findOptionsForDraggable(y);T&&(T.shouldRespectForcePress||n.canGetLock(y)&&_.preventDefault())}}),[n]),c=Ae(function(){const y={passive:!1,capture:!0};i.current=ci(window,[o,s],y)},[o,s]),u=Ae(()=>{e.current.type!=="IDLE"&&(e.current=s0,i.current(),c())},[c]),p=Ae(()=>{const _=e.current;u(),_.type==="DRAGGING"&&_.actions.cancel({shouldBlockNextClick:!0}),_.type==="PENDING"&&_.actions.abort()},[u]),m=Ae(function(){const y={capture:!0,passive:!1},T=p2({cancel:p,completed:u,getPhase:()=>e.current,setPhase:w=>{e.current=w}});i.current=ci(window,T,y)},[p,u]),g=Ae(function(y,T){e.current.type!=="IDLE"&&de(),e.current={type:"PENDING",point:T,actions:y},m()},[m]);qn(function(){return c(),function(){i.current()}},[c])}function g2(){}const y2={[s2]:!0,[r2]:!0,[o2]:!0,[a2]:!0};function v2(n,e){function i(){e(),n.cancel()}function s(){e(),n.drop()}return[{eventName:"keydown",fn:o=>{if(o.keyCode===ug){o.preventDefault(),i();return}if(o.keyCode===zT){o.preventDefault(),s();return}if(o.keyCode===d2){o.preventDefault(),n.moveDown();return}if(o.keyCode===c2){o.preventDefault(),n.moveUp();return}if(o.keyCode===u2){o.preventDefault(),n.moveRight();return}if(o.keyCode===l2){o.preventDefault(),n.moveLeft();return}if(y2[o.keyCode]){o.preventDefault();return}GT(o)}},{eventName:"mousedown",fn:i},{eventName:"mouseup",fn:i},{eventName:"click",fn:i},{eventName:"touchstart",fn:i},{eventName:"resize",fn:i},{eventName:"wheel",fn:i,options:{passive:!0}},{eventName:yh,fn:i}]}function _2(n){const e=F.useRef(g2),i=Ze(()=>({eventName:"keydown",fn:function(c){if(c.defaultPrevented||c.keyCode!==zT)return;const u=n.findClosestDraggableId(c);if(!u)return;const p=n.tryGetLock(u,_,{sourceEvent:c});if(!p)return;c.preventDefault();let m=!0;const g=p.snapLift();e.current();function _(){m||de(),m=!1,e.current(),s()}e.current=ci(window,v2(g,_),{capture:!0,passive:!1})}}),[n]),s=Ae(function(){const c={passive:!1,capture:!0};e.current=ci(window,[i],c)},[i]);qn(function(){return s(),function(){e.current()}},[s])}const Yp={type:"IDLE"},b2=120,E2=.15;function T2({cancel:n,getPhase:e}){return[{eventName:"orientationchange",fn:n},{eventName:"resize",fn:n},{eventName:"contextmenu",fn:i=>{i.preventDefault()}},{eventName:"keydown",fn:i=>{if(e().type!=="DRAGGING"){n();return}i.keyCode===ug&&i.preventDefault(),n()}},{eventName:yh,fn:n}]}function S2({cancel:n,completed:e,getPhase:i}){return[{eventName:"touchmove",options:{capture:!1},fn:s=>{const o=i();if(o.type!=="DRAGGING"){n();return}o.hasMoved=!0;const{clientX:c,clientY:u}=s.touches[0],p={x:c,y:u};s.preventDefault(),o.actions.move(p)}},{eventName:"touchend",fn:s=>{const o=i();if(o.type!=="DRAGGING"){n();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),e()}},{eventName:"touchcancel",fn:s=>{if(i().type!=="DRAGGING"){n();return}s.preventDefault(),n()}},{eventName:"touchforcechange",fn:s=>{const o=i();o.type==="IDLE"&&de();const c=s.touches[0];if(!c||!(c.force>=E2))return;const p=o.actions.shouldRespectForcePress();if(o.type==="PENDING"){p&&n();return}if(p){if(o.hasMoved){s.preventDefault();return}n();return}s.preventDefault()}},{eventName:yh,fn:n}]}function A2(n){const e=F.useRef(Yp),i=F.useRef(ys),s=Ae(function(){return e.current},[]),o=Ae(function(w){e.current=w},[]),c=Ze(()=>({eventName:"touchstart",fn:function(w){if(w.defaultPrevented)return;const C=n.findClosestDraggableId(w);if(!C)return;const k=n.tryGetLock(C,p,{sourceEvent:w});if(!k)return;const L=w.touches[0],{clientX:K,clientY:W}=L,ie={x:K,y:W};i.current(),y(k,ie)}}),[n]),u=Ae(function(){const w={capture:!0,passive:!1};i.current=ci(window,[c],w)},[c]),p=Ae(()=>{const T=e.current;T.type!=="IDLE"&&(T.type==="PENDING"&&clearTimeout(T.longPressTimerId),o(Yp),i.current(),u())},[u,o]),m=Ae(()=>{const T=e.current;p(),T.type==="DRAGGING"&&T.actions.cancel({shouldBlockNextClick:!0}),T.type==="PENDING"&&T.actions.abort()},[p]),g=Ae(function(){const w={capture:!0,passive:!1},C={cancel:m,completed:p,getPhase:s},k=ci(window,S2(C),w),L=ci(window,T2(C),w);i.current=function(){k(),L()}},[m,s,p]),_=Ae(function(){const w=s();w.type!=="PENDING"&&de();const C=w.actions.fluidLift(w.point);o({type:"DRAGGING",actions:C,hasMoved:!1})},[s,o]),y=Ae(function(w,C){s().type!=="IDLE"&&de();const k=setTimeout(_,b2);o({type:"PENDING",point:C,actions:w,longPressTimerId:k}),g()},[g,s,o,_]);qn(function(){return u(),function(){i.current();const C=s();C.type==="PENDING"&&(clearTimeout(C.longPressTimerId),o(Yp))}},[s,u,o]),qn(function(){return ci(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const w2=["input","button","textarea","select","option","optgroup","video","audio"];function qT(n,e){if(e==null)return!1;if(w2.includes(e.tagName.toLowerCase()))return!0;const s=e.getAttribute("contenteditable");return s==="true"||s===""?!0:e===n?!1:qT(n,e.parentElement)}function x2(n,e){const i=e.target;return mh(i)?qT(n,i):!1}var R2=n=>Ai(n.getBoundingClientRect()).center;function C2(n){return n instanceof UT(n).Element}const I2=(()=>{const n="matches";return typeof document>"u"?n:[n,"msMatchesSelector","webkitMatchesSelector"].find(s=>s in Element.prototype)||n})();function FT(n,e){return n==null?null:n[I2](e)?n:FT(n.parentElement,e)}function D2(n,e){return n.closest?n.closest(e):FT(n,e)}function N2(n){return`[${Mo.contextId}="${n}"]`}function O2(n,e){const i=e.target;if(!C2(i))return null;const s=N2(n),o=D2(i,s);return!o||!mh(o)?null:o}function M2(n,e){const i=O2(n,e);return i?i.getAttribute(Mo.draggableId):null}function P2(n,e){const i=`[${mm.contextId}="${n}"]`,o=jT(document,i).find(c=>c.getAttribute(mm.id)===e);return!o||!mh(o)?null:o}function V2(n){n.preventDefault()}function pd({expected:n,phase:e,isLockActive:i,shouldWarn:s}){return!(!i()||n!==e)}function $T({lockAPI:n,store:e,registry:i,draggableId:s}){if(n.isClaimed())return!1;const o=i.draggable.findById(s);return!(!o||!o.options.isEnabled||!PT(e.getState(),s))}function L2({lockAPI:n,contextId:e,store:i,registry:s,draggableId:o,forceSensorStop:c,sourceEvent:u}){if(!$T({lockAPI:n,store:i,registry:s,draggableId:o}))return null;const m=s.draggable.getById(o),g=P2(e,m.descriptor.id);if(!g||u&&!m.options.canDragInteractiveElements&&x2(g,u))return null;const _=n.claim(c||ys);let y="PRE_DRAG";function T(){return m.options.shouldRespectForcePress}function w(){return n.isActive(_)}function C(le,ce){pd({expected:le,phase:y,isLockActive:w,shouldWarn:!0})&&i.dispatch(ce())}const k=C.bind(null,"DRAGGING");function L(le){function ce(){n.release(),y="COMPLETED"}y!=="PRE_DRAG"&&(ce(),de()),i.dispatch(DC(le.liftActionArgs)),y="DRAGGING";function I(R,D={shouldBlockNextClick:!1}){if(le.cleanup(),D.shouldBlockNextClick){const V=ci(window,[{eventName:"click",fn:V2,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(V)}ce(),i.dispatch(xT({reason:R}))}return{isActive:()=>pd({expected:"DRAGGING",phase:y,isLockActive:w,shouldWarn:!1}),shouldRespectForcePress:T,drop:R=>I("DROP",R),cancel:R=>I("CANCEL",R),...le.actions}}function K(le){const ce=yc(R=>{k(()=>wT({client:R}))});return{...L({liftActionArgs:{id:o,clientSelection:le,movementMode:"FLUID"},cleanup:()=>ce.cancel(),actions:{move:ce}}),move:ce}}function W(){const le={moveUp:()=>k(UC),moveRight:()=>k(zC),moveDown:()=>k(BC),moveLeft:()=>k(GC)};return L({liftActionArgs:{id:o,clientSelection:R2(g),movementMode:"SNAP"},cleanup:ys,actions:le})}function ie(){pd({expected:"PRE_DRAG",phase:y,isLockActive:w,shouldWarn:!0})&&n.release()}return{isActive:()=>pd({expected:"PRE_DRAG",phase:y,isLockActive:w,shouldWarn:!1}),shouldRespectForcePress:T,fluidLift:K,snapLift:W,abort:ie}}const k2=[m2,_2,A2];function j2({contextId:n,store:e,registry:i,customSensors:s,enableDefaultSensors:o}){const c=[...o?k2:[],...s||[]],u=F.useState(()=>t2())[0],p=Ae(function(L,K){Sc(L)&&!Sc(K)&&u.tryAbandon()},[u]);qn(function(){let L=e.getState();return e.subscribe(()=>{const W=e.getState();p(L,W),L=W})},[u,e,p]),qn(()=>u.tryAbandon,[u.tryAbandon]);const m=Ae(k=>$T({lockAPI:u,registry:i,store:e,draggableId:k}),[u,i,e]),g=Ae((k,L,K)=>L2({lockAPI:u,registry:i,contextId:n,store:e,draggableId:k,forceSensorStop:L||null,sourceEvent:K&&K.sourceEvent?K.sourceEvent:null}),[n,u,i,e]),_=Ae(k=>M2(n,k),[n]),y=Ae(k=>{const L=i.draggable.findById(k);return L?L.options:null},[i.draggable]),T=Ae(function(){u.isClaimed()&&(u.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch(tg()))},[u,e]),w=Ae(()=>u.isClaimed(),[u]),C=Ze(()=>({canGetLock:m,tryGetLock:g,findClosestDraggableId:_,findOptionsForDraggable:y,tryReleaseLock:T,isLockClaimed:w}),[m,g,_,y,T,w]);for(let k=0;k<c.length;k++)c[k](C)}const U2=n=>({onBeforeCapture:e=>{const i=()=>{n.onBeforeCapture&&n.onBeforeCapture(e)};Hm.flushSync(i)},onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragEnd:n.onDragEnd,onDragUpdate:n.onDragUpdate}),B2=n=>({...Tc,...n.autoScrollerOptions,durationDampening:{...Tc.durationDampening,...n.autoScrollerOptions}});function ic(n){return n.current||de(),n.current}function z2(n){const{contextId:e,setCallbacks:i,sensors:s,nonce:o,dragHandleUsageInstructions:c}=n,u=F.useRef(null),p=BT(n),m=Ae(()=>U2(p.current),[p]),g=Ae(()=>B2(p.current),[p]),_=WI(e),y=e2({contextId:e,text:c}),T=qI(e,o),w=Ae(V=>{ic(u).dispatch(V)},[]),C=Ze(()=>Nb({publishWhileDragging:OC,updateDroppableScroll:PC,updateDroppableIsEnabled:VC,updateDroppableIsCombineEnabled:LC,collectionStarting:MC},w),[w]),k=XI(),L=Ze(()=>TI(k,C),[k,C]),K=Ze(()=>UI({scrollWindow:SI,scrollDroppable:L.scrollDroppable,getAutoScrollerOptions:g,...Nb({move:wT},w)}),[L.scrollDroppable,w,g]),W=$I(e),ie=Ze(()=>vI({announce:_,autoScroller:K,dimensionMarshal:L,focusMarshal:W,getResponders:m,styleMarshal:T}),[_,K,L,W,m,T]);u.current=ie;const se=Ae(()=>{const V=ic(u);V.getState().phase!=="IDLE"&&V.dispatch(tg())},[]),le=Ae(()=>{const V=ic(u).getState();return V.phase==="DROP_ANIMATING"?!0:V.phase==="IDLE"?!1:V.isDragging},[]),ce=Ze(()=>({isDragging:le,tryAbort:se}),[le,se]);i(ce);const I=Ae(V=>PT(ic(u).getState(),V),[]),R=Ae(()=>fa(ic(u).getState()),[]),D=Ze(()=>({marshal:L,focus:W,contextId:e,canLift:I,isMovementAllowed:R,dragHandleUsageInstructionsId:y,registry:k}),[e,L,y,W,I,R,k]);return j2({contextId:e,store:ie,registry:k,customSensors:s||null,enableDefaultSensors:n.enableDefaultSensors!==!1}),F.useEffect(()=>se,[se]),Ot.createElement(gh.Provider,{value:D},Ot.createElement(hR,{context:lg,store:ie},n.children))}function G2(){return Ot.useId()}function YT(n){const e=G2(),i=n.dragHandleUsageInstructions||Sd.dragHandleUsageInstructions;return Ot.createElement(_R,null,s=>Ot.createElement(z2,{nonce:n.nonce,contextId:e,setCallbacks:s,dragHandleUsageInstructions:i,enableDefaultSensors:n.enableDefaultSensors,sensors:n.sensors,onBeforeCapture:n.onBeforeCapture,onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragUpdate:n.onDragUpdate,onDragEnd:n.onDragEnd,autoScrollerOptions:n.autoScrollerOptions},n.children))}const a0={dragging:5e3,dropAnimating:4500},H2=(n,e)=>e?uc.drop(e.duration):n?uc.snap:uc.fluid,q2=(n,e)=>{if(n)return e?Ec.opacity.drop:Ec.opacity.combining},F2=n=>n.forceShouldAnimate!=null?n.forceShouldAnimate:n.mode==="SNAP";function $2(n){const i=n.dimension.client,{offset:s,combineWith:o,dropping:c}=n,u=!!o,p=F2(n),m=!!c,g=m?fm.drop(s,u):fm.moveTo(s);return{position:"fixed",top:i.marginBox.top,left:i.marginBox.left,boxSizing:"border-box",width:i.borderBox.width,height:i.borderBox.height,transition:H2(p,c),transform:g,opacity:q2(u,m),zIndex:m?a0.dropAnimating:a0.dragging,pointerEvents:"none"}}function Y2(n){return{transform:fm.moveTo(n.offset),transition:n.shouldAnimateDisplacement?void 0:"none"}}function X2(n){return n.type==="DRAGGING"?$2(n):Y2(n)}function K2(n,e,i=Jt){const s=window.getComputedStyle(e),o=e.getBoundingClientRect(),c=ZE(o,s),u=Ld(c,i),p={client:c,tagName:e.tagName.toLowerCase(),display:s.display},m={x:c.marginBox.width,y:c.marginBox.height};return{descriptor:n,placeholder:p,displaceBy:m,client:c,page:u}}function Q2(n){const e=cg("draggable"),{descriptor:i,registry:s,getDraggableRef:o,canDragInteractiveElements:c,shouldRespectForcePress:u,isEnabled:p}=n,m=Ze(()=>({canDragInteractiveElements:c,shouldRespectForcePress:u,isEnabled:p}),[c,p,u]),g=Ae(w=>{const C=o();return C||de(),K2(i,C,w)},[i,o]),_=Ze(()=>({uniqueId:e,descriptor:i,options:m,getDimension:g}),[i,g,m,e]),y=F.useRef(_),T=F.useRef(!0);qn(()=>(s.draggable.register(y.current),()=>s.draggable.unregister(y.current)),[s.draggable]),qn(()=>{if(T.current){T.current=!1;return}const w=y.current;y.current=_,s.draggable.update(_,w)},[_,s.draggable])}var dg=Ot.createContext(null);function Gd(n){const e=F.useContext(n);return e||de(),e}function W2(n){n.preventDefault()}const J2=n=>{const e=F.useRef(null),i=Ae((ce=null)=>{e.current=ce},[]),s=Ae(()=>e.current,[]),{contextId:o,dragHandleUsageInstructionsId:c,registry:u}=Gd(gh),{type:p,droppableId:m}=Gd(dg),g=Ze(()=>({id:n.draggableId,index:n.index,type:p,droppableId:m}),[n.draggableId,n.index,p,m]),{children:_,draggableId:y,isEnabled:T,shouldRespectForcePress:w,canDragInteractiveElements:C,isClone:k,mapped:L,dropAnimationFinished:K}=n;if(!k){const ce=Ze(()=>({descriptor:g,registry:u,getDraggableRef:s,canDragInteractiveElements:C,shouldRespectForcePress:w,isEnabled:T}),[g,u,s,C,w,T]);Q2(ce)}const W=Ze(()=>T?{tabIndex:0,role:"button","aria-describedby":c,"data-rfd-drag-handle-draggable-id":y,"data-rfd-drag-handle-context-id":o,draggable:!1,onDragStart:W2}:null,[o,c,y,T]),ie=Ae(ce=>{L.type==="DRAGGING"&&L.dropping&&ce.propertyName==="transform"&&Hm.flushSync(K)},[K,L]),se=Ze(()=>{const ce=X2(L),I=L.type==="DRAGGING"&&L.dropping?ie:void 0;return{innerRef:i,draggableProps:{"data-rfd-draggable-context-id":o,"data-rfd-draggable-id":y,style:ce,onTransitionEnd:I},dragHandleProps:W}},[o,W,y,L,ie,i]),le=Ze(()=>({draggableId:g.id,type:g.type,source:{index:g.index,droppableId:g.droppableId}}),[g.droppableId,g.id,g.index,g.type]);return Ot.createElement(Ot.Fragment,null,_(se,L.snapshot,le))};var XT=(n,e)=>n===e,KT=n=>{const{combine:e,destination:i}=n;return i?i.droppableId:e?e.droppableId:null};const Z2=n=>n.combine?n.combine.draggableId:null,eD=n=>n.at&&n.at.type==="COMBINE"?n.at.combine.draggableId:null;function tD(){const n=Wt((o,c)=>({x:o,y:c})),e=Wt((o,c,u=null,p=null,m=null)=>({isDragging:!0,isClone:c,isDropAnimating:!!m,dropAnimation:m,mode:o,draggingOver:u,combineWith:p,combineTargetFor:null})),i=Wt((o,c,u,p,m=null,g=null,_=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:m,combineWith:g,mode:c,offset:o,dimension:u,forceShouldAnimate:_,snapshot:e(c,p,m,g,null)}}));return(o,c)=>{if(Sc(o)){if(o.critical.draggable.id!==c.draggableId)return null;const u=o.current.client.offset,p=o.dimensions.draggables[c.draggableId],m=Hn(o.impact),g=eD(o.impact),_=o.forceShouldAnimate;return i(n(u.x,u.y),o.movementMode,p,c.isClone,m,g,_)}if(o.phase==="DROP_ANIMATING"){const u=o.completed;if(u.result.draggableId!==c.draggableId)return null;const p=c.isClone,m=o.dimensions.draggables[c.draggableId],g=u.result,_=g.mode,y=KT(g),T=Z2(g),C={duration:o.dropDuration,curve:ig.drop,moveTo:o.newHomeClientOffset,opacity:T?Ec.opacity.drop:null,scale:T?Ec.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:m,dropping:C,draggingOver:y,combineWith:T,mode:_,forceShouldAnimate:null,snapshot:e(_,p,y,T,C)}}}return null}}function QT(n=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:n,combineWith:null}}const nD={mapped:{type:"SECONDARY",offset:Jt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:QT(null)}};function iD(){const n=Wt((u,p)=>({x:u,y:p})),e=Wt(QT),i=Wt((u,p=null,m)=>({mapped:{type:"SECONDARY",offset:u,combineTargetFor:p,shouldAnimateDisplacement:m,snapshot:e(p)}})),s=u=>u?i(Jt,u,!0):null,o=(u,p,m,g)=>{const _=m.displaced.visible[u],y=!!(g.inVirtualList&&g.effected[u]),T=hh(m),w=T&&T.draggableId===u?p:null;if(!_){if(!y)return s(w);if(m.displaced.invisible[u])return null;const L=zo(g.displacedBy.point),K=n(L.x,L.y);return i(K,w,!0)}if(y)return s(w);const C=m.displacedBy.point,k=n(C.x,C.y);return i(k,w,_.shouldAnimate)};return(u,p)=>{if(Sc(u))return u.critical.draggable.id===p.draggableId?null:o(p.draggableId,u.critical.draggable.id,u.impact,u.afterCritical);if(u.phase==="DROP_ANIMATING"){const m=u.completed;return m.result.draggableId===p.draggableId?null:o(p.draggableId,m.result.draggableId,m.impact,m.afterCritical)}return null}}const rD=()=>{const n=tD(),e=iD();return(s,o)=>n(s,o)||e(s,o)||nD},sD={dropAnimationFinished:RT},aD=JE(rD,sD,null,{context:lg,areStatePropsEqual:XT})(J2);function WT(n){return Gd(dg).isUsingCloneFor===n.draggableId&&!n.isClone?null:Ot.createElement(aD,n)}function JT(n){const e=typeof n.isDragDisabled=="boolean"?!n.isDragDisabled:!0,i=!!n.disableInteractiveElementBlocking,s=!!n.shouldRespectForcePress;return Ot.createElement(WT,kd({},n,{isClone:!1,isEnabled:e,canDragInteractiveElements:i,shouldRespectForcePress:s}))}const ZT=n=>e=>n===e,oD=ZT("scroll"),lD=ZT("auto"),o0=(n,e)=>e(n.overflowX)||e(n.overflowY),cD=n=>{const e=window.getComputedStyle(n),i={overflowX:e.overflowX,overflowY:e.overflowY};return o0(i,oD)||o0(i,lD)},uD=()=>!1,eS=n=>n==null?null:n===document.body?uD()?n:null:n===document.documentElement?null:cD(n)?n:eS(n.parentElement);var gm=n=>({x:n.scrollLeft,y:n.scrollTop});const tS=n=>n?window.getComputedStyle(n).position==="fixed"?!0:tS(n.parentElement):!1;var dD=n=>{const e=eS(n),i=tS(n);return{closestScrollable:e,isFixedOnPage:i}},hD=({descriptor:n,isEnabled:e,isCombineEnabled:i,isFixedOnPage:s,direction:o,client:c,page:u,closest:p})=>{const m=(()=>{if(!p)return null;const{scrollSize:T,client:w}=p,C=NT({scrollHeight:T.scrollHeight,scrollWidth:T.scrollWidth,height:w.paddingBox.height,width:w.paddingBox.width});return{pageMarginBox:p.page.marginBox,frameClient:w,scrollSize:T,shouldClipSubject:p.shouldClipSubject,scroll:{initial:p.scroll,current:p.scroll,max:C,diff:{value:Jt,displacement:Jt}}}})(),g=o==="vertical"?Qm:uT,_=No({page:u,withPlaceholder:null,axis:g,frame:m});return{descriptor:n,isCombineEnabled:i,isFixedOnPage:s,axis:g,isEnabled:e,client:c,page:u,frame:m,subject:_}};const fD=(n,e)=>{const i=eT(n);if(!e||n!==e)return i;const s=i.paddingBox.top-e.scrollTop,o=i.paddingBox.left-e.scrollLeft,c=s+e.scrollHeight,u=o+e.scrollWidth,m=$m({top:s,right:u,bottom:c,left:o},i.border);return Ym({borderBox:m,margin:i.margin,border:i.border,padding:i.padding})};var pD=({ref:n,descriptor:e,env:i,windowScroll:s,direction:o,isDropDisabled:c,isCombineEnabled:u,shouldClipSubject:p})=>{const m=i.closestScrollable,g=fD(n,m),_=Ld(g,s),y=(()=>{if(!m)return null;const w=eT(m),C={scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth};return{client:w,page:Ld(w,s),scroll:gm(m),scrollSize:C,shouldClipSubject:p}})();return hD({descriptor:e,isEnabled:!c,isCombineEnabled:u,isFixedOnPage:i.isFixedOnPage,direction:o,client:g,page:_,closest:y})};const mD={passive:!1},gD={passive:!0};var l0=n=>n.shouldPublishImmediately?mD:gD;const md=n=>n&&n.env.closestScrollable||null;function yD(n){const e=F.useRef(null),i=Gd(gh),s=cg("droppable"),{registry:o,marshal:c}=i,u=BT(n),p=Ze(()=>({id:n.droppableId,type:n.type,mode:n.mode}),[n.droppableId,n.mode,n.type]),m=F.useRef(p),g=Ze(()=>Wt((se,le)=>{e.current||de();const ce={x:se,y:le};c.updateDroppableScroll(p.id,ce)}),[p.id,c]),_=Ae(()=>{const se=e.current;return!se||!se.env.closestScrollable?Jt:gm(se.env.closestScrollable)},[]),y=Ae(()=>{const se=_();g(se.x,se.y)},[_,g]),T=Ze(()=>yc(y),[y]),w=Ae(()=>{const se=e.current,le=md(se);if(se&&le||de(),se.scrollOptions.shouldPublishImmediately){y();return}T()},[T,y]),C=Ae((se,le)=>{e.current&&de();const ce=u.current,I=ce.getDroppableRef();I||de();const R=dD(I),D={ref:I,descriptor:p,env:R,scrollOptions:le};e.current=D;const V=pD({ref:I,descriptor:p,env:R,windowScroll:se,direction:ce.direction,isDropDisabled:ce.isDropDisabled,isCombineEnabled:ce.isCombineEnabled,shouldClipSubject:!ce.ignoreContainerClipping}),M=R.closestScrollable;return M&&(M.setAttribute(n0.contextId,i.contextId),M.addEventListener("scroll",w,l0(D.scrollOptions))),V},[i.contextId,p,w,u]),k=Ae(()=>{const se=e.current,le=md(se);return se&&le||de(),gm(le)},[]),L=Ae(()=>{const se=e.current;se||de();const le=md(se);e.current=null,le&&(T.cancel(),le.removeAttribute(n0.contextId),le.removeEventListener("scroll",w,l0(se.scrollOptions)))},[w,T]),K=Ae(se=>{const le=e.current;le||de();const ce=md(le);ce||de(),ce.scrollTop+=se.y,ce.scrollLeft+=se.x},[]),W=Ze(()=>({getDimensionAndWatchScroll:C,getScrollWhileDragging:k,dragStopped:L,scroll:K}),[L,C,k,K]),ie=Ze(()=>({uniqueId:s,descriptor:p,callbacks:W}),[W,p,s]);qn(()=>(m.current=ie.descriptor,o.droppable.register(ie),()=>{e.current&&L(),o.droppable.unregister(ie)}),[W,p,L,ie,c,o.droppable]),qn(()=>{e.current&&c.updateDroppableIsEnabled(m.current.id,!n.isDropDisabled)},[n.isDropDisabled,c]),qn(()=>{e.current&&c.updateDroppableIsCombineEnabled(m.current.id,n.isCombineEnabled)},[n.isCombineEnabled,c])}function Xp(){}const c0={width:0,height:0,margin:xR},vD=({isAnimatingOpenOnMount:n,placeholder:e,animate:i})=>n||i==="close"?c0:{height:e.client.borderBox.height,width:e.client.borderBox.width,margin:e.client.margin},_D=({isAnimatingOpenOnMount:n,placeholder:e,animate:i})=>{const s=vD({isAnimatingOpenOnMount:n,placeholder:e,animate:i});return{display:e.display,boxSizing:"border-box",width:s.width,height:s.height,marginTop:s.margin.top,marginRight:s.margin.right,marginBottom:s.margin.bottom,marginLeft:s.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?uc.placeholder:null}},bD=n=>{const e=F.useRef(null),i=Ae(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:s,onTransitionEnd:o,onClose:c,contextId:u}=n,[p,m]=F.useState(n.animate==="open");F.useEffect(()=>p?s!=="open"?(i(),m(!1),Xp):e.current?Xp:(e.current=setTimeout(()=>{e.current=null,m(!1)}),i):Xp,[s,p,i]);const g=Ae(y=>{y.propertyName==="height"&&(o(),s==="close"&&c())},[s,c,o]),_=_D({isAnimatingOpenOnMount:p,animate:n.animate,placeholder:n.placeholder});return Ot.createElement(n.placeholder.tagName,{style:_,"data-rfd-placeholder-context-id":u,onTransitionEnd:g,ref:n.innerRef})};var ED=Ot.memo(bD);class TD extends Ot.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,i){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const SD=n=>{const e=F.useContext(gh);e||de();const{contextId:i,isMovementAllowed:s}=e,o=F.useRef(null),c=F.useRef(null),{children:u,droppableId:p,type:m,mode:g,direction:_,ignoreContainerClipping:y,isDropDisabled:T,isCombineEnabled:w,snapshot:C,useClone:k,updateViewportMaxScroll:L,getContainerForClone:K}=n,W=Ae(()=>o.current,[]),ie=Ae((M=null)=>{o.current=M},[]);Ae(()=>c.current,[]);const se=Ae((M=null)=>{c.current=M},[]),le=Ae(()=>{s()&&L({maxScroll:MT()})},[s,L]);yD({droppableId:p,type:m,mode:g,direction:_,isDropDisabled:T,isCombineEnabled:w,ignoreContainerClipping:y,getDroppableRef:W});const ce=Ze(()=>Ot.createElement(TD,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},({onClose:M,data:B,animate:N})=>Ot.createElement(ED,{placeholder:B,onClose:M,innerRef:se,animate:N,contextId:i,onTransitionEnd:le})),[i,le,n.placeholder,n.shouldAnimatePlaceholder,se]),I=Ze(()=>({innerRef:ie,placeholder:ce,droppableProps:{"data-rfd-droppable-id":p,"data-rfd-droppable-context-id":i}}),[i,p,ce,ie]),R=k?k.dragging.draggableId:null,D=Ze(()=>({droppableId:p,type:m,isUsingCloneFor:R}),[p,R,m]);function V(){if(!k)return null;const{dragging:M,render:B}=k,N=Ot.createElement(WT,{draggableId:M.draggableId,index:M.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(oe,Se)=>B(oe,Se,M));return dx.createPortal(N,K())}return Ot.createElement(dg.Provider,{value:D},u(I,C),V())};function AD(){return document.body||de(),document.body}const u0={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:AD},nS=n=>{let e={...n},i;for(i in u0)n[i]===void 0&&(e={...e,[i]:u0[i]});return e},Kp=(n,e)=>n===e.droppable.type,d0=(n,e)=>e.draggables[n.draggable.id],wD=()=>{const n={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...n,shouldAnimatePlaceholder:!1},i=Wt(c=>({draggableId:c.id,type:c.type,source:{index:c.index,droppableId:c.droppableId}})),s=Wt((c,u,p,m,g,_)=>{const y=g.descriptor.id;if(g.descriptor.droppableId===c){const C=_?{render:_,dragging:i(g.descriptor)}:null,k={isDraggingOver:p,draggingOverWith:p?y:null,draggingFromThisWith:y,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!1,snapshot:k,useClone:C}}if(!u)return e;if(!m)return n;const w={isDraggingOver:p,draggingOverWith:y,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:g.placeholder,shouldAnimatePlaceholder:!0,snapshot:w,useClone:null}});return(c,u)=>{const p=nS(u),m=p.droppableId,g=p.type,_=!p.isDropDisabled,y=p.renderClone;if(Sc(c)){const T=c.critical;if(!Kp(g,T))return e;const w=d0(T,c.dimensions),C=Hn(c.impact)===m;return s(m,_,C,C,w,y)}if(c.phase==="DROP_ANIMATING"){const T=c.completed;if(!Kp(g,T.critical))return e;const w=d0(T.critical,c.dimensions);return s(m,_,KT(T.result)===m,Hn(T.impact)===m,w,y)}if(c.phase==="IDLE"&&c.completed&&!c.shouldFlush){const T=c.completed;if(!Kp(g,T.critical))return e;const w=Hn(T.impact)===m,C=!!(T.impact.at&&T.impact.at.type==="COMBINE"),k=T.critical.droppable.id===m;return w?C?n:e:k?n:e}return e}},xD={updateViewportMaxScroll:jC},iS=JE(wD,xD,(n,e,i)=>({...nS(i),...n,...e}),{context:lg,areStatePropsEqual:XT})(SD),RD=()=>{};var h0={};const rS=function(n){const e=[];let i=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},CD=function(n){const e=[];let i=0,s=0;for(;i<n.length;){const o=n[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[i++],u=n[i++],p=n[i++],m=((o&7)<<18|(c&63)<<12|(u&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const c=n[i++],u=n[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|u&63)}}return e.join("")},sS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const c=n[o],u=o+1<n.length,p=u?n[o+1]:0,m=o+2<n.length,g=m?n[o+2]:0,_=c>>2,y=(c&3)<<4|p>>4;let T=(p&15)<<2|g>>6,w=g&63;m||(w=64,u||(T=64)),s.push(i[_],i[y],i[T],i[w])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(rS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):CD(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const c=i[n.charAt(o++)],p=o<n.length?i[n.charAt(o)]:0;++o;const g=o<n.length?i[n.charAt(o)]:64;++o;const y=o<n.length?i[n.charAt(o)]:64;if(++o,c==null||p==null||g==null||y==null)throw new ID;const T=c<<2|p>>4;if(s.push(T),g!==64){const w=p<<4&240|g>>2;if(s.push(w),y!==64){const C=g<<6&192|y;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ID extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DD=function(n){const e=rS(n);return sS.encodeByteArray(e,!0)},Hd=function(n){return DD(n).replace(/\./g,"")},aS=function(n){try{return sS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ND(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const OD=()=>ND().__FIREBASE_DEFAULTS__,MD=()=>{if(typeof process>"u"||typeof h0>"u")return;const n=h0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},PD=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&aS(n[1]);return e&&JSON.parse(e)},vh=()=>{try{return RD()||OD()||MD()||PD()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},oS=n=>vh()?.emulatorHosts?.[n],VD=n=>{const e=oS(n);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},lS=()=>vh()?.config,cS=n=>vh()?.[`_${n}`];class LD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function qo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uS(n){return(await fetch(n,{credentials:"include"})).ok}function kD(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Hd(JSON.stringify(i)),Hd(JSON.stringify(u)),""].join(".")}const dc={};function jD(){const n={prod:[],emulator:[]};for(const e of Object.keys(dc))dc[e]?n.emulator.push(e):n.prod.push(e);return n}function UD(n){let e=document.getElementById(n),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),i=!0),{created:i,element:e}}let f0=!1;function dS(n,e){if(typeof window>"u"||typeof document>"u"||!qo(window.location.host)||dc[n]===e||dc[n]||f0)return;dc[n]=e;function i(T){return`__firebase__banner__${T}`}const s="__firebase__banner",c=jD().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function p(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,w){T.setAttribute("width","24"),T.setAttribute("id",w),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{f0=!0,u()},T}function _(T,w){T.setAttribute("id",w),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function y(){const T=UD(s),w=i("text"),C=document.getElementById(w)||document.createElement("span"),k=i("learnmore"),L=document.getElementById(k)||document.createElement("a"),K=i("preprendIcon"),W=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const ie=T.element;p(ie),_(L,k);const se=g();m(W,K),ie.append(W,C,L,se),document.body.appendChild(ie)}c?(C.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function zD(){const n=vh()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HD(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FD(){const n=gn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $D(){return!zD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YD(){try{return typeof indexedDB=="object"}catch{return!1}}function XD(){return new Promise((n,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}const KD="FirebaseError";class Nr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=KD,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vc.prototype.create)}}class Vc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],u=c?QD(c,s):"Error",p=`${this.serviceName}: ${u} (${o}).`;return new Nr(o,p,s)}}function QD(n,e){return n.replace(WD,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const WD=/\{\$([^}]+)}/g;function JD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function _a(n,e){if(n===e)return!0;const i=Object.keys(n),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=n[o],u=e[o];if(p0(c)&&p0(u)){if(!_a(c,u))return!1}else if(c!==u)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function p0(n){return n!==null&&typeof n=="object"}function Lc(n){const e=[];for(const[i,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ZD(n,e){const i=new eN(n,e);return i.subscribe.bind(i)}class eN{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let o;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");tN(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:s},o.next===void 0&&(o.next=Qp),o.error===void 0&&(o.error=Qp),o.complete===void 0&&(o.complete=Qp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tN(n,e){if(typeof n!="object"||n===null)return!1;for(const i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}function Qp(){}function di(n){return n&&n._delegate?n._delegate:n}class ba{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const pa="[DEFAULT]";class nN{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new LD;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rN(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,u]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&u.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:iN(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iN(n){return n===pa?void 0:n}function rN(n){return n.instantiationMode==="EAGER"}class sN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new nN(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var $e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($e||($e={}));const aN={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},oN=$e.INFO,lN={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},cN=(n,e,...i)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=lN[e];if(o)console[o](`[${s}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hg{constructor(e){this.name=e,this._logLevel=oN,this._logHandler=cN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const uN=(n,e)=>e.some(i=>n instanceof i);let m0,g0;function dN(){return m0||(m0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hN(){return g0||(g0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hS=new WeakMap,ym=new WeakMap,fS=new WeakMap,Wp=new WeakMap,fg=new WeakMap;function fN(n){const e=new Promise((i,s)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",u)},c=()=>{i(_s(n.result)),o()},u=()=>{s(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",u)});return e.then(i=>{i instanceof IDBCursor&&hS.set(i,n)}).catch(()=>{}),fg.set(e,n),e}function pN(n){if(ym.has(n))return;const e=new Promise((i,s)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",u),n.removeEventListener("abort",u)},c=()=>{i(),o()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",u),n.addEventListener("abort",u)});ym.set(n,e)}let vm={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return ym.get(n);if(e==="objectStoreNames")return n.objectStoreNames||fS.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _s(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function mN(n){vm=n(vm)}function gN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=n.call(Jp(this),e,...i);return fS.set(s,e.sort?e.sort():[e]),_s(s)}:hN().includes(n)?function(...e){return n.apply(Jp(this),e),_s(hS.get(this))}:function(...e){return _s(n.apply(Jp(this),e))}}function yN(n){return typeof n=="function"?gN(n):(n instanceof IDBTransaction&&pN(n),uN(n,dN())?new Proxy(n,vm):n)}function _s(n){if(n instanceof IDBRequest)return fN(n);if(Wp.has(n))return Wp.get(n);const e=yN(n);return e!==n&&(Wp.set(n,e),fg.set(e,n)),e}const Jp=n=>fg.get(n);function vN(n,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const u=indexedDB.open(n,e),p=_s(u);return s&&u.addEventListener("upgradeneeded",m=>{s(_s(u.result),m.oldVersion,m.newVersion,_s(u.transaction),m)}),i&&u.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const _N=["get","getKey","getAll","getAllKeys","count"],bN=["put","add","delete","clear"],Zp=new Map;function y0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Zp.get(e))return Zp.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=bN.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||_N.includes(i)))return;const c=async function(u,...p){const m=this.transaction(u,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[i](...p),o&&m.done]))[0]};return Zp.set(e,c),c}mN(n=>({...n,get:(e,i,s)=>y0(e,i)||n.get(e,i,s),has:(e,i)=>!!y0(e,i)||n.has(e,i)}));class EN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(TN(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function TN(n){return n.getComponent()?.type==="VERSION"}const _m="@firebase/app",v0="0.14.6";const xr=new hg("@firebase/app"),SN="@firebase/app-compat",AN="@firebase/analytics-compat",wN="@firebase/analytics",xN="@firebase/app-check-compat",RN="@firebase/app-check",CN="@firebase/auth",IN="@firebase/auth-compat",DN="@firebase/database",NN="@firebase/data-connect",ON="@firebase/database-compat",MN="@firebase/functions",PN="@firebase/functions-compat",VN="@firebase/installations",LN="@firebase/installations-compat",kN="@firebase/messaging",jN="@firebase/messaging-compat",UN="@firebase/performance",BN="@firebase/performance-compat",zN="@firebase/remote-config",GN="@firebase/remote-config-compat",HN="@firebase/storage",qN="@firebase/storage-compat",FN="@firebase/firestore",$N="@firebase/ai",YN="@firebase/firestore-compat",XN="firebase",KN="12.6.0";const bm="[DEFAULT]",QN={[_m]:"fire-core",[SN]:"fire-core-compat",[wN]:"fire-analytics",[AN]:"fire-analytics-compat",[RN]:"fire-app-check",[xN]:"fire-app-check-compat",[CN]:"fire-auth",[IN]:"fire-auth-compat",[DN]:"fire-rtdb",[NN]:"fire-data-connect",[ON]:"fire-rtdb-compat",[MN]:"fire-fn",[PN]:"fire-fn-compat",[VN]:"fire-iid",[LN]:"fire-iid-compat",[kN]:"fire-fcm",[jN]:"fire-fcm-compat",[UN]:"fire-perf",[BN]:"fire-perf-compat",[zN]:"fire-rc",[GN]:"fire-rc-compat",[HN]:"fire-gcs",[qN]:"fire-gcs-compat",[FN]:"fire-fst",[YN]:"fire-fst-compat",[$N]:"fire-vertex","fire-js":"fire-js",[XN]:"fire-js-all"};const qd=new Map,WN=new Map,Em=new Map;function _0(n,e){try{n.container.addComponent(e)}catch(i){xr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function Po(n){const e=n.name;if(Em.has(e))return xr.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,n);for(const i of qd.values())_0(i,n);for(const i of WN.values())_0(i,n);return!0}function pg(n,e){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}function Si(n){return n==null?!1:n.settings!==void 0}const JN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new Vc("app","Firebase",JN);class ZN{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}const Fo=KN;function pS(n,e={}){let i=n;typeof e!="object"&&(e={name:e});const s={name:bm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw bs.create("bad-app-name",{appName:String(o)});if(i||(i=lS()),!i)throw bs.create("no-options");const c=qd.get(o);if(c){if(_a(i,c.options)&&_a(s,c.config))return c;throw bs.create("duplicate-app",{appName:o})}const u=new sN(o);for(const m of Em.values())u.addComponent(m);const p=new ZN(i,s,u);return qd.set(o,p),p}function mS(n=bm){const e=qd.get(n);if(!e&&n===bm&&lS())return pS();if(!e)throw bs.create("no-app",{appName:n});return e}function Es(n,e,i){let s=QN[n]??n;i&&(s+=`-${i}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const u=[`Unable to register library "${s}" with version "${e}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&u.push("and"),c&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xr.warn(u.join(" "));return}Po(new ba(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const eO="firebase-heartbeat-database",tO=1,Ac="firebase-heartbeat-store";let em=null;function gS(){return em||(em=vN(eO,tO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ac)}catch(i){console.warn(i)}}}}).catch(n=>{throw bs.create("idb-open",{originalErrorMessage:n.message})})),em}async function nO(n){try{const i=(await gS()).transaction(Ac),s=await i.objectStore(Ac).get(yS(n));return await i.done,s}catch(e){if(e instanceof Nr)xr.warn(e.message);else{const i=bs.create("idb-get",{originalErrorMessage:e?.message});xr.warn(i.message)}}}async function b0(n,e){try{const s=(await gS()).transaction(Ac,"readwrite");await s.objectStore(Ac).put(e,yS(n)),await s.done}catch(i){if(i instanceof Nr)xr.warn(i.message);else{const s=bs.create("idb-set",{originalErrorMessage:i?.message});xr.warn(s.message)}}}function yS(n){return`${n.name}!${n.options.appId}`}const iO=1024,rO=30;class sO{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new oO(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=E0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>rO){const o=lO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){xr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=E0(),{heartbeatsToSend:i,unsentEntries:s}=aO(this._heartbeatsCache.heartbeats),o=Hd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return xr.warn(e),""}}}function E0(){return new Date().toISOString().substring(0,10)}function aO(n,e=iO){const i=[];let s=n.slice();for(const o of n){const c=i.find(u=>u.agent===o.agent);if(c){if(c.dates.push(o.date),T0(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),T0(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class oO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YD()?XD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await nO(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return b0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return b0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function T0(n){return Hd(JSON.stringify({version:2,heartbeats:n})).length}function lO(n){if(n.length===0)return-1;let e=0,i=n[0].date;for(let s=1;s<n.length;s++)n[s].date<i&&(i=n[s].date,e=s);return e}function cO(n){Po(new ba("platform-logger",e=>new EN(e),"PRIVATE")),Po(new ba("heartbeat",e=>new sO(e),"PRIVATE")),Es(_m,v0,n),Es(_m,v0,"esm2020"),Es("fire-js","")}cO("");var uO="firebase",dO="12.6.0";Es(uO,dO,"app");function vS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hO=vS,_S=new Vc("auth","Firebase",vS());const Fd=new hg("@firebase/auth");function fO(n,...e){Fd.logLevel<=$e.WARN&&Fd.warn(`Auth (${Fo}): ${n}`,...e)}function Ad(n,...e){Fd.logLevel<=$e.ERROR&&Fd.error(`Auth (${Fo}): ${n}`,...e)}function Rr(n,...e){throw mg(n,...e)}function $i(n,...e){return mg(n,...e)}function bS(n,e,i){const s={...hO(),[e]:i};return new Vc("auth","Firebase",s).create(e,{appName:n.name})}function Ts(n){return bS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mg(n,...e){if(typeof n!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(i,...s)}return _S.create(n,...e)}function Me(n,e,...i){if(!n)throw mg(e,...i)}function Sr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ad(e),new Error(e)}function Cr(n,e){n||Sr(e)}function Tm(){return typeof self<"u"&&self.location?.href||""}function pO(){return S0()==="http:"||S0()==="https:"}function S0(){return typeof self<"u"&&self.location?.protocol||null}function mO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pO()||HD()||"connection"in navigator)?navigator.onLine:!0}function gO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class kc{constructor(e,i){this.shortDelay=e,this.longDelay=i,Cr(i>e,"Short delay should be less than long delay!"),this.isMobile=BD()||qD()}get(){return mO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gg(n,e){Cr(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class ES{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const vO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_O=new kc(3e4,6e4);function _h(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function $o(n,e,i,s,o={}){return TS(n,o,async()=>{let c={},u={};s&&(e==="GET"?u=s:c={body:JSON.stringify(s)});const p=Lc({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:m,...c};return GD()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&qo(n.emulatorConfig.host)&&(g.credentials="include"),ES.fetch()(await AS(n,n.config.apiHost,i,p),g)})}async function TS(n,e,i){n._canInitEmulator=!1;const s={...yO,...e};try{const o=new bO(n),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const u=await c.json();if("needConfirmation"in u)throw gd(n,"account-exists-with-different-credential",u);if(c.ok&&!("errorMessage"in u))return u;{const p=c.ok?u.errorMessage:u.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw gd(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw gd(n,"user-disabled",u);const _=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw bS(n,_,g);Rr(n,_)}}catch(o){if(o instanceof Nr)throw o;Rr(n,"network-request-failed",{message:String(o)})}}async function SS(n,e,i,s,o={}){const c=await $o(n,e,i,s,o);return"mfaPendingCredential"in c&&Rr(n,"multi-factor-auth-required",{_serverResponse:c}),c}async function AS(n,e,i,s){const o=`${e}${i}?${s}`,c=n,u=c.config.emulator?gg(n.config,o):`${n.config.apiScheme}://${o}`;return vO.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(u).toString():u}class bO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s($i(this.auth,"network-request-failed")),_O.get())})}}function gd(n,e,i){const s={appName:n.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const o=$i(n,e,s);return o.customData._tokenResponse=i,o}async function EO(n,e){return $o(n,"POST","/v1/accounts:delete",e)}async function $d(n,e){return $o(n,"POST","/v1/accounts:lookup",e)}function hc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TO(n,e=!1){const i=di(n),s=await i.getIdToken(e),o=yg(s);Me(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,u=c?.sign_in_provider;return{claims:o,token:s,authTime:hc(tm(o.auth_time)),issuedAtTime:hc(tm(o.iat)),expirationTime:hc(tm(o.exp)),signInProvider:u||null,signInSecondFactor:c?.sign_in_second_factor||null}}function tm(n){return Number(n)*1e3}function yg(n){const[e,i,s]=n.split(".");if(e===void 0||i===void 0||s===void 0)return Ad("JWT malformed, contained fewer than 3 sections"),null;try{const o=aS(i);return o?JSON.parse(o):(Ad("Failed to decode base64 JWT payload"),null)}catch(o){return Ad("Caught error parsing JWT payload as JSON",o?.toString()),null}}function A0(n){const e=yg(n);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function wc(n,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof Nr&&SO(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function SO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class AO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yd(n){const e=n.auth,i=await n.getIdToken(),s=await wc(n,$d(e,{idToken:i}));Me(s?.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const c=o.providerUserInfo?.length?wS(o.providerUserInfo):[],u=xO(n.providerData,c),p=n.isAnonymous,m=!(n.email&&o.passwordHash)&&!u?.length,g=p?m:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Sm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function wO(n){const e=di(n);await Yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xO(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function wS(n){return n.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function RO(n,e){const i=await TS(n,{},async()=>{const s=Lc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,u=await AS(n,o,"/v1/token",`key=${c}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:p,body:s};return n.emulatorConfig&&qo(n.emulatorConfig.host)&&(m.credentials="include"),ES.fetch()(u,m)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function CO(n,e){return $o(n,"POST","/v2/accounts:revokeToken",_h(n,e))}class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const i=A0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:o,expiresIn:c}=await RO(e,i);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:o,expirationTime:c}=i,u=new wo;return s&&(Me(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),o&&(Me(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),c&&(Me(typeof c=="number","internal-error",{appName:e}),u.expirationTime=c),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return Sr("not implemented")}}function us(n,e){Me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class wi{constructor({uid:e,auth:i,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new AO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const i=await wc(this,this.stsTokenManager.getToken(this.auth,e));return Me(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return TO(this,e)}reload(){return wO(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new wi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Yd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Si(this.auth.app))return Promise.reject(Ts(this.auth));const e=await this.getIdToken();return await wc(this,EO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,u=i.photoURL??void 0,p=i.tenantId??void 0,m=i._redirectEventId??void 0,g=i.createdAt??void 0,_=i.lastLoginAt??void 0,{uid:y,emailVerified:T,isAnonymous:w,providerData:C,stsTokenManager:k}=i;Me(y&&k,e,"internal-error");const L=wo.fromJSON(this.name,k);Me(typeof y=="string",e,"internal-error"),us(s,e.name),us(o,e.name),Me(typeof T=="boolean",e,"internal-error"),Me(typeof w=="boolean",e,"internal-error"),us(c,e.name),us(u,e.name),us(p,e.name),us(m,e.name),us(g,e.name),us(_,e.name);const K=new wi({uid:y,auth:e,email:o,emailVerified:T,displayName:s,isAnonymous:w,photoURL:u,phoneNumber:c,tenantId:p,stsTokenManager:L,createdAt:g,lastLoginAt:_});return C&&Array.isArray(C)&&(K.providerData=C.map(W=>({...W}))),m&&(K._redirectEventId=m),K}static async _fromIdTokenResponse(e,i,s=!1){const o=new wo;o.updateFromServerResponse(i);const c=new wi({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Yd(c),c}static async _fromGetAccountInfoResponse(e,i,s){const o=i.users[0];Me(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?wS(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!c?.length,p=new wo;p.updateFromIdToken(s);const m=new wi({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:u}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Sm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(m,g),m}}const w0=new Map;function Ar(n){Cr(n instanceof Function,"Expected a class definition");let e=w0.get(n);return e?(Cr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,w0.set(n,e),e)}class xS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}xS.type="NONE";const x0=xS;function wd(n,e,i){return`firebase:${n}:${e}:${i}`}class xo{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=wd(this.userKey,o.apiKey,c),this.fullPersistenceKey=wd("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await $d(this.auth,{idToken:e}).catch(()=>{});return i?wi._fromGetAccountInfoResponse(this.auth,i,e):null}return wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new xo(Ar(x0),e,s);const o=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let c=o[0]||Ar(x0);const u=wd(s,e.config.apiKey,e.name);let p=null;for(const g of i)try{const _=await g._get(u);if(_){let y;if(typeof _=="string"){const T=await $d(e,{idToken:_}).catch(()=>{});if(!T)break;y=await wi._fromGetAccountInfoResponse(e,T,_)}else y=wi._fromJSON(e,_);g!==c&&(p=y),c=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new xo(c,e,s):(c=m[0],p&&await c._set(u,p.toJSON()),await Promise.all(i.map(async g=>{if(g!==c)try{await g._remove(u)}catch{}})),new xo(c,e,s))}}function R0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OS(e))return"Blackberry";if(MS(e))return"Webos";if(CS(e))return"Safari";if((e.includes("chrome/")||IS(e))&&!e.includes("edge/"))return"Chrome";if(NS(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(i);if(s?.length===2)return s[1]}return"Other"}function RS(n=gn()){return/firefox\//i.test(n)}function CS(n=gn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IS(n=gn()){return/crios\//i.test(n)}function DS(n=gn()){return/iemobile/i.test(n)}function NS(n=gn()){return/android/i.test(n)}function OS(n=gn()){return/blackberry/i.test(n)}function MS(n=gn()){return/webos/i.test(n)}function vg(n=gn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function IO(n=gn()){return vg(n)&&!!window.navigator?.standalone}function DO(){return FD()&&document.documentMode===10}function PS(n=gn()){return vg(n)||NS(n)||MS(n)||OS(n)||/windows phone/i.test(n)||DS(n)}function VS(n,e=[]){let i;switch(n){case"Browser":i=R0(gn());break;case"Worker":i=`${R0(gn())}-${n}`;break;default:i=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Fo}/${s}`}class NO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=c=>new Promise((u,p)=>{try{const m=e(c);u(m)}catch(m){p(m)}});s.onAbort=i,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function OO(n,e={}){return $o(n,"GET","/v2/passwordPolicy",_h(n,e))}const MO=6;class PO{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??MO,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class VO{constructor(e,i,s,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new C0(this),this.idTokenSubscription=new C0(this),this.beforeStateQueue=new NO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_S,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Ar(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await $d(this,{idToken:e}),s=await wi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,u=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===u)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Yd(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Si(this.app))return Promise.reject(Ts(this));const i=e?di(e):null;return i&&Me(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Si(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Si(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OO(this),i=new PO(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vc("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await CO(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Ar(e)||this._popupRedirectResolver;Me(i,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[Ar(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let u=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(p,this,"internal-error"),p.then(()=>{u||c(this.currentUser)}),typeof i=="function"){const m=e.addObserver(i,s,o);return()=>{u=!0,m()}}else{const m=e.addObserver(i);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bh(n){return di(n)}class C0{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZD(i=>this.observer=i)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _g={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LO(n){_g=n}function kO(n){return _g.loadJS(n)}function jO(){return _g.gapiScript}function UO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function BO(n,e){const i=pg(n,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(_a(c,e??{}))return o;Rr(o,"already-initialized")}return i.initialize({options:e})}function zO(n,e){const i=e?.persistence||[],s=(Array.isArray(i)?i:[i]).map(Ar);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function GO(n,e,i){const s=bh(n);Me(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=LS(e),{host:u,port:p}=HO(e),m=p===null?"":`:${p}`,g={url:`${c}//${u}${m}/`},_=Object.freeze({host:u,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Me(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Me(_a(g,s.config.emulator)&&_a(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,qo(u)?(uS(`${c}//${u}${m}`),dS("Auth",!0)):qO()}function LS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function HO(n){const e=LS(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:I0(s.substr(c.length+1))}}else{const[c,u]=s.split(":");return{host:c,port:I0(u)}}}function I0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function qO(){function n(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class kS{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,i){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function Ro(n,e){return SS(n,"POST","/v1/accounts:signInWithIdp",_h(n,e))}const FO="http://localhost";class Ea extends kS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Rr("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=i;if(!s||!o)return null;const u=new Ea(s,o);return u.idToken=c.idToken||void 0,u.accessToken=c.accessToken||void 0,u.secret=c.secret,u.nonce=c.nonce,u.pendingToken=c.pendingToken||null,u}_getIdTokenResponse(e){const i=this.buildRequest();return Ro(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,Ro(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ro(e,i)}buildRequest(){const e={requestUri:FO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Lc(i)}return e}}class jS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jc extends jS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hs extends jc{constructor(){super("facebook.com")}static credential(e){return Ea._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hs.credential(e.oauthAccessToken)}catch{return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";hs.PROVIDER_ID="facebook.com";class fs extends jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ea._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return fs.credential(i,s)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";class ps extends jc{constructor(){super("github.com")}static credential(e){return Ea._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ps.credential(e.oauthAccessToken)}catch{return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com";ps.PROVIDER_ID="github.com";class ms extends jc{constructor(){super("twitter.com")}static credential(e,i){return Ea._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return ms.credential(i,s)}catch{return null}}}ms.TWITTER_SIGN_IN_METHOD="twitter.com";ms.PROVIDER_ID="twitter.com";async function $O(n,e){return SS(n,"POST","/v1/accounts:signUp",_h(n,e))}class Rs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,o=!1){const c=await wi._fromIdTokenResponse(e,s,o),u=D0(s);return new Rs({user:c,providerId:u,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const o=D0(s);return new Rs({user:e,providerId:o,_tokenResponse:s,operationType:i})}}function D0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function YO(n){if(Si(n.app))return Promise.reject(Ts(n));const e=bh(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Rs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await $O(e,{returnSecureToken:!0}),s=await Rs._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(s.user),s}class Xd extends Nr{constructor(e,i,s,o){super(i.code,i.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Xd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,o){return new Xd(e,i,s,o)}}function US(n,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Xd._fromErrorAndOperation(n,c,e,s):c})}async function XO(n,e,i=!1){const s=await wc(n,e._linkToIdToken(n.auth,await n.getIdToken()),i);return Rs._forOperation(n,"link",s)}async function KO(n,e,i=!1){const{auth:s}=n;if(Si(s.app))return Promise.reject(Ts(s));const o="reauthenticate";try{const c=await wc(n,US(s,o,e,n),i);Me(c.idToken,s,"internal-error");const u=yg(c.idToken);Me(u,s,"internal-error");const{sub:p}=u;return Me(n.uid===p,s,"user-mismatch"),Rs._forOperation(n,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Rr(s,"user-mismatch"),c}}async function QO(n,e,i=!1){if(Si(n.app))return Promise.reject(Ts(n));const s="signIn",o=await US(n,s,e),c=await Rs._fromIdTokenResponse(n,s,o);return i||await n._updateCurrentUser(c.user),c}function WO(n,e,i,s){return di(n).onIdTokenChanged(e,i,s)}function JO(n,e,i){return di(n).beforeAuthStateChanged(e,i)}function ZO(n,e,i,s){return di(n).onAuthStateChanged(e,i,s)}const Kd="__sak";class BS{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Kd,"1"),this.storage.removeItem(Kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const eM=1e3,tM=10;class zS extends BS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),o=this.localCache[i];s!==o&&e(i,o,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((u,p,m)=>{this.notifyListeners(u,m)});return}const s=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(s);!i&&this.localCache[s]===u||this.notifyListeners(s,u)},c=this.storage.getItem(s);DO()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,tM):o()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},eM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}zS.type="LOCAL";const nM=zS;class GS extends BS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}GS.type="SESSION";const HS=GS;function iM(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const s=new Eh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:o,data:c}=i.data,u=this.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(u).map(async g=>g(i.origin,c)),m=await iM(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];function bg(n="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return n+i}class rM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,u;return new Promise((p,m)=>{const g=bg("",20);o.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},s);u={messageChannel:o,onMessage(y){const T=y;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(T.data.response);break;default:clearTimeout(_),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:i},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function Yi(){return window}function sM(n){Yi().location.href=n}function qS(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function aM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oM(){return navigator?.serviceWorker?.controller||null}function lM(){return qS()?self:null}const FS="firebaseLocalStorageDb",cM=1,Qd="firebaseLocalStorage",$S="fbase_key";class Uc{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Th(n,e){return n.transaction([Qd],e?"readwrite":"readonly").objectStore(Qd)}function uM(){const n=indexedDB.deleteDatabase(FS);return new Uc(n).toPromise()}function Am(){const n=indexedDB.open(FS,cM);return new Promise((e,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Qd,{keyPath:$S})}catch(o){i(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Qd)?e(s):(s.close(),await uM(),e(await Am()))})})}async function N0(n,e,i){const s=Th(n,!0).put({[$S]:e,value:i});return new Uc(s).toPromise()}async function dM(n,e){const i=Th(n,!1).get(e),s=await new Uc(i).toPromise();return s===void 0?null:s.value}function O0(n,e){const i=Th(n,!0).delete(e);return new Uc(i).toPromise()}const hM=800,fM=3;class YS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Am(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>fM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(lM()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aM(),!this.activeServiceWorker)return;this.sender=new rM(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Am();return await N0(e,Kd,"1"),await O0(e,Kd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>N0(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>dM(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>O0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Th(o,!1).getAll();return new Uc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YS.type="LOCAL";const pM=YS;new kc(3e4,6e4);function mM(n,e){return e?Ar(e):(Me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Eg extends kS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ro(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function gM(n){return QO(n.auth,new Eg(n),n.bypassAuthState)}function yM(n){const{auth:e,user:i}=n;return Me(i,e,"internal-error"),KO(i,new Eg(n),n.bypassAuthState)}async function vM(n){const{auth:e,user:i}=n;return Me(i,e,"internal-error"),XO(i,new Eg(n),n.bypassAuthState)}class XS{constructor(e,i,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:o,tenantId:c,error:u,type:p}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gM;case"linkViaPopup":case"linkViaRedirect":return vM;case"reauthViaPopup":case"reauthViaRedirect":return yM;default:Rr(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _M=new kc(2e3,1e4);class Ao extends XS{constructor(e,i,s,o,c){super(e,i,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_M.get())};e()}}Ao.currentPopupAction=null;const bM="pendingRedirect",xd=new Map;class EM extends XS{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=xd.get(this.auth._key());if(!e){try{const s=await TM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}xd.set(this.auth._key(),e)}return this.bypassAuthState||xd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TM(n,e){const i=wM(e),s=AM(n);if(!await s._isAvailable())return!1;const o=await s._get(i)==="true";return await s._remove(i),o}function SM(n,e){xd.set(n._key(),e)}function AM(n){return Ar(n._redirectPersistence)}function wM(n){return wd(bM,n.config.apiKey,n.name)}async function xM(n,e,i=!1){if(Si(n.app))return Promise.reject(Ts(n));const s=bh(n),o=mM(s,e),u=await new EM(s,o,i).execute();return u&&!i&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}const RM=600*1e3;class CM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IM(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!KS(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";i.onError($i(this.auth,s))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RM&&this.cachedEventUids.clear(),this.cachedEventUids.has(M0(e))}saveEventToCache(e){this.cachedEventUids.add(M0(e)),this.lastProcessedEventTime=Date.now()}}function M0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function KS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function IM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return KS(n);default:return!1}}async function DM(n,e={}){return $o(n,"GET","/v1/projects",e)}const NM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OM=/^https?/;async function MM(n){if(n.config.emulator)return;const{authorizedDomains:e}=await DM(n);for(const i of e)try{if(PM(i))return}catch{}Rr(n,"unauthorized-domain")}function PM(n){const e=Tm(),{protocol:i,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&s===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&u.hostname===s}if(!OM.test(i))return!1;if(NM.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const VM=new kc(3e4,6e4);function P0(){const n=Yi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function LM(n){return new Promise((e,i)=>{function s(){P0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P0(),i($i(n,"network-request-failed"))},timeout:VM.get()})}if(Yi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yi().gapi?.load)s();else{const o=UO("iframefcb");return Yi()[o]=()=>{gapi.load?s():i($i(n,"network-request-failed"))},kO(`${jO()}?onload=${o}`).catch(c=>i(c))}}).catch(e=>{throw Rd=null,e})}let Rd=null;function kM(n){return Rd=Rd||LM(n),Rd}const jM=new kc(5e3,15e3),UM="__/auth/iframe",BM="emulator/auth/iframe",zM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HM(n){const e=n.config;Me(e.authDomain,n,"auth-domain-config-required");const i=e.emulator?gg(e,BM):`https://${n.config.authDomain}/${UM}`,s={apiKey:e.apiKey,appName:n.name,v:Fo},o=GM.get(n.config.apiHost);o&&(s.eid=o);const c=n._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Lc(s).slice(1)}`}async function qM(n){const e=await kM(n),i=Yi().gapi;return Me(i,n,"internal-error"),e.open({where:document.body,url:HM(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zM,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const u=$i(n,"network-request-failed"),p=Yi().setTimeout(()=>{c(u)},jM.get());function m(){Yi().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{c(u)})}))}const FM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$M=500,YM=600,XM="_blank",KM="http://localhost";class V0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QM(n,e,i,s=$M,o=YM){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m={...FM,width:s.toString(),height:o.toString(),top:c,left:u},g=gn().toLowerCase();i&&(p=IS(g)?XM:i),RS(g)&&(e=e||KM,m.scrollbars="yes");const _=Object.entries(m).reduce((T,[w,C])=>`${T}${w}=${C},`,"");if(IO(g)&&p!=="_self")return WM(e||"",p),new V0(null);const y=window.open(e||"",p,_);Me(y,n,"popup-blocked");try{y.focus()}catch{}return new V0(y)}function WM(n,e){const i=document.createElement("a");i.href=n,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}const JM="__/auth/handler",ZM="emulator/auth/handler",e4=encodeURIComponent("fac");async function L0(n,e,i,s,o,c){Me(n.config.authDomain,n,"auth-domain-config-required"),Me(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:s,v:Fo,eventId:o};if(e instanceof jS){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",JD(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,y]of Object.entries({}))u[_]=y}if(e instanceof jc){const _=e.getScopes().filter(y=>y!=="");_.length>0&&(u.scopes=_.join(","))}n.tenantId&&(u.tid=n.tenantId);const p=u;for(const _ of Object.keys(p))p[_]===void 0&&delete p[_];const m=await n._getAppCheckToken(),g=m?`#${e4}=${encodeURIComponent(m)}`:"";return`${t4(n)}?${Lc(p).slice(1)}${g}`}function t4({config:n}){return n.emulator?gg(n,ZM):`https://${n.authDomain}/${JM}`}const nm="webStorageSupport";class n4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HS,this._completeRedirectFn=xM,this._overrideRedirectResult=SM}async _openPopup(e,i,s,o){Cr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await L0(e,i,s,Tm(),o);return QM(e,c,bg())}async _openRedirect(e,i,s,o){await this._originValidation(e);const c=await L0(e,i,s,Tm(),o);return sM(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Cr(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await qM(e),s=new CM(e);return i.register("authEvent",o=>(Me(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(nm,{type:nm},o=>{const c=o?.[0]?.[nm];c!==void 0&&i(!!c),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=MM(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return PS()||CS()||vg()}}const i4=n4;var k0="@firebase/auth",j0="1.11.1";class r4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function s4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a4(n){Po(new ba("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:u,authDomain:p}=s.options;Me(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:u,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VS(n)},g=new VO(s,o,c,m);return zO(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),Po(new ba("auth-internal",e=>{const i=bh(e.getProvider("auth").getImmediate());return(s=>new r4(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Es(k0,j0,s4(n)),Es(k0,j0,"esm2020")}const o4=300,l4=cS("authIdTokenMaxAge")||o4;let U0=null;const c4=n=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>l4)return;const o=i?.token;U0!==o&&(U0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function u4(n=mS()){const e=pg(n,"auth");if(e.isInitialized())return e.getImmediate();const i=BO(n,{popupRedirectResolver:i4,persistence:[pM,nM,HS]}),s=cS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const u=c4(c.toString());JO(i,u,()=>u(i.currentUser)),WO(i,p=>u(p))}}const o=oS("auth");return o&&GO(i,`http://${o}`),i}function d4(){return document.getElementsByTagName("head")?.[0]??document}LO({loadJS(n){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const c=$i("internal-error");c.customData=o,i(c)},s.type="text/javascript",s.charset="UTF-8",d4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a4("Browser");var B0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ss,QS;(function(){var n;function e(I,R){function D(){}D.prototype=R.prototype,I.F=R.prototype,I.prototype=new D,I.prototype.constructor=I,I.D=function(V,M,B){for(var N=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)N[oe-2]=arguments[oe];return R.prototype[M].apply(V,N)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,D){D||(D=0);const V=Array(16);if(typeof R=="string")for(var M=0;M<16;++M)V[M]=R.charCodeAt(D++)|R.charCodeAt(D++)<<8|R.charCodeAt(D++)<<16|R.charCodeAt(D++)<<24;else for(M=0;M<16;++M)V[M]=R[D++]|R[D++]<<8|R[D++]<<16|R[D++]<<24;R=I.g[0],D=I.g[1],M=I.g[2];let B=I.g[3],N;N=R+(B^D&(M^B))+V[0]+3614090360&4294967295,R=D+(N<<7&4294967295|N>>>25),N=B+(M^R&(D^M))+V[1]+3905402710&4294967295,B=R+(N<<12&4294967295|N>>>20),N=M+(D^B&(R^D))+V[2]+606105819&4294967295,M=B+(N<<17&4294967295|N>>>15),N=D+(R^M&(B^R))+V[3]+3250441966&4294967295,D=M+(N<<22&4294967295|N>>>10),N=R+(B^D&(M^B))+V[4]+4118548399&4294967295,R=D+(N<<7&4294967295|N>>>25),N=B+(M^R&(D^M))+V[5]+1200080426&4294967295,B=R+(N<<12&4294967295|N>>>20),N=M+(D^B&(R^D))+V[6]+2821735955&4294967295,M=B+(N<<17&4294967295|N>>>15),N=D+(R^M&(B^R))+V[7]+4249261313&4294967295,D=M+(N<<22&4294967295|N>>>10),N=R+(B^D&(M^B))+V[8]+1770035416&4294967295,R=D+(N<<7&4294967295|N>>>25),N=B+(M^R&(D^M))+V[9]+2336552879&4294967295,B=R+(N<<12&4294967295|N>>>20),N=M+(D^B&(R^D))+V[10]+4294925233&4294967295,M=B+(N<<17&4294967295|N>>>15),N=D+(R^M&(B^R))+V[11]+2304563134&4294967295,D=M+(N<<22&4294967295|N>>>10),N=R+(B^D&(M^B))+V[12]+1804603682&4294967295,R=D+(N<<7&4294967295|N>>>25),N=B+(M^R&(D^M))+V[13]+4254626195&4294967295,B=R+(N<<12&4294967295|N>>>20),N=M+(D^B&(R^D))+V[14]+2792965006&4294967295,M=B+(N<<17&4294967295|N>>>15),N=D+(R^M&(B^R))+V[15]+1236535329&4294967295,D=M+(N<<22&4294967295|N>>>10),N=R+(M^B&(D^M))+V[1]+4129170786&4294967295,R=D+(N<<5&4294967295|N>>>27),N=B+(D^M&(R^D))+V[6]+3225465664&4294967295,B=R+(N<<9&4294967295|N>>>23),N=M+(R^D&(B^R))+V[11]+643717713&4294967295,M=B+(N<<14&4294967295|N>>>18),N=D+(B^R&(M^B))+V[0]+3921069994&4294967295,D=M+(N<<20&4294967295|N>>>12),N=R+(M^B&(D^M))+V[5]+3593408605&4294967295,R=D+(N<<5&4294967295|N>>>27),N=B+(D^M&(R^D))+V[10]+38016083&4294967295,B=R+(N<<9&4294967295|N>>>23),N=M+(R^D&(B^R))+V[15]+3634488961&4294967295,M=B+(N<<14&4294967295|N>>>18),N=D+(B^R&(M^B))+V[4]+3889429448&4294967295,D=M+(N<<20&4294967295|N>>>12),N=R+(M^B&(D^M))+V[9]+568446438&4294967295,R=D+(N<<5&4294967295|N>>>27),N=B+(D^M&(R^D))+V[14]+3275163606&4294967295,B=R+(N<<9&4294967295|N>>>23),N=M+(R^D&(B^R))+V[3]+4107603335&4294967295,M=B+(N<<14&4294967295|N>>>18),N=D+(B^R&(M^B))+V[8]+1163531501&4294967295,D=M+(N<<20&4294967295|N>>>12),N=R+(M^B&(D^M))+V[13]+2850285829&4294967295,R=D+(N<<5&4294967295|N>>>27),N=B+(D^M&(R^D))+V[2]+4243563512&4294967295,B=R+(N<<9&4294967295|N>>>23),N=M+(R^D&(B^R))+V[7]+1735328473&4294967295,M=B+(N<<14&4294967295|N>>>18),N=D+(B^R&(M^B))+V[12]+2368359562&4294967295,D=M+(N<<20&4294967295|N>>>12),N=R+(D^M^B)+V[5]+4294588738&4294967295,R=D+(N<<4&4294967295|N>>>28),N=B+(R^D^M)+V[8]+2272392833&4294967295,B=R+(N<<11&4294967295|N>>>21),N=M+(B^R^D)+V[11]+1839030562&4294967295,M=B+(N<<16&4294967295|N>>>16),N=D+(M^B^R)+V[14]+4259657740&4294967295,D=M+(N<<23&4294967295|N>>>9),N=R+(D^M^B)+V[1]+2763975236&4294967295,R=D+(N<<4&4294967295|N>>>28),N=B+(R^D^M)+V[4]+1272893353&4294967295,B=R+(N<<11&4294967295|N>>>21),N=M+(B^R^D)+V[7]+4139469664&4294967295,M=B+(N<<16&4294967295|N>>>16),N=D+(M^B^R)+V[10]+3200236656&4294967295,D=M+(N<<23&4294967295|N>>>9),N=R+(D^M^B)+V[13]+681279174&4294967295,R=D+(N<<4&4294967295|N>>>28),N=B+(R^D^M)+V[0]+3936430074&4294967295,B=R+(N<<11&4294967295|N>>>21),N=M+(B^R^D)+V[3]+3572445317&4294967295,M=B+(N<<16&4294967295|N>>>16),N=D+(M^B^R)+V[6]+76029189&4294967295,D=M+(N<<23&4294967295|N>>>9),N=R+(D^M^B)+V[9]+3654602809&4294967295,R=D+(N<<4&4294967295|N>>>28),N=B+(R^D^M)+V[12]+3873151461&4294967295,B=R+(N<<11&4294967295|N>>>21),N=M+(B^R^D)+V[15]+530742520&4294967295,M=B+(N<<16&4294967295|N>>>16),N=D+(M^B^R)+V[2]+3299628645&4294967295,D=M+(N<<23&4294967295|N>>>9),N=R+(M^(D|~B))+V[0]+4096336452&4294967295,R=D+(N<<6&4294967295|N>>>26),N=B+(D^(R|~M))+V[7]+1126891415&4294967295,B=R+(N<<10&4294967295|N>>>22),N=M+(R^(B|~D))+V[14]+2878612391&4294967295,M=B+(N<<15&4294967295|N>>>17),N=D+(B^(M|~R))+V[5]+4237533241&4294967295,D=M+(N<<21&4294967295|N>>>11),N=R+(M^(D|~B))+V[12]+1700485571&4294967295,R=D+(N<<6&4294967295|N>>>26),N=B+(D^(R|~M))+V[3]+2399980690&4294967295,B=R+(N<<10&4294967295|N>>>22),N=M+(R^(B|~D))+V[10]+4293915773&4294967295,M=B+(N<<15&4294967295|N>>>17),N=D+(B^(M|~R))+V[1]+2240044497&4294967295,D=M+(N<<21&4294967295|N>>>11),N=R+(M^(D|~B))+V[8]+1873313359&4294967295,R=D+(N<<6&4294967295|N>>>26),N=B+(D^(R|~M))+V[15]+4264355552&4294967295,B=R+(N<<10&4294967295|N>>>22),N=M+(R^(B|~D))+V[6]+2734768916&4294967295,M=B+(N<<15&4294967295|N>>>17),N=D+(B^(M|~R))+V[13]+1309151649&4294967295,D=M+(N<<21&4294967295|N>>>11),N=R+(M^(D|~B))+V[4]+4149444226&4294967295,R=D+(N<<6&4294967295|N>>>26),N=B+(D^(R|~M))+V[11]+3174756917&4294967295,B=R+(N<<10&4294967295|N>>>22),N=M+(R^(B|~D))+V[2]+718787259&4294967295,M=B+(N<<15&4294967295|N>>>17),N=D+(B^(M|~R))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+B&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const D=R-this.blockSize,V=this.C;let M=this.h,B=0;for(;B<R;){if(M==0)for(;B<=D;)o(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<R;)if(V[M++]=I.charCodeAt(B++),M==this.blockSize){o(this,V),M=0;break}}else for(;B<R;)if(V[M++]=I[B++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var D=I.length-8;D<I.length;++D)I[D]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,D=0;D<4;++D)for(let V=0;V<32;V+=8)I[R++]=this.g[D]>>>V&255;return I};function c(I,R){var D=p;return Object.prototype.hasOwnProperty.call(D,I)?D[I]:D[I]=R(I)}function u(I,R){this.h=R;const D=[];let V=!0;for(let M=I.length-1;M>=0;M--){const B=I[M]|0;V&&B==R||(D[M]=B,V=!1)}this.g=D}var p={};function m(I){return-128<=I&&I<128?c(I,function(R){return new u([R|0],R<0?-1:0)}):new u([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return y;if(I<0)return L(g(-I));const R=[];let D=1;for(let V=0;I>=D;V++)R[V]=I/D|0,D*=4294967296;return new u(R,0)}function _(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return L(_(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=g(Math.pow(R,8));let V=y;for(let B=0;B<I.length;B+=8){var M=Math.min(8,I.length-B);const N=parseInt(I.substring(B,B+M),R);M<8?(M=g(Math.pow(R,M)),V=V.j(M).add(g(N))):(V=V.j(D),V=V.add(g(N)))}return V}var y=m(0),T=m(1),w=m(16777216);n=u.prototype,n.m=function(){if(k(this))return-L(this).m();let I=0,R=1;for(let D=0;D<this.g.length;D++){const V=this.i(D);I+=(V>=0?V:4294967296+V)*R,R*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(k(this))return"-"+L(this).toString(I);const R=g(Math.pow(I,6));var D=this;let V="";for(;;){const M=se(D,R).g;D=K(D,M.j(R));let B=((D.g.length>0?D.g[0]:D.h)>>>0).toString(I);if(D=M,C(D))return B+V;for(;B.length<6;)B="0"+B;V=B+V}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function k(I){return I.h==-1}n.l=function(I){return I=K(this,I),k(I)?-1:C(I)?0:1};function L(I){const R=I.g.length,D=[];for(let V=0;V<R;V++)D[V]=~I.g[V];return new u(D,~I.h).add(T)}n.abs=function(){return k(this)?L(this):this},n.add=function(I){const R=Math.max(this.g.length,I.g.length),D=[];let V=0;for(let M=0;M<=R;M++){let B=V+(this.i(M)&65535)+(I.i(M)&65535),N=(B>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);V=N>>>16,B&=65535,N&=65535,D[M]=N<<16|B}return new u(D,D[D.length-1]&-2147483648?-1:0)};function K(I,R){return I.add(L(R))}n.j=function(I){if(C(this)||C(I))return y;if(k(this))return k(I)?L(this).j(L(I)):L(L(this).j(I));if(k(I))return L(this.j(L(I)));if(this.l(w)<0&&I.l(w)<0)return g(this.m()*I.m());const R=this.g.length+I.g.length,D=[];for(var V=0;V<2*R;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<I.g.length;M++){const B=this.i(V)>>>16,N=this.i(V)&65535,oe=I.i(M)>>>16,Se=I.i(M)&65535;D[2*V+2*M]+=N*Se,W(D,2*V+2*M),D[2*V+2*M+1]+=B*Se,W(D,2*V+2*M+1),D[2*V+2*M+1]+=N*oe,W(D,2*V+2*M+1),D[2*V+2*M+2]+=B*oe,W(D,2*V+2*M+2)}for(I=0;I<R;I++)D[I]=D[2*I+1]<<16|D[2*I];for(I=R;I<2*R;I++)D[I]=0;return new u(D,0)};function W(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function ie(I,R){this.g=I,this.h=R}function se(I,R){if(C(R))throw Error("division by zero");if(C(I))return new ie(y,y);if(k(I))return R=se(L(I),R),new ie(L(R.g),L(R.h));if(k(R))return R=se(I,L(R)),new ie(L(R.g),R.h);if(I.g.length>30){if(k(I)||k(R))throw Error("slowDivide_ only works with positive integers.");for(var D=T,V=R;V.l(I)<=0;)D=le(D),V=le(V);var M=ce(D,1),B=ce(V,1);for(V=ce(V,2),D=ce(D,2);!C(V);){var N=B.add(V);N.l(I)<=0&&(M=M.add(D),B=N),V=ce(V,1),D=ce(D,1)}return R=K(I,M.j(R)),new ie(M,R)}for(M=y;I.l(R)>=0;){for(D=Math.max(1,Math.floor(I.m()/R.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),B=g(D),N=B.j(R);k(N)||N.l(I)>0;)D-=V,B=g(D),N=B.j(R);C(B)&&(B=T),M=M.add(B),I=K(I,N)}return new ie(M,I)}n.B=function(I){return se(this,I).h},n.and=function(I){const R=Math.max(this.g.length,I.g.length),D=[];for(let V=0;V<R;V++)D[V]=this.i(V)&I.i(V);return new u(D,this.h&I.h)},n.or=function(I){const R=Math.max(this.g.length,I.g.length),D=[];for(let V=0;V<R;V++)D[V]=this.i(V)|I.i(V);return new u(D,this.h|I.h)},n.xor=function(I){const R=Math.max(this.g.length,I.g.length),D=[];for(let V=0;V<R;V++)D[V]=this.i(V)^I.i(V);return new u(D,this.h^I.h)};function le(I){const R=I.g.length+1,D=[];for(let V=0;V<R;V++)D[V]=I.i(V)<<1|I.i(V-1)>>>31;return new u(D,I.h)}function ce(I,R){const D=R>>5;R%=32;const V=I.g.length-D,M=[];for(let B=0;B<V;B++)M[B]=R>0?I.i(B+D)>>>R|I.i(B+D+1)<<32-R:I.i(B+D);return new u(M,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,QS=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=_,Ss=u}).apply(typeof B0<"u"?B0:typeof self<"u"?self:typeof window<"u"?window:{});var yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var WS,rc,JS,Cd,wm,ZS,eA,tA;(function(){var n,e=Object.defineProperty;function i(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof yd=="object"&&yd];for(var v=0;v<d.length;++v){var S=d[v];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var s=i(this);function o(d,v){if(v)e:{var S=s;d=d.split(".");for(var x=0;x<d.length-1;x++){var G=d[x];if(!(G in S))break e;S=S[G]}d=d[d.length-1],x=S[d],v=v(x),v!=x&&v!=null&&e(S,d,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(v){var S=[],x;for(x in v)Object.prototype.hasOwnProperty.call(v,x)&&S.push([x,v[x]]);return S}});var c=c||{},u=this||self;function p(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function m(d,v,S){return d.call.apply(d.bind,arguments)}function g(d,v,S){return g=m,g.apply(null,arguments)}function _(d,v){var S=Array.prototype.slice.call(arguments,1);return function(){var x=S.slice();return x.push.apply(x,arguments),d.apply(this,x)}}function y(d,v){function S(){}S.prototype=v.prototype,d.Z=v.prototype,d.prototype=new S,d.prototype.constructor=d,d.Ob=function(x,G,Y){for(var fe=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)fe[ke-2]=arguments[ke];return v.prototype[G].apply(x,fe)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function w(d){const v=d.length;if(v>0){const S=Array(v);for(let x=0;x<v;x++)S[x]=d[x];return S}return[]}function C(d,v){for(let x=1;x<arguments.length;x++){const G=arguments[x];var S=typeof G;if(S=S!="object"?S:G?Array.isArray(G)?"array":S:"null",S=="array"||S=="object"&&typeof G.length=="number"){S=d.length||0;const Y=G.length||0;d.length=S+Y;for(let fe=0;fe<Y;fe++)d[S+fe]=G[fe]}else d.push(G)}}class k{constructor(v,S){this.i=v,this.j=S,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(d){u.setTimeout(()=>{throw d},0)}function K(){var d=I;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class W{constructor(){this.h=this.g=null}add(v,S){const x=ie.get();x.set(v,S),this.h?this.h.next=x:this.g=x,this.h=x}}var ie=new k(()=>new se,d=>d.reset());class se{constructor(){this.next=this.g=this.h=null}set(v,S){this.h=v,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ce=!1,I=new W,R=()=>{const d=Promise.resolve(void 0);le=()=>{d.then(D)}};function D(){for(var d;d=K();){try{d.h.call(d.g)}catch(S){L(S)}var v=ie;v.j(d),v.h<100&&(v.h++,d.next=v.g,v.g=d)}ce=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};u.addEventListener("test",S,v),u.removeEventListener("test",S,v)}catch{}return d})();function N(d){return/^[\s\xa0]*$/.test(d)}function oe(d,v){M.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,v)}y(oe,M),oe.prototype.init=function(d,v){const S=this.type=d.type,x=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget,v||(S=="mouseover"?v=d.fromElement:S=="mouseout"&&(v=d.toElement)),this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Se="closure_listenable_"+(Math.random()*1e6|0),Q=0;function he(d,v,S,x,G){this.listener=d,this.proxy=null,this.src=v,this.type=S,this.capture=!!x,this.ha=G,this.key=++Q,this.da=this.fa=!1}function Ee(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ue(d,v,S){for(const x in d)v.call(S,d[x],x,d)}function Ke(d,v){for(const S in d)v.call(void 0,d[S],S,d)}function j(d){const v={};for(const S in d)v[S]=d[S];return v}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(d,v){let S,x;for(let G=1;G<arguments.length;G++){x=arguments[G];for(S in x)d[S]=x[S];for(let Y=0;Y<Z.length;Y++)S=Z[Y],Object.prototype.hasOwnProperty.call(x,S)&&(d[S]=x[S])}}function ge(d){this.src=d,this.g={},this.h=0}ge.prototype.add=function(d,v,S,x,G){const Y=d.toString();d=this.g[Y],d||(d=this.g[Y]=[],this.h++);const fe=Oe(d,v,x,G);return fe>-1?(v=d[fe],S||(v.fa=!1)):(v=new he(v,this.src,Y,!!x,G),v.fa=S,d.push(v)),v};function Ce(d,v){const S=v.type;if(S in d.g){var x=d.g[S],G=Array.prototype.indexOf.call(x,v,void 0),Y;(Y=G>=0)&&Array.prototype.splice.call(x,G,1),Y&&(Ee(v),d.g[S].length==0&&(delete d.g[S],d.h--))}}function Oe(d,v,S,x){for(let G=0;G<d.length;++G){const Y=d[G];if(!Y.da&&Y.listener==v&&Y.capture==!!S&&Y.ha==x)return G}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),bt={};function We(d,v,S,x,G){if(Array.isArray(v)){for(let Y=0;Y<v.length;Y++)We(d,v[Y],S,x,G);return null}return S=Ls(S),d&&d[Se]?d.J(v,S,p(x)?!!x.capture:!1,G):un(d,v,S,!1,x,G)}function un(d,v,S,x,G,Y){if(!v)throw Error("Invalid event type");const fe=p(G)?!!G.capture:!!G;let ke=tr(d);if(ke||(d[Be]=ke=new ge(d)),S=ke.add(v,S,x,fe,Y),S.proxy)return S;if(x=Fn(),S.proxy=x,x.src=d,x.listener=S,d.addEventListener)B||(G=fe),G===void 0&&(G=!1),d.addEventListener(v.toString(),x,G);else if(d.attachEvent)d.attachEvent($n(v.toString()),x);else if(d.addListener&&d.removeListener)d.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Fn(){function d(S){return v.call(d.src,d.listener,S)}const v=Ps;return d}function xe(d,v,S,x,G){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)xe(d,v[Y],S,x,G);else x=p(x)?!!x.capture:!!x,S=Ls(S),d&&d[Se]?(d=d.i,Y=String(v).toString(),Y in d.g&&(v=d.g[Y],S=Oe(v,S,x,G),S>-1&&(Ee(v[S]),Array.prototype.splice.call(v,S,1),v.length==0&&(delete d.g[Y],d.h--)))):d&&(d=tr(d))&&(v=d.g[v.toString()],d=-1,v&&(d=Oe(v,S,x,G)),(S=d>-1?v[d]:null)&&yn(S))}function yn(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[Se])Ce(v.i,d);else{var S=d.type,x=d.proxy;v.removeEventListener?v.removeEventListener(S,x,d.capture):v.detachEvent?v.detachEvent($n(S),x):v.addListener&&v.removeListener&&v.removeListener(x),(S=tr(v))?(Ce(S,d),S.h==0&&(S.src=null,v[Be]=null)):Ee(d)}}}function $n(d){return d in bt?bt[d]:bt[d]="on"+d}function Ps(d,v){if(d.da)d=!0;else{v=new oe(v,this);const S=d.listener,x=d.ha||d.src;d.fa&&yn(d),d=S.call(x,v)}return d}function tr(d){return d=d[Be],d instanceof ge?d:null}var Vs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ls(d){return typeof d=="function"?d:(d[Vs]||(d[Vs]=function(v){return d.handleEvent(v)}),d[Vs])}function At(){V.call(this),this.i=new ge(this),this.M=this,this.G=null}y(At,V),At.prototype[Se]=!0,At.prototype.removeEventListener=function(d,v,S,x){xe(this,d,v,S,x)};function wt(d,v){var S,x=d.G;if(x)for(S=[];x;x=x.G)S.push(x);if(d=d.M,x=v.type||v,typeof v=="string")v=new M(v,d);else if(v instanceof M)v.target=v.target||d;else{var G=v;v=new M(x,d),ue(v,G)}G=!0;let Y,fe;if(S)for(fe=S.length-1;fe>=0;fe--)Y=v.g=S[fe],G=hi(Y,x,!0,v)&&G;if(Y=v.g=d,G=hi(Y,x,!0,v)&&G,G=hi(Y,x,!1,v)&&G,S)for(fe=0;fe<S.length;fe++)Y=v.g=S[fe],G=hi(Y,x,!1,v)&&G}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var d=this.i;for(const v in d.g){const S=d.g[v];for(let x=0;x<S.length;x++)Ee(S[x]);delete d.g[v],d.h--}}this.G=null},At.prototype.J=function(d,v,S,x){return this.i.add(String(d),v,!1,S,x)},At.prototype.K=function(d,v,S,x){return this.i.add(String(d),v,!0,S,x)};function hi(d,v,S,x){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();let G=!0;for(let Y=0;Y<v.length;++Y){const fe=v[Y];if(fe&&!fe.da&&fe.capture==S){const ke=fe.listener,Ct=fe.ha||fe.src;fe.fa&&Ce(d.i,fe),G=ke.call(Ct,x)!==!1&&G}}return G&&!x.defaultPrevented}function Jo(d,v){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(d,v||0)}function Ca(d){d.g=Jo(()=>{d.g=null,d.i&&(d.i=!1,Ca(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Zt extends V{constructor(v,S){super(),this.m=v,this.l=S,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ca(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function nr(d){V.call(this),this.h=d,this.g={}}y(nr,V);var ks=[];function js(d){Ue(d.g,function(v,S){this.g.hasOwnProperty(S)&&yn(v)},d),d.g={}}nr.prototype.N=function(){nr.Z.N.call(this),js(this)},nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ri=u.JSON.stringify,Zo=u.JSON.parse,Ia=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Da(){}function Na(){}var On={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){M.call(this,"d")}y(Gt,M);function Tn(){M.call(this,"c")}y(Tn,M);var Et={},dn=null;function Or(){return dn=dn||new At}Et.Ia="serverreachability";function Oa(d){M.call(this,Et.Ia,d)}y(Oa,M);function Yn(d){const v=Or();wt(v,new Oa(v))}Et.STAT_EVENT="statevent";function re(d,v){M.call(this,Et.STAT_EVENT,d),this.stat=v}y(re,M);function pe(d){const v=Or();wt(v,new re(v,d))}Et.Ja="timingevent";function ye(d,v){M.call(this,Et.Ja,d),this.size=v}y(ye,M);function me(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},v)}function be(){this.g=!0}be.prototype.ua=function(){this.g=!1};function et(d,v,S,x,G,Y){d.info(function(){if(d.g)if(Y){var fe="",ke=Y.split("&");for(let it=0;it<ke.length;it++){var Ct=ke[it].split("=");if(Ct.length>1){const vt=Ct[0];Ct=Ct[1];const Wn=vt.split("_");fe=Wn.length>=2&&Wn[1]=="type"?fe+(vt+"="+Ct+"&"):fe+(vt+"=redacted&")}}}else fe=null;else fe=Y;return"XMLHTTP REQ ("+x+") [attempt "+G+"]: "+v+`
`+S+`
`+fe})}function ir(d,v,S,x,G,Y,fe){d.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+G+"]: "+v+`
`+S+`
`+Y+" "+fe})}function Sn(d,v,S,x){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+Lh(d,S)+(x?" "+x:"")})}function Us(d,v){d.info(function(){return"TIMEOUT: "+v})}be.prototype.info=function(){};function Lh(d,v){if(!d.g)return v;if(!v)return null;try{const Y=JSON.parse(v);if(Y){for(d=0;d<Y.length;d++)if(Array.isArray(Y[d])){var S=Y[d];if(!(S.length<2)){var x=S[1];if(Array.isArray(x)&&!(x.length<1)){var G=x[0];if(G!="noop"&&G!="stop"&&G!="close")for(let fe=1;fe<x.length;fe++)x[fe]=""}}}}return Ri(Y)}catch{return v}}var Bs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},el={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},tl;function zs(){}y(zs,Da),zs.prototype.g=function(){return new XMLHttpRequest},tl=new zs;function rr(d){return encodeURIComponent(String(d))}function Fc(d){var v=1;d=d.split(":");const S=[];for(;v>0&&d.length;)S.push(d.shift()),v--;return d.length&&S.push(d.join(":")),S}function fi(d,v,S,x){this.j=d,this.i=v,this.l=S,this.S=x||1,this.V=new nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pi}function pi(){this.i=null,this.g="",this.h=!1}var Mt={},$t={};function Ci(d,v,S){d.M=1,d.A=Gs(Vt(v)),d.u=S,d.R=!0,Ma(d,null)}function Ma(d,v){d.F=Date.now(),Ii(d),d.B=Vt(d.A);var S=d.B,x=d.S;Array.isArray(x)||(x=[String(x)]),ka(S.i,"t",x),d.C=0,S=d.j.L,d.h=new pi,d.g=au(d.j,S?v:null,!d.u),d.P>0&&(d.O=new Zt(g(d.Y,d,d.g),d.P)),v=d.V,S=d.g,x=d.ba;var G="readystatechange";Array.isArray(G)||(G&&(ks[0]=G.toString()),G=ks);for(let Y=0;Y<G.length;Y++){const fe=We(S,G[Y],x||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=d.J?j(d.J):{},d.u?(d.v||(d.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,v)):(d.v="GET",d.g.ea(d.B,d.v,null,v)),Yn(),et(d.i,d.v,d.B,d.l,d.S,d.u)}fi.prototype.ba=function(d){d=d.target;const v=this.O;v&&yi(d)==3?v.j():this.Y(d)},fi.prototype.Y=function(d){try{if(d==this.g)e:{const ke=yi(this.g),Ct=this.g.ya(),it=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||ke!=4||Ct==7||(Ct==8||it<=0?Yn(3):Yn(2)),Di(this);var v=this.g.ca();this.X=v;var S=kh(this);if(this.o=v==200,ir(this.i,this.v,this.B,this.l,this.S,ke,v),this.o){if(this.U&&!this.L){t:{if(this.g){var x,G=this.g;if((x=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(x)){var Y=x;break t}}Y=null}if(d=Y)Sn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,d);else{this.o=!1,this.m=3,pe(12),Mn(this),Xn(this);break e}}if(this.R){d=!0;let vt;for(;!this.K&&this.C<S.length;)if(vt=Yc(this,S),vt==$t){ke==4&&(this.m=4,pe(14),d=!1),Sn(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Mt){this.m=4,pe(15),Sn(this.i,this.l,S,"[Invalid Chunk]"),d=!1;break}else Sn(this.i,this.l,vt,null),Ni(this,vt);if($c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||S.length!=0||this.h.h||(this.m=1,pe(16),d=!1),this.o=this.o&&d,!d)Sn(this.i,this.l,S,"[Invalid Chunked Response]"),Mn(this),Xn(this);else if(S.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),gl(fe),fe.P=!0,pe(11))}}else Sn(this.i,this.l,S,null),Ni(this,S);ke==4&&Mn(this),this.o&&!this.K&&(ke==4?nu(this.j,this):(this.o=!1,Ii(this)))}else ar(this.g),v==400&&S.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),Mn(this),Xn(this)}}}catch{}finally{}};function kh(d){if(!$c(d))return d.g.la();const v=en(d.g);if(v==="")return"";let S="";const x=v.length,G=yi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Mn(d),Xn(d),"";d.h.i=new u.TextDecoder}for(let Y=0;Y<x;Y++)d.h.h=!0,S+=d.h.i.decode(v[Y],{stream:!(G&&Y==x-1)});return v.length=0,d.h.g+=S,d.C=0,d.h.g}function $c(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Yc(d,v){var S=d.C,x=v.indexOf(`
`,S);return x==-1?$t:(S=Number(v.substring(S,x)),isNaN(S)?Mt:(x+=1,x+S>v.length?$t:(v=v.slice(x,x+S),d.C=x+S,v)))}fi.prototype.cancel=function(){this.K=!0,Mn(this)};function Ii(d){d.T=Date.now()+d.H,Pa(d,d.H)}function Pa(d,v){if(d.D!=null)throw Error("WatchDog timer not null");d.D=me(g(d.aa,d),v)}function Di(d){d.D&&(u.clearTimeout(d.D),d.D=null)}fi.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Us(this.i,this.B),this.M!=2&&(Yn(),pe(17)),Mn(this),this.m=2,Xn(this)):Pa(this,this.T-d)};function Xn(d){d.j.I==0||d.K||nu(d.j,d)}function Mn(d){Di(d);var v=d.O;v&&typeof v.dispose=="function"&&v.dispose(),d.O=null,js(d.V),d.g&&(v=d.g,d.g=null,v.abort(),v.dispose())}function Ni(d,v){try{var S=d.j;if(S.I!=0&&(S.g==d||Mi(S.h,d))){if(!d.L&&Mi(S.h,d)&&S.I==3){try{var x=S.Ba.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var G=x;if(G[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<d.F)Ga(S),Br(S);else break e;Ks(S),pe(18)}}else S.xa=G[1],0<S.xa-S.K&&G[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=me(g(S.Va,S),6e3));Oi(S.h)<=1&&S.ta&&(S.ta=void 0)}else Ui(S,11)}else if((d.L||S.g==d)&&Ga(S),!N(v))for(G=S.Ba.g.parse(v),v=0;v<G.length;v++){let it=G[v];const vt=it[0];if(!(vt<=S.K))if(S.K=vt,it=it[1],S.I==2)if(it[0]=="c"){S.M=it[1],S.ba=it[2];const Wn=it[3];Wn!=null&&(S.ka=Wn,S.j.info("VER="+S.ka));const Bi=it[4];Bi!=null&&(S.za=Bi,S.j.info("SVER="+S.za));const vi=it[5];vi!=null&&typeof vi=="number"&&vi>0&&(x=1.5*vi,S.O=x,S.j.info("backChannelRequestTimeoutMs_="+x)),x=S;const _i=d.g;if(_i){const Qs=_i.g?_i.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qs){var Y=x.h;Y.g||Qs.indexOf("spdy")==-1&&Qs.indexOf("quic")==-1&&Qs.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(rl(Y,Y.h),Y.h=null))}if(x.G){const Ha=_i.g?_i.g.getResponseHeader("X-HTTP-Session-Id"):null;Ha&&(x.wa=Ha,ot(x.J,x.G,Ha))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-d.F,S.j.info("Handshake RTT: "+S.T+"ms")),x=S;var fe=d;if(x.na=su(x,x.L?x.ba:null,x.W),fe.L){sl(x.h,fe);var ke=fe,Ct=x.O;Ct&&(ke.H=Ct),ke.D&&(Di(ke),Ii(ke)),x.g=fe}else eu(x);S.i.length>0&&ji(S)}else it[0]!="stop"&&it[0]!="close"||Ui(S,7);else S.I==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Ui(S,7):pl(S):it[0]!="noop"&&S.l&&S.l.qa(it),S.A=0)}}Yn(4)}catch{}}var Pt=class{constructor(d,v){this.g=d,this.map=v}};function nl(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function il(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Oi(d){return d.h?1:d.g?d.g.size:0}function Mi(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function rl(d,v){d.g?d.g.add(v):d.h=v}function sl(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}nl.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function al(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const S of d.g.values())v=v.concat(S.G);return v}return w(d.i)}var Xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Va(d,v){if(d){d=d.split("&");for(let S=0;S<d.length;S++){const x=d[S].indexOf("=");let G,Y=null;x>=0?(G=d[S].substring(0,x),Y=d[S].substring(x+1)):G=d[S],v(G,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Pn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;d instanceof Pn?(this.l=d.l,Yt(this,d.j),this.o=d.o,this.g=d.g,Mr(this,d.u),this.h=d.h,ol(this,Jc(d.i)),this.m=d.m):d&&(v=String(d).match(Xc))?(this.l=!1,Yt(this,v[1]||"",!0),this.o=Pi(v[2]||""),this.g=Pi(v[3]||"",!0),Mr(this,v[4]),this.h=Pi(v[5]||"",!0),ol(this,v[6]||"",!0),this.m=Pi(v[7]||"")):(this.l=!1,this.i=new Vr(null,this.l))}Pn.prototype.toString=function(){const d=[];var v=this.j;v&&d.push(Hs(v,La,!0),":");var S=this.g;return(S||v=="file")&&(d.push("//"),(v=this.o)&&d.push(Hs(v,La,!0),"@"),d.push(rr(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&d.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(Hs(S,S.charAt(0)=="/"?ll:Kc,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",Hs(S,Qc)),d.join("")},Pn.prototype.resolve=function(d){const v=Vt(this);let S=!!d.j;S?Yt(v,d.j):S=!!d.o,S?v.o=d.o:S=!!d.g,S?v.g=d.g:S=d.u!=null;var x=d.h;if(S)Mr(v,d.u);else if(S=!!d.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var G=v.h.lastIndexOf("/");G!=-1&&(x=v.h.slice(0,G+1)+x)}if(G=x,G==".."||G==".")x="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){x=G.lastIndexOf("/",0)==0,G=G.split("/");const Y=[];for(let fe=0;fe<G.length;){const ke=G[fe++];ke=="."?x&&fe==G.length&&Y.push(""):ke==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),x&&fe==G.length&&Y.push("")):(Y.push(ke),x=!0)}x=Y.join("/")}else x=G}return S?v.h=x:S=d.i.toString()!=="",S?ol(v,Jc(d.i)):S=!!d.m,S&&(v.m=d.m),v};function Vt(d){return new Pn(d)}function Yt(d,v,S){d.j=S?Pi(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function Mr(d,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);d.u=v}else d.u=null}function ol(d,v,S){v instanceof Vr?(d.i=v,ja(d.i,d.l)):(S||(v=Hs(v,Pr)),d.i=new Vr(v,d.l))}function ot(d,v,S){d.i.set(v,S)}function Gs(d){return ot(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Pi(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Hs(d,v,S){return typeof d=="string"?(d=encodeURI(d).replace(v,An),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function An(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var La=/[#\/\?@]/g,Kc=/[#\?:]/g,ll=/[#\?]/g,Pr=/[#\?@]/g,Qc=/#/g;function Vr(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function wn(d){d.g||(d.g=new Map,d.h=0,d.i&&Va(d.i,function(v,S){d.add(decodeURIComponent(v.replace(/\+/g," ")),S)}))}n=Vr.prototype,n.add=function(d,v){wn(this),this.i=null,d=Lr(this,d);let S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(v),this.h+=1,this};function Wc(d,v){wn(d),v=Lr(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function cl(d,v){return wn(d),v=Lr(d,v),d.g.has(v)}n.forEach=function(d,v){wn(this),this.g.forEach(function(S,x){S.forEach(function(G){d.call(v,G,x,this)},this)},this)};function ul(d,v){wn(d);let S=[];if(typeof v=="string")cl(d,v)&&(S=S.concat(d.g.get(Lr(d,v))));else for(d=Array.from(d.g.values()),v=0;v<d.length;v++)S=S.concat(d[v]);return S}n.set=function(d,v){return wn(this),this.i=null,d=Lr(this,d),cl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},n.get=function(d,v){return d?(d=ul(this,d),d.length>0?String(d[0]):v):v};function ka(d,v,S){Wc(d,v),S.length>0&&(d.i=null,d.g.set(Lr(d,v),w(S)),d.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(let x=0;x<v.length;x++){var S=v[x];const G=rr(S);S=ul(this,S);for(let Y=0;Y<S.length;Y++){let fe=G;S[Y]!==""&&(fe+="="+rr(S[Y])),d.push(fe)}}return this.i=d.join("&")};function Jc(d){const v=new Vr;return v.i=d.i,d.g&&(v.g=new Map(d.g),v.h=d.h),v}function Lr(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function ja(d,v){v&&!d.j&&(wn(d),d.i=null,d.g.forEach(function(S,x){const G=x.toLowerCase();x!=G&&(Wc(this,x),ka(this,G,S))},d)),d.j=v}function mi(d,v){const S=new be;if(u.Image){const x=new Image;x.onload=_(Kn,S,"TestLoadImage: loaded",!0,v,x),x.onerror=_(Kn,S,"TestLoadImage: error",!1,v,x),x.onabort=_(Kn,S,"TestLoadImage: abort",!1,v,x),x.ontimeout=_(Kn,S,"TestLoadImage: timeout",!1,v,x),u.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=d}else v(!1)}function dl(d,v){const S=new be,x=new AbortController,G=setTimeout(()=>{x.abort(),Kn(S,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:x.signal}).then(Y=>{clearTimeout(G),Y.ok?Kn(S,"TestPingServer: ok",!0,v):Kn(S,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),Kn(S,"TestPingServer: error",!1,v)})}function Kn(d,v,S,x,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),x(S)}catch{}}function kr(){this.g=new Ia}function Vi(d){this.i=d.Sb||null,this.h=d.ab||!1}y(Vi,Da),Vi.prototype.g=function(){return new qs(this.i,this.h)};function qs(d,v){At.call(this),this.H=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(qs,At),n=qs.prototype,n.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=v,this.readyState=1,gi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(v.body=d),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,jr(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,gi(this)),this.g&&(this.readyState=3,gi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ua(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ua(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?jr(this):gi(this),this.readyState==3&&Ua(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,jr(this))},n.Na=function(d){this.g&&(this.response=d,jr(this))},n.ga=function(){this.g&&jr(this)};function jr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,gi(d)}n.setRequestHeader=function(d,v){this.A.append(d,v)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var S=v.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=v.next();return d.join(`\r
`)};function gi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Qn(d){let v="";return Ue(d,function(S,x){v+=x,v+=":",v+=S,v+=`\r
`}),v}function Fs(d,v,S){e:{for(x in S){var x=!1;break e}x=!0}x||(S=Qn(S),typeof d=="string"?S!=null&&rr(S):ot(d,v,S))}function ut(d){At.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(ut,At);var Li=/^https?$/i,hl=["POST","PUT"];n=ut.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,v,S,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():tl.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(Y){$s(this,Y);return}if(d=S||"",S=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var G in x)S.set(G,x[G]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Y of x.keys())S.set(Y,x.get(Y));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(S.keys()).find(Y=>Y.toLowerCase()=="content-type"),G=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(hl,v,void 0)>=0)||x||G||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,fe]of S)this.g.setRequestHeader(Y,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Y){$s(this,Y)}};function $s(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.o=5,fl(d),sr(d)}function fl(d){d.A||(d.A=!0,wt(d,"complete"),wt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,wt(this,"complete"),wt(this,"abort"),sr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),ut.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ys(this):this.Xa())},n.Xa=function(){Ys(this)};function Ys(d){if(d.h&&typeof c<"u"){if(d.v&&yi(d)==4)setTimeout(d.Ca.bind(d),0);else if(wt(d,"readystatechange"),yi(d)==4){d.h=!1;try{const Y=d.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var S;if(!(S=v)){var x;if(x=Y===0){let fe=String(d.D).match(Xc)[1]||null;!fe&&u.self&&u.self.location&&(fe=u.self.location.protocol.slice(0,-1)),x=!Li.test(fe?fe.toLowerCase():"")}S=x}if(S)wt(d,"complete"),wt(d,"success");else{d.o=6;try{var G=yi(d)>2?d.g.statusText:""}catch{G=""}d.l=G+" ["+d.ca()+"]",fl(d)}}finally{sr(d)}}}}function sr(d,v){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const S=d.g;d.g=null,v||wt(d,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function yi(d){return d.g?d.g.readyState:0}n.ca=function(){try{return yi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),Zo(v)}};function en(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ar(d){const v={};d=(d.g&&yi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<d.length;x++){if(N(d[x]))continue;var S=Fc(d[x]);const G=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const Y=v[G]||[];v[G]=Y,Y.push(S)}Ke(v,function(x){return x.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(d,v,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||v}function Ur(d){this.za=0,this.i=[],this.j=new be,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,d),this.Za=ki("retryDelaySeedMs",1e4,d),this.Ta=ki("forwardChannelMaxRetries",2,d),this.va=ki("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new nl(d&&d.concurrentRequestLimit),this.Ba=new kr,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ur.prototype,n.ka=8,n.I=1,n.connect=function(d,v,S,x){pe(0),this.W=d,this.H=v||{},S&&x!==void 0&&(this.H.OSID=S,this.H.OAID=x),this.F=this.X,this.J=su(this,null,this.W),ji(this)};function pl(d){if(Ba(d),d.I==3){var v=d.V++,S=Vt(d.J);if(ot(S,"SID",d.M),ot(S,"RID",v),ot(S,"TYPE","terminate"),Xs(d,S),v=new fi(d,d.j,v),v.M=2,v.A=Gs(Vt(S)),S=!1,u.navigator&&u.navigator.sendBeacon)try{S=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!S&&u.Image&&(new Image().src=v.A,S=!0),S||(v.g=au(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ii(v)}ru(d)}function Br(d){d.g&&(gl(d),d.g.cancel(),d.g=null)}function Ba(d){Br(d),d.v&&(u.clearTimeout(d.v),d.v=null),Ga(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function ji(d){if(!il(d.h)&&!d.m){d.m=!0;var v=d.Ea;le||R(),ce||(le(),ce=!0),I.add(v,d),d.D=0}}function za(d,v){return Oi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=v.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=me(g(d.Ea,d,v),iu(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const G=new fi(this,this.j,d);let Y=this.o;if(this.U&&(Y?(Y=j(Y),ue(Y,this.U)):Y=this.U),this.u!==null||this.R||(G.J=Y,Y=null),this.S)e:{for(var v=0,S=0;S<this.i.length;S++){t:{var x=this.i[S];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(v+=x,v>4096){v=S;break e}if(v===4096||S===this.i.length-1){v=S+1;break e}}v=1e3}else v=1e3;v=Zc(this,G,v),S=Vt(this.J),ot(S,"RID",d),ot(S,"CVER",22),this.G&&ot(S,"X-HTTP-Session-Id",this.G),Xs(this,S),Y&&(this.R?v="headers="+rr(Qn(Y))+"&"+v:this.u&&Fs(S,this.u,Y)),rl(this.h,G),this.Ra&&ot(S,"TYPE","init"),this.S?(ot(S,"$req",v),ot(S,"SID","null"),G.U=!0,Ci(G,S,null)):Ci(G,S,v),this.I=2}}else this.I==3&&(d?ml(this,d):this.i.length==0||il(this.h)||ml(this))};function ml(d,v){var S;v?S=v.l:S=d.V++;const x=Vt(d.J);ot(x,"SID",d.M),ot(x,"RID",S),ot(x,"AID",d.K),Xs(d,x),d.u&&d.o&&Fs(x,d.u,d.o),S=new fi(d,d.j,S,d.D+1),d.u===null&&(S.J=d.o),v&&(d.i=v.G.concat(d.i)),v=Zc(d,S,1e3),S.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),rl(d.h,S),Ci(S,x,v)}function Xs(d,v){d.H&&Ue(d.H,function(S,x){ot(v,x,S)}),d.l&&Ue({},function(S,x){ot(v,x,S)})}function Zc(d,v,S){S=Math.min(d.i.length,S);const x=d.l?g(d.l.Ka,d.l,d):null;e:{var G=d.i;let ke=-1;for(;;){const Ct=["count="+S];ke==-1?S>0?(ke=G[0].g,Ct.push("ofs="+ke)):ke=0:Ct.push("ofs="+ke);let it=!0;for(let vt=0;vt<S;vt++){var Y=G[vt].g;const Wn=G[vt].map;if(Y-=ke,Y<0)ke=Math.max(0,G[vt].g-100),it=!1;else try{Y="req"+Y+"_"||"";try{var fe=Wn instanceof Map?Wn:Object.entries(Wn);for(const[Bi,vi]of fe){let _i=vi;p(vi)&&(_i=Ri(vi)),Ct.push(Y+Bi+"="+encodeURIComponent(_i))}}catch(Bi){throw Ct.push(Y+"type="+encodeURIComponent("_badmap")),Bi}}catch{x&&x(Wn)}}if(it){fe=Ct.join("&");break e}}fe=void 0}return d=d.i.splice(0,S),v.G=d,fe}function eu(d){if(!d.g&&!d.v){d.Y=1;var v=d.Da;le||R(),ce||(le(),ce=!0),I.add(v,d),d.A=0}}function Ks(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=me(g(d.Da,d),iu(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=me(g(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),Br(this),tu(this))};function gl(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function tu(d){d.g=new fi(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var v=Vt(d.na);ot(v,"RID","rpc"),ot(v,"SID",d.M),ot(v,"AID",d.K),ot(v,"CI",d.F?"0":"1"),!d.F&&d.ia&&ot(v,"TO",d.ia),ot(v,"TYPE","xmlhttp"),Xs(d,v),d.u&&d.o&&Fs(v,d.u,d.o),d.O&&(d.g.H=d.O);var S=d.g;d=d.ba,S.M=1,S.A=Gs(Vt(v)),S.u=null,S.R=!0,Ma(S,d)}n.Va=function(){this.C!=null&&(this.C=null,Br(this),Ks(this),pe(19))};function Ga(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function nu(d,v){var S=null;if(d.g==v){Ga(d),gl(d),d.g=null;var x=2}else if(Mi(d.h,v))S=v.G,sl(d.h,v),x=1;else return;if(d.I!=0){if(v.o)if(x==1){S=v.u?v.u.length:0,v=Date.now()-v.F;var G=d.D;x=Or(),wt(x,new ye(x,S)),ji(d)}else eu(d);else if(G=v.m,G==3||G==0&&v.X>0||!(x==1&&za(d,v)||x==2&&Ks(d)))switch(S&&S.length>0&&(v=d.h,v.i=v.i.concat(S)),G){case 1:Ui(d,5);break;case 4:Ui(d,10);break;case 3:Ui(d,6);break;default:Ui(d,2)}}}function iu(d,v){let S=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(S*=2),S*v}function Ui(d,v){if(d.j.info("Error code "+v),v==2){var S=g(d.bb,d),x=d.Ua;const G=!x;x=new Pn(x||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Yt(x,"https"),Gs(x),G?mi(x.toString(),S):dl(x.toString(),S)}else pe(2);d.I=0,d.l&&d.l.pa(v),ru(d),Ba(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function ru(d){if(d.I=0,d.ja=[],d.l){const v=al(d.h);(v.length!=0||d.i.length!=0)&&(C(d.ja,v),C(d.ja,d.i),d.h.i.length=0,w(d.i),d.i.length=0),d.l.oa()}}function su(d,v,S){var x=S instanceof Pn?Vt(S):new Pn(S);if(x.g!="")v&&(x.g=v+"."+x.g),Mr(x,x.u);else{var G=u.location;x=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;const Y=new Pn(null);x&&Yt(Y,x),v&&(Y.g=v),G&&Mr(Y,G),S&&(Y.h=S),x=Y}return S=d.G,v=d.wa,S&&v&&ot(x,S,v),ot(x,"VER",d.ka),Xs(d,x),x}function au(d,v,S){if(v&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Aa&&!d.ma?new ut(new Vi({ab:S})):new ut(d.ma),v.Fa(d.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ou(){}n=ou.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function zr(){}zr.prototype.g=function(d,v){return new vn(d,v)};function vn(d,v){At.call(this),this.g=new Ur(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(d?d["X-WebChannel-Client-Profile"]=v.sa:d={"X-WebChannel-Client-Profile":v.sa}),this.g.U=d,(d=v&&v.Qb)&&!N(d)&&(this.g.u=d),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new or(this)}y(vn,At),vn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){pl(this.g)},vn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.v&&(S={},S.__data__=Ri(d),d=S);v.i.push(new Pt(v.Ya++,d)),v.I==3&&ji(v)},vn.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,vn.Z.N.call(this)};function lu(d){Gt.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const S in v){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}y(lu,Gt);function cu(){Tn.call(this),this.status=1}y(cu,Tn);function or(d){this.g=d}y(or,ou),or.prototype.ra=function(){wt(this.g,"a")},or.prototype.qa=function(d){wt(this.g,new lu(d))},or.prototype.pa=function(d){wt(this.g,new cu)},or.prototype.oa=function(){wt(this.g,"b")},zr.prototype.createWebChannel=zr.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,tA=function(){return new zr},eA=function(){return Or()},ZS=Et,wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Bs.NO_ERROR=0,Bs.TIMEOUT=8,Bs.HTTP_ERROR=6,Cd=Bs,el.COMPLETE="complete",JS=el,Na.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",At.prototype.listen=At.prototype.J,rc=Na,ut.prototype.listenOnce=ut.prototype.K,ut.prototype.getLastError=ut.prototype.Ha,ut.prototype.getLastErrorCode=ut.prototype.ya,ut.prototype.getStatus=ut.prototype.ca,ut.prototype.getResponseJson=ut.prototype.La,ut.prototype.getResponseText=ut.prototype.la,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Fa,WS=ut}).apply(typeof yd<"u"?yd:typeof self<"u"?self:typeof window<"u"?window:{});const z0="@firebase/firestore",G0="4.9.2";class pn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let Yo="12.3.0";const Ta=new hg("@firebase/firestore");function bo(){return Ta.logLevel}function ve(n,...e){if(Ta.logLevel<=$e.DEBUG){const i=e.map(Tg);Ta.debug(`Firestore (${Yo}): ${n}`,...i)}}function Ir(n,...e){if(Ta.logLevel<=$e.ERROR){const i=e.map(Tg);Ta.error(`Firestore (${Yo}): ${n}`,...i)}}function Vo(n,...e){if(Ta.logLevel<=$e.WARN){const i=e.map(Tg);Ta.warn(`Firestore (${Yo}): ${n}`,...i)}}function Tg(n){if(typeof n=="string")return n;try{return(function(i){return JSON.stringify(i)})(n)}catch{return n}}function Ne(n,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,nA(n,s,i)}function nA(n,e,i){let s=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Ir(s),new Error(s)}function at(n,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,n||nA(e,o,s)}function Le(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Nr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ga{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class iA{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(pn.UNAUTHENTICATED)))}shutdown(){}}class f4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class p4{constructor(e){this.t=e,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){at(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,i(m)):Promise.resolve();let c=new ga;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ga,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const m=c;e.enqueueRetryable((async()=>{await m.promise,await o(this.currentUser)}))},p=m=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>p(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ga)}}),0),u()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(at(typeof s.accessToken=="string",31837,{l:s}),new iA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new pn(e)}}class m4{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class g4{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new m4(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class H0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class y4{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Si(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){at(this.o===void 0,3512);const s=c=>{c.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const u=c.token!==this.m;return this.m=c.token,ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const o=c=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new H0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(at(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new H0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function v4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<n;s++)i[s]=Math.floor(256*Math.random());return i}class Sg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=v4(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Ye(n,e){return n<e?-1:n>e?1:0}function xm(n,e){const i=Math.min(n.length,e.length);for(let s=0;s<i;s++){const o=n.charAt(s),c=e.charAt(s);if(o!==c)return im(o)===im(c)?Ye(o,c):im(o)?1:-1}return Ye(n.length,e.length)}const _4=55296,b4=57343;function im(n){const e=n.charCodeAt(0);return e>=_4&&e<=b4}function Lo(n,e,i){return n.length===e.length&&n.every(((s,o)=>i(s,e[o])))}const q0="__name__";class Fi{constructor(e,i,s){i===void 0?i=0:i>e.length&&Ne(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&Ne(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=Fi.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Ye(e.length,i.length)}static compareSegments(e,i){const s=Fi.isNumericId(e),o=Fi.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Fi.extractNumericId(e).compare(Fi.extractNumericId(i)):xm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ss.fromString(e.substring(4,e.length-2))}}class Tt extends Fi{construct(e,i,s){return new Tt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new we(ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new Tt(i)}static emptyPath(){return new Tt([])}}const E4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Fi{construct(e,i,s){return new on(e,i,s)}static isValidIdentifier(e){return E4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===q0}static keyField(){return new on([q0])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new we(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let u=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new we(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new we(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(u=!u,o++):p!=="."||u?(s+=p,o++):(c(),o++)}if(c(),u)throw new we(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(i)}static emptyPath(){return new on([])}}class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Tt.fromString(e))}static fromName(e){return new Ie(Tt.fromString(e).popFirst(5))}static empty(){return new Ie(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Tt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Tt(e.slice()))}}function T4(n,e,i){if(!i)throw new we(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function S4(n,e,i,s){if(e===!0&&s===!0)throw new we(ae.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function F0(n){if(!Ie.isDocumentKey(n))throw new we(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ag(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne(12329,{type:typeof n})}function Co(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ag(n);throw new we(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return n}function zt(n,e){const i={typeString:n};return e&&(i.value=e),i}function Bc(n,e){if(!rA(n))throw new we(ae.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){i=`JSON missing required field: '${s}'`;break}const u=n[s];if(o&&typeof u!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&u!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new we(ae.INVALID_ARGUMENT,i);return!0}const $0=-62135596800,Y0=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Y0);return new yt(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new we(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new we(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<$0)throw new we(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y0}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Bc(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:zt("string",yt._jsonSchemaVersion),seconds:zt("number"),nanoseconds:zt("number")};class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new yt(0,0))}static max(){return new Pe(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xc=-1;function A4(n,e){const i=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Pe.fromTimestamp(s===1e9?new yt(i+1,0):new yt(i,s));return new Cs(o,Ie.empty(),e)}function w4(n){return new Cs(n.readTime,n.key,xc)}class Cs{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Cs(Pe.min(),Ie.empty(),xc)}static max(){return new Cs(Pe.max(),Ie.empty(),xc)}}function x4(n,e){let i=n.readTime.compareTo(e.readTime);return i!==0?i:(i=Ie.comparator(n.documentKey,e.documentKey),i!==0?i:Ye(n.largestBatchId,e.largestBatchId))}const R4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Xo(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==R4)throw n;ve("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof ne?i:ne.resolve(i)}catch(i){return ne.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):ne.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):ne.reject(i)}static resolve(e){return new ne(((i,s)=>{i(e)}))}static reject(e){return new ne(((i,s)=>{s(e)}))}static waitFor(e){return new ne(((i,s)=>{let o=0,c=0,u=!1;e.forEach((p=>{++o,p.next((()=>{++c,u&&c===o&&i()}),(m=>s(m)))})),u=!0,c===o&&i()}))}static or(e){let i=ne.resolve(!1);for(const s of e)i=i.next((o=>o?ne.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,c)=>{s.push(i.call(this,o,c))})),this.waitFor(s)}static mapArray(e,i){return new ne(((s,o)=>{const c=e.length,u=new Array(c);let p=0;for(let m=0;m<c;m++){const g=m;i(e[g]).next((_=>{u[g]=_,++p,p===c&&s(u)}),(_=>o(_)))}}))}static doWhile(e,i){return new ne(((s,o)=>{const c=()=>{e()===!0?i().next((()=>{c()}),o):s()};c()}))}}function I4(n){const e=n.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ko(n){return n.name==="IndexedDbTransactionError"}class Sh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sh.ce=-1;const wg=-1;function Ah(n){return n==null}function Wd(n){return n===0&&1/n==-1/0}function D4(n){return typeof n=="number"&&Number.isInteger(n)&&!Wd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const sA="";function N4(n){let e="";for(let i=0;i<n.length;i++)e.length>0&&(e=X0(e)),e=O4(n.get(i),e);return X0(e)}function O4(n,e){let i=e;const s=n.length;for(let o=0;o<s;o++){const c=n.charAt(o);switch(c){case"\0":i+="";break;case sA:i+="";break;default:i+=c}}return i}function X0(n){return n+sA+""}function K0(n){let e=0;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&e++;return e}function Aa(n,e){for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&e(i,n[i])}function aA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class St{constructor(e,i){this.comparator=e,this.root=i||an.EMPTY}insert(e,i){return new St(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vd(this.root,e,this.comparator,!0)}}class vd{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??an.RED,this.left=o??an.EMPTY,this.right=c??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new an(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return an.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new an(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Q0(this.data.getIterator())}getIteratorFrom(e){return new Q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ft(this.comparator);return i.data=e,i}}class Q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xi{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new xi([])}unionWith(e){let i=new Ft(on.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new xi(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class oA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new oA("Invalid base64 string: "+c):c}})(e);return new cn(i)}static fromUint8Array(e){const i=(function(o){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);return c})(e);return new cn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const M4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(n){if(at(!!n,39018),typeof n=="string"){let e=0;const i=M4.exec(n);if(at(!!i,46558,{timestamp:n}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Nt(n.seconds),nanos:Nt(n.nanos)}}function Nt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ds(n){return typeof n=="string"?cn.fromBase64String(n):cn.fromUint8Array(n)}const lA="server_timestamp",cA="__type__",uA="__previous_value__",dA="__local_write_time__";function xg(n){return(n?.mapValue?.fields||{})[cA]?.stringValue===lA}function wh(n){const e=n.mapValue.fields[uA];return xg(e)?wh(e):e}function Rc(n){const e=Is(n.mapValue.fields[dA].timestampValue);return new yt(e.seconds,e.nanos)}class P4{constructor(e,i,s,o,c,u,p,m,g,_){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=u,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=_}}const Jd="(default)";class Cc{constructor(e,i){this.projectId=e,this.database=i||Jd}static empty(){return new Cc("","")}get isDefaultDatabase(){return this.database===Jd}isEqual(e){return e instanceof Cc&&e.projectId===this.projectId&&e.database===this.database}}const hA="__type__",V4="__max__",_d={mapValue:{}},fA="__vector__",Zd="value";function Ns(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xg(n)?4:k4(n)?9007199254740991:L4(n)?10:11:Ne(28295,{value:n})}function Zi(n,e){if(n===e)return!0;const i=Ns(n);if(i!==Ns(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rc(n).isEqual(Rc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const u=Is(o.timestampValue),p=Is(c.timestampValue);return u.seconds===p.seconds&&u.nanos===p.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,c){return Ds(o.bytesValue).isEqual(Ds(c.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,c){return Nt(o.geoPointValue.latitude)===Nt(c.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(c.geoPointValue.longitude)})(n,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Nt(o.integerValue)===Nt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const u=Nt(o.doubleValue),p=Nt(c.doubleValue);return u===p?Wd(u)===Wd(p):isNaN(u)&&isNaN(p)}return!1})(n,e);case 9:return Lo(n.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(o,c){const u=o.mapValue.fields||{},p=c.mapValue.fields||{};if(K0(u)!==K0(p))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(p[m]===void 0||!Zi(u[m],p[m])))return!1;return!0})(n,e);default:return Ne(52216,{left:n})}}function Ic(n,e){return(n.values||[]).find((i=>Zi(i,e)))!==void 0}function ko(n,e){if(n===e)return 0;const i=Ns(n),s=Ns(e);if(i!==s)return Ye(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ye(n.booleanValue,e.booleanValue);case 2:return(function(c,u){const p=Nt(c.integerValue||c.doubleValue),m=Nt(u.integerValue||u.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1})(n,e);case 3:return W0(n.timestampValue,e.timestampValue);case 4:return W0(Rc(n),Rc(e));case 5:return xm(n.stringValue,e.stringValue);case 6:return(function(c,u){const p=Ds(c),m=Ds(u);return p.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(c,u){const p=c.split("/"),m=u.split("/");for(let g=0;g<p.length&&g<m.length;g++){const _=Ye(p[g],m[g]);if(_!==0)return _}return Ye(p.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(c,u){const p=Ye(Nt(c.latitude),Nt(u.latitude));return p!==0?p:Ye(Nt(c.longitude),Nt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return J0(n.arrayValue,e.arrayValue);case 10:return(function(c,u){const p=c.fields||{},m=u.fields||{},g=p[Zd]?.arrayValue,_=m[Zd]?.arrayValue,y=Ye(g?.values?.length||0,_?.values?.length||0);return y!==0?y:J0(g,_)})(n.mapValue,e.mapValue);case 11:return(function(c,u){if(c===_d.mapValue&&u===_d.mapValue)return 0;if(c===_d.mapValue)return 1;if(u===_d.mapValue)return-1;const p=c.fields||{},m=Object.keys(p),g=u.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let y=0;y<m.length&&y<_.length;++y){const T=xm(m[y],_[y]);if(T!==0)return T;const w=ko(p[m[y]],g[_[y]]);if(w!==0)return w}return Ye(m.length,_.length)})(n.mapValue,e.mapValue);default:throw Ne(23264,{he:i})}}function W0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ye(n,e);const i=Is(n),s=Is(e),o=Ye(i.seconds,s.seconds);return o!==0?o:Ye(i.nanos,s.nanos)}function J0(n,e){const i=n.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=ko(i[o],s[o]);if(c)return c}return Ye(i.length,s.length)}function jo(n){return Rm(n)}function Rm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(i){const s=Is(i);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(i){return Ds(i).toBase64()})(n.bytesValue):"referenceValue"in n?(function(i){return Ie.fromName(i).toString()})(n.referenceValue):"geoPointValue"in n?(function(i){return`geo(${i.latitude},${i.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Rm(c);return s+"]"})(n.arrayValue):"mapValue"in n?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const u of s)c?c=!1:o+=",",o+=`${u}:${Rm(i.fields[u])}`;return o+"}"})(n.mapValue):Ne(61005,{value:n})}function Id(n){switch(Ns(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(n);return e?16+Id(e):16;case 5:return 2*n.stringValue.length;case 6:return Ds(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,c)=>o+Id(c)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Aa(s.fields,((c,u)=>{o+=c.length+Id(u)})),o})(n.mapValue);default:throw Ne(13486,{value:n})}}function Cm(n){return!!n&&"integerValue"in n}function Rg(n){return!!n&&"arrayValue"in n}function Z0(n){return!!n&&"nullValue"in n}function eE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Dd(n){return!!n&&"mapValue"in n}function L4(n){return(n?.mapValue?.fields||{})[hA]?.stringValue===fA}function fc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Aa(n.mapValue.fields,((i,s)=>e.mapValue.fields[i]=fc(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=fc(n.arrayValue.values[i]);return e}return{...n}}function k4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===V4}class oi{constructor(e){this.value=e}static empty(){return new oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Dd(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(i)}setAll(e){let i=on.emptyPath(),s={},o=[];e.forEach(((u,p)=>{if(!i.isImmediateParentOf(p)){const m=this.getFieldsMap(i);this.applyChanges(m,s,o),s={},o=[],i=p.popLast()}u?s[p.lastSegment()]=fc(u):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());Dd(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Dd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Aa(i,((o,c)=>e[o]=c));for(const o of s)delete e[o]}clone(){return new oi(fc(this.value))}}function pA(n){const e=[];return Aa(n.fields,((i,s)=>{const o=new on([i]);if(Dd(s)){const c=pA(s.mapValue).fields;if(c.length===0)e.push(o);else for(const u of c)e.push(o.child(u))}else e.push(o)})),new xi(e)}class mn{constructor(e,i,s,o,c,u,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=u,this.documentState=p}static newInvalidDocument(e){return new mn(e,0,Pe.min(),Pe.min(),Pe.min(),oi.empty(),0)}static newFoundDocument(e,i,s,o){return new mn(e,1,i,Pe.min(),s,o,0)}static newNoDocument(e,i){return new mn(e,2,i,Pe.min(),Pe.min(),oi.empty(),0)}static newUnknownDocument(e,i){return new mn(e,3,i,Pe.min(),Pe.min(),oi.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(e,i){this.position=e,this.inclusive=i}}function tE(n,e,i){let s=0;for(let o=0;o<n.position.length;o++){const c=e[o],u=n.position[o];if(c.field.isKeyField()?s=Ie.comparator(Ie.fromName(u.referenceValue),i.key):s=ko(u,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function nE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!Zi(n.position[i],e.position[i]))return!1;return!0}class th{constructor(e,i="asc"){this.field=e,this.dir=i}}function j4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class mA{}class qt extends mA{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new B4(e,i,s):i==="array-contains"?new H4(e,s):i==="in"?new q4(e,s):i==="not-in"?new F4(e,s):i==="array-contains-any"?new $4(e,s):new qt(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new z4(e,s):new G4(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ko(i,this.value)):i!==null&&Ns(this.value)===Ns(i)&&this.matchesComparison(ko(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends mA{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new er(e,i)}matches(e){return gA(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gA(n){return n.op==="and"}function yA(n){return U4(n)&&gA(n)}function U4(n){for(const e of n.filters)if(e instanceof er)return!1;return!0}function Im(n){if(n instanceof qt)return n.field.canonicalString()+n.op.toString()+jo(n.value);if(yA(n))return n.filters.map((e=>Im(e))).join(",");{const e=n.filters.map((i=>Im(i))).join(",");return`${n.op}(${e})`}}function vA(n,e){return n instanceof qt?(function(s,o){return o instanceof qt&&s.op===o.op&&s.field.isEqual(o.field)&&Zi(s.value,o.value)})(n,e):n instanceof er?(function(s,o){return o instanceof er&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((c,u,p)=>c&&vA(u,o.filters[p])),!0):!1})(n,e):void Ne(19439)}function _A(n){return n instanceof qt?(function(i){return`${i.field.canonicalString()} ${i.op} ${jo(i.value)}`})(n):n instanceof er?(function(i){return i.op.toString()+" {"+i.getFilters().map(_A).join(" ,")+"}"})(n):"Filter"}class B4 extends qt{constructor(e,i,s){super(e,i,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const i=Ie.comparator(e.key,this.key);return this.matchesComparison(i)}}class z4 extends qt{constructor(e,i){super(e,"in",i),this.keys=bA("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class G4 extends qt{constructor(e,i){super(e,"not-in",i),this.keys=bA("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function bA(n,e){return(e.arrayValue?.values||[]).map((i=>Ie.fromName(i.referenceValue)))}class H4 extends qt{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Rg(i)&&Ic(i.arrayValue,this.value)}}class q4 extends qt{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Ic(this.value.arrayValue,i)}}class F4 extends qt{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ic(this.value.arrayValue,i)}}class $4 extends qt{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Rg(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Ic(this.value.arrayValue,s)))}}class Y4{constructor(e,i=null,s=[],o=[],c=null,u=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=u,this.endAt=p,this.Te=null}}function iE(n,e=null,i=[],s=[],o=null,c=null,u=null){return new Y4(n,e,i,s,o,c,u)}function Cg(n){const e=Le(n);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Im(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),Ah(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>jo(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>jo(s))).join(",")),e.Te=i}return e.Te}function Ig(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!j4(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!vA(n.filters[i],e.filters[i]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!nE(n.startAt,e.startAt)&&nE(n.endAt,e.endAt)}function Dm(n){return Ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class xh{constructor(e,i=null,s=[],o=[],c=null,u="F",p=null,m=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=u,this.startAt=p,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function X4(n,e,i,s,o,c,u,p){return new xh(n,e,i,s,o,c,u,p)}function Dg(n){return new xh(n)}function rE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function K4(n){return n.collectionGroup!==null}function pc(n){const e=Le(n);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let p=new Ft(on.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(p=p.add(g.field))}))})),p})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new th(c,s))})),i.has(on.keyField().canonicalString())||e.Ie.push(new th(on.keyField(),s))}return e.Ie}function Xi(n){const e=Le(n);return e.Ee||(e.Ee=Q4(e,pc(n))),e.Ee}function Q4(n,e){if(n.limitType==="F")return iE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new th(o.field,c)}));const i=n.endAt?new eh(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new eh(n.startAt.position,n.startAt.inclusive):null;return iE(n.path,n.collectionGroup,e,n.filters,n.limit,i,s)}}function Nm(n,e,i){return new xh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,i,n.startAt,n.endAt)}function Rh(n,e){return Ig(Xi(n),Xi(e))&&n.limitType===e.limitType}function EA(n){return`${Cg(Xi(n))}|lt:${n.limitType}`}function Eo(n){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>_A(o))).join(", ")}]`),Ah(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>jo(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>jo(o))).join(",")),`Target(${s})`})(Xi(n))}; limitType=${n.limitType})`}function Ch(n,e){return e.isFoundDocument()&&(function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Ie.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(n,e)&&(function(s,o){for(const c of pc(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(u,p,m){const g=tE(u,p,m);return u.inclusive?g<=0:g<0})(s.startAt,pc(s),o)||s.endAt&&!(function(u,p,m){const g=tE(u,p,m);return u.inclusive?g>=0:g>0})(s.endAt,pc(s),o))})(n,e)}function W4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function TA(n){return(e,i)=>{let s=!1;for(const o of pc(n)){const c=J4(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function J4(n,e,i){const s=n.field.isKeyField()?Ie.comparator(e.key,i.key):(function(c,u,p){const m=u.data.field(c),g=p.data.field(c);return m!==null&&g!==null?ko(m,g):Ne(42886)})(n.field,e,i);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ne(19790,{direction:n.dir})}}class wa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Aa(this.inner,((i,s)=>{for(const[o,c]of s)e(o,c)}))}isEmpty(){return aA(this.inner)}size(){return this.innerSize}}const Z4=new St(Ie.comparator);function Dr(){return Z4}const SA=new St(Ie.comparator);function sc(...n){let e=SA;for(const i of n)e=e.insert(i.key,i);return e}function AA(n){let e=SA;return n.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function ma(){return mc()}function wA(){return mc()}function mc(){return new wa((n=>n.toString()),((n,e)=>n.isEqual(e)))}const e3=new St(Ie.comparator),t3=new Ft(Ie.comparator);function Xe(...n){let e=t3;for(const i of n)e=e.add(i);return e}const n3=new Ft(Ye);function i3(){return n3}function Ng(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wd(e)?"-0":e}}function xA(n){return{integerValue:""+n}}function r3(n,e){return D4(e)?xA(e):Ng(n,e)}class Ih{constructor(){this._=void 0}}function s3(n,e,i){return n instanceof nh?(function(o,c){const u={fields:{[cA]:{stringValue:lA},[dA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&xg(c)&&(c=wh(c)),c&&(u.fields[uA]=c),{mapValue:u}})(i,e):n instanceof Dc?CA(n,e):n instanceof Nc?IA(n,e):(function(o,c){const u=RA(o,c),p=sE(u)+sE(o.Ae);return Cm(u)&&Cm(o.Ae)?xA(p):Ng(o.serializer,p)})(n,e)}function a3(n,e,i){return n instanceof Dc?CA(n,e):n instanceof Nc?IA(n,e):i}function RA(n,e){return n instanceof ih?(function(s){return Cm(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class nh extends Ih{}class Dc extends Ih{constructor(e){super(),this.elements=e}}function CA(n,e){const i=DA(e);for(const s of n.elements)i.some((o=>Zi(o,s)))||i.push(s);return{arrayValue:{values:i}}}class Nc extends Ih{constructor(e){super(),this.elements=e}}function IA(n,e){let i=DA(e);for(const s of n.elements)i=i.filter((o=>!Zi(o,s)));return{arrayValue:{values:i}}}class ih extends Ih{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function sE(n){return Nt(n.integerValue||n.doubleValue)}function DA(n){return Rg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function o3(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof Dc&&o instanceof Dc||s instanceof Nc&&o instanceof Nc?Lo(s.elements,o.elements,Zi):s instanceof ih&&o instanceof ih?Zi(s.Ae,o.Ae):s instanceof nh&&o instanceof nh})(n.transform,e.transform)}class l3{constructor(e,i){this.version=e,this.transformResults=i}}class wr{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Dh{}function NA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new MA(n.key,wr.none()):new zc(n.key,n.data,wr.none());{const i=n.data,s=oi.empty();let o=new Ft(on.comparator);for(let c of e.fields)if(!o.has(c)){let u=i.field(c);u===null&&c.length>1&&(c=c.popLast(),u=i.field(c)),u===null?s.delete(c):s.set(c,u),o=o.add(c)}return new xa(n.key,s,new xi(o.toArray()),wr.none())}}function c3(n,e,i){n instanceof zc?(function(o,c,u){const p=o.value.clone(),m=oE(o.fieldTransforms,c,u.transformResults);p.setAll(m),c.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(n,e,i):n instanceof xa?(function(o,c,u){if(!Nd(o.precondition,c))return void c.convertToUnknownDocument(u.version);const p=oE(o.fieldTransforms,c,u.transformResults),m=c.data;m.setAll(OA(o)),m.setAll(p),c.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,e,i):(function(o,c,u){c.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,i)}function gc(n,e,i,s){return n instanceof zc?(function(c,u,p,m){if(!Nd(c.precondition,u))return p;const g=c.value.clone(),_=lE(c.fieldTransforms,m,u);return g.setAll(_),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(n,e,i,s):n instanceof xa?(function(c,u,p,m){if(!Nd(c.precondition,u))return p;const g=lE(c.fieldTransforms,m,u),_=u.data;return _.setAll(OA(c)),_.setAll(g),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((y=>y.field)))})(n,e,i,s):(function(c,u,p){return Nd(c.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):p})(n,e,i)}function u3(n,e){let i=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),c=RA(s.transform,o||null);c!=null&&(i===null&&(i=oi.empty()),i.set(s.field,c))}return i||null}function aE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Lo(s,o,((c,u)=>o3(c,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class zc extends Dh{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class xa extends Dh{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function OA(n){const e=new Map;return n.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=n.data.field(i);e.set(i,s)}})),e}function oE(n,e,i){const s=new Map;at(n.length===i.length,32656,{Re:i.length,Ve:n.length});for(let o=0;o<i.length;o++){const c=n[o],u=c.transform,p=e.data.field(c.field);s.set(c.field,a3(u,p,i[o]))}return s}function lE(n,e,i){const s=new Map;for(const o of n){const c=o.transform,u=i.data.field(o.field);s.set(o.field,s3(c,u,e))}return s}class MA extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d3 extends Dh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class h3{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&c3(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=gc(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=gc(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=wA();return this.mutations.forEach((o=>{const c=e.get(o.key),u=c.overlayedDocument;let p=this.applyToLocalView(u,c.mutatedFields);p=i.has(o.key)?null:p;const m=NA(u,p);m!==null&&s.set(o.key,m),u.isValidDocument()||u.convertToNoDocument(Pe.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,((i,s)=>aE(i,s)))&&Lo(this.baseMutations,e.baseMutations,((i,s)=>aE(i,s)))}}class Og{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){at(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return e3})();const c=e.mutations;for(let u=0;u<c.length;u++)o=o.insert(c[u].key,s[u].version);return new Og(e,i,s,o)}}class f3{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class p3{constructor(e,i){this.count=e,this.unchangedNames=i}}var Bt,Je;function m3(n){switch(n){case ae.OK:return Ne(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ne(15467,{code:n})}}function PA(n){if(n===void 0)return Ir("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Bt.OK:return ae.OK;case Bt.CANCELLED:return ae.CANCELLED;case Bt.UNKNOWN:return ae.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return ae.INTERNAL;case Bt.UNAVAILABLE:return ae.UNAVAILABLE;case Bt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Bt.NOT_FOUND:return ae.NOT_FOUND;case Bt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Bt.ABORTED:return ae.ABORTED;case Bt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Bt.DATA_LOSS:return ae.DATA_LOSS;default:return Ne(39323,{code:n})}}(Je=Bt||(Bt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";function g3(){return new TextEncoder}const y3=new Ss([4294967295,4294967295],0);function cE(n){const e=g3().encode(n),i=new QS;return i.update(e),new Uint8Array(i.digest())}function uE(n){const e=new DataView(n.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ss([i,s],0),new Ss([o,c],0)]}class Mg{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new ac(`Invalid padding: ${i}`);if(s<0)throw new ac(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ac(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new ac(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ss.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Ss.fromNumber(s)));return o.compare(y3)===1&&(o=new Ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=cE(e),[s,o]=uE(i);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);if(!this.we(u))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),u=new Mg(c,o,i);return s.forEach((p=>u.insert(p))),u}insert(e){if(this.ge===0)return;const i=cE(e),[s,o]=uE(i);for(let c=0;c<this.hashCount;c++){const u=this.ye(s,o,c);this.Se(u)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nh{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Gc.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Nh(Pe.min(),o,new St(Ye),Dr(),Xe())}}class Gc{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Gc(s,i,Xe(),Xe(),Xe())}}class Od{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class VA{constructor(e,i){this.targetId=e,this.Ce=i}}class LA{constructor(e,i,s=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class dE{constructor(){this.ve=0,this.Fe=hE(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),i=Xe(),s=Xe();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Ne(38017,{changeType:c})}})),new Gc(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=hE()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class v3{constructor(e){this.Ge=e,this.ze=new Map,this.je=Dr(),this.Je=bd(),this.He=bd(),this.Ye=new St(Ye)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Dm(c))if(s===0){const u=new Ie(c.path);this.et(i,u,mn.newNoDocument(u,Pe.min()))}else at(s===1,20013,{expectedCount:s});else{const u=this._t(i);if(u!==s){const p=this.ut(e),m=p?this.ct(p,e,u):1;if(m!==0){this.it(i);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,g)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let u,p;try{u=Ds(s).toUint8Array()}catch(m){if(m instanceof oA)return Vo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Mg(u,o,c)}catch(m){return Vo(m instanceof ac?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((c=>{const u=this.Ge.ht(),p=`projects/${u.projectId}/databases/${u.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((c,u)=>{const p=this.ot(u);if(p){if(c.current&&Dm(p.target)){const m=new Ie(p.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,mn.newNoDocument(m,e))}c.Be&&(i.set(u,c.ke()),c.qe())}}));let s=Xe();this.He.forEach(((c,u)=>{let p=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(c))})),this.je.forEach(((c,u)=>u.setReadTime(e)));const o=new Nh(e,i,this.Ye,this.je,s);return this.je=Dr(),this.Je=bd(),this.He=bd(),this.Ye=new St(Ye),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new dE,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ft(Ye),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ft(Ye),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ve("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dE),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function bd(){return new St(Ie.comparator)}function hE(){return new St(Ie.comparator)}const _3={asc:"ASCENDING",desc:"DESCENDING"},b3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E3={and:"AND",or:"OR"};class T3{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Om(n,e){return n.useProto3Json||Ah(e)?e:{value:e}}function rh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function kA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function S3(n,e){return rh(n,e.toTimestamp())}function Ki(n){return at(!!n,49232),Pe.fromTimestamp((function(i){const s=Is(i);return new yt(s.seconds,s.nanos)})(n))}function Pg(n,e){return Mm(n,e).canonicalString()}function Mm(n,e){const i=(function(o){return new Tt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?i:i.child(e)}function jA(n){const e=Tt.fromString(n);return at(HA(e),10190,{key:e.toString()}),e}function Pm(n,e){return Pg(n.databaseId,e.path)}function rm(n,e){const i=jA(e);if(i.get(1)!==n.databaseId.projectId)throw new we(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new we(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new Ie(BA(i))}function UA(n,e){return Pg(n.databaseId,e)}function A3(n){const e=jA(n);return e.length===4?Tt.emptyPath():BA(e)}function Vm(n){return new Tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function BA(n){return at(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function fE(n,e,i){return{name:Pm(n,e),fields:i.value.mapValue.fields}}function w3(n,e){let i;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ne(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(g,_){return g.useProto3Json?(at(_===void 0||typeof _=="string",58123),cn.fromBase64String(_||"")):(at(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),cn.fromUint8Array(_||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,p=u&&(function(g){const _=g.code===void 0?ae.UNKNOWN:PA(g.code);return new we(_,g.message||"")})(u);i=new LA(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=rm(n,s.document.name),c=Ki(s.document.updateTime),u=s.document.createTime?Ki(s.document.createTime):Pe.min(),p=new oi({mapValue:{fields:s.document.fields}}),m=mn.newFoundDocument(o,c,u,p),g=s.targetIds||[],_=s.removedTargetIds||[];i=new Od(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=rm(n,s.document),c=s.readTime?Ki(s.readTime):Pe.min(),u=mn.newNoDocument(o,c),p=s.removedTargetIds||[];i=new Od([],p,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=rm(n,s.document),c=s.removedTargetIds||[];i=new Od([],c,o,null)}else{if(!("filter"in e))return Ne(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,u=new p3(o,c),p=s.targetId;i=new VA(p,u)}}return i}function x3(n,e){let i;if(e instanceof zc)i={update:fE(n,e.key,e.value)};else if(e instanceof MA)i={delete:Pm(n,e.key)};else if(e instanceof xa)i={update:fE(n,e.key,e.data),updateMask:V3(e.fieldMask)};else{if(!(e instanceof d3))return Ne(16599,{Vt:e.type});i={verify:Pm(n,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(c,u){const p=u.transform;if(p instanceof nh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Dc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Nc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ih)return{fieldPath:u.field.canonicalString(),increment:p.Ae};throw Ne(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:S3(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ne(27497)})(n,e.precondition)),i}function R3(n,e){return n&&n.length>0?(at(e!==void 0,14353),n.map((i=>(function(o,c){let u=o.updateTime?Ki(o.updateTime):Ki(c);return u.isEqual(Pe.min())&&(u=Ki(c)),new l3(u,o.transformResults||[])})(i,e)))):[]}function C3(n,e){return{documents:[UA(n,e.path)]}}function I3(n,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=UA(n,o);const c=(function(g){if(g.length!==0)return GA(er.create(g,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const u=(function(g){if(g.length!==0)return g.map((_=>(function(T){return{field:To(T.field),direction:O3(T.dir)}})(_)))})(e.orderBy);u&&(i.structuredQuery.orderBy=u);const p=Om(n,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:i,parent:o}}function D3(n){let e=A3(n.parent);const i=n.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){at(s===1,65062);const _=i.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let c=[];i.where&&(c=(function(y){const T=zA(y);return T instanceof er&&yA(T)?T.getFilters():[T]})(i.where));let u=[];i.orderBy&&(u=(function(y){return y.map((T=>(function(C){return new th(So(C.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(T)))})(i.orderBy));let p=null;i.limit&&(p=(function(y){let T;return T=typeof y=="object"?y.value:y,Ah(T)?null:T})(i.limit));let m=null;i.startAt&&(m=(function(y){const T=!!y.before,w=y.values||[];return new eh(w,T)})(i.startAt));let g=null;return i.endAt&&(g=(function(y){const T=!y.before,w=y.values||[];return new eh(w,T)})(i.endAt)),X4(e,o,u,c,p,"F",m,g)}function N3(n,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function zA(n){return n.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=So(i.unaryFilter.field);return qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=So(i.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=So(i.unaryFilter.field);return qt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=So(i.unaryFilter.field);return qt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(n):n.fieldFilter!==void 0?(function(i){return qt.create(So(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(i){return er.create(i.compositeFilter.filters.map((s=>zA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(i.compositeFilter.op))})(n):Ne(30097,{filter:n})}function O3(n){return _3[n]}function M3(n){return b3[n]}function P3(n){return E3[n]}function To(n){return{fieldPath:n.canonicalString()}}function So(n){return on.fromServerFormat(n.fieldPath)}function GA(n){return n instanceof qt?(function(i){if(i.op==="=="){if(eE(i.value))return{unaryFilter:{field:To(i.field),op:"IS_NAN"}};if(Z0(i.value))return{unaryFilter:{field:To(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(eE(i.value))return{unaryFilter:{field:To(i.field),op:"IS_NOT_NAN"}};if(Z0(i.value))return{unaryFilter:{field:To(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(i.field),op:M3(i.op),value:i.value}}})(n):n instanceof er?(function(i){const s=i.getFilters().map((o=>GA(o)));return s.length===1?s[0]:{compositeFilter:{op:P3(i.op),filters:s}}})(n):Ne(54877,{filter:n})}function V3(n){const e=[];return n.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function HA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class gs{constructor(e,i,s,o,c=Pe.min(),u=Pe.min(),p=cn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class L3{constructor(e){this.yt=e}}function k3(n){const e=D3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Nm(e,e.limit,"L"):e}class j3{constructor(){this.Cn=new U3}addToCollectionParentIndex(e,i){return this.Cn.add(i),ne.resolve()}getCollectionParents(e,i){return ne.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return ne.resolve()}deleteFieldIndex(e,i){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,i){return ne.resolve()}getDocumentsMatchingTarget(e,i){return ne.resolve(null)}getIndexType(e,i){return ne.resolve(0)}getFieldIndexes(e,i){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,i){return ne.resolve(Cs.min())}getMinOffsetFromCollectionGroup(e,i){return ne.resolve(Cs.min())}updateCollectionGroup(e,i,s){return ne.resolve()}updateIndexEntries(e,i){return ne.resolve()}}class U3{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Ft(Tt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ft(Tt.comparator)).toArray()}}const pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qA=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(qA,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);class Uo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Uo(0)}static cr(){return new Uo(-1)}}const mE="LruGarbageCollector",B3=1048576;function gE([n,e],[i,s]){const o=Ye(n,i);return o===0?Ye(e,s):o}class z3{constructor(e){this.Ir=e,this.buffer=new Ft(gE),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();gE(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class G3{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ve(mE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ko(i)?ve(mE,"Ignoring IndexedDB error during garbage collection: ",i):await Xo(i)}await this.Vr(3e5)}))}}class H3{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return ne.resolve(Sh.ce);const s=new z3(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(pE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pE):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,c,u,p,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),o=this.params.maximumSequenceNumbersToCollect):o=y,u=Date.now(),this.nthSequenceNumber(e,o)))).next((y=>(s=y,p=Date.now(),this.removeTargets(e,s,i)))).next((y=>(c=y,m=Date.now(),this.removeOrphanedDocuments(e,s)))).next((y=>(g=Date.now(),bo()<=$e.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(p-u)+`ms
	Removed ${c} targets in `+(m-p)+`ms
	Removed ${y} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:y}))))}}function q3(n,e){return new H3(n,e)}class F3{constructor(){this.changes=new wa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?ne.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $3{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class Y3{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&gc(s.mutation,o,xi.empty(),yt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Xe()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Xe()){const o=ma();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((c=>{let u=sc();return c.forEach(((p,m)=>{u=u.insert(p,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,i){const s=ma();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Xe())))}populateOverlays(e,i,s){const o=[];return s.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((u,p)=>{i.set(u,p)}))}))}computeViews(e,i,s,o){let c=Dr();const u=mc(),p=(function(){return mc()})();return i.forEach(((m,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof xa)?c=c.insert(g.key,g):_!==void 0?(u.set(g.key,_.mutation.getFieldMask()),gc(_.mutation,g,_.mutation.getFieldMask(),yt.now())):u.set(g.key,xi.empty())})),this.recalculateAndSaveOverlays(e,c).next((m=>(m.forEach(((g,_)=>u.set(g,_))),i.forEach(((g,_)=>p.set(g,new $3(_,u.get(g)??null)))),p)))}recalculateAndSaveOverlays(e,i){const s=mc();let o=new St(((u,p)=>u-p)),c=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((u=>{for(const p of u)p.keys().forEach((m=>{const g=i.get(m);if(g===null)return;let _=s.get(m)||xi.empty();_=p.applyToLocalView(g,_),s.set(m,_);const y=(o.get(p.batchId)||Xe()).add(m);o=o.insert(p.batchId,y)}))})).next((()=>{const u=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,_=m.value,y=wA();_.forEach((T=>{if(!c.has(T)){const w=NA(i.get(T),s.get(T));w!==null&&y.set(T,w),c=c.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,g,y))}return ne.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(u){return Ie.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):K4(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((c=>{const u=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):ne.resolve(ma());let p=xc,m=c;return u.next((g=>ne.forEach(g,((_,y)=>(p<y.largestBatchId&&(p=y.largestBatchId),c.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next((T=>{m=m.insert(_,T)}))))).next((()=>this.populateOverlays(e,g,c))).next((()=>this.computeViews(e,m,g,Xe()))).next((_=>({batchId:p,changes:AA(_)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Ie(i)).next((s=>{let o=sc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let u=sc();return this.indexManager.getCollectionParents(e,c).next((p=>ne.forEach(p,(m=>{const g=(function(y,T){return new xh(T,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(i,m.child(c));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((y,T)=>{u=u.insert(y,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((u=>(c=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o)))).next((u=>{c.forEach(((m,g)=>{const _=g.getKey();u.get(_)===null&&(u=u.insert(_,mn.newInvalidDocument(_)))}));let p=sc();return u.forEach(((m,g)=>{const _=c.get(m);_!==void 0&&gc(_.mutation,g,xi.empty(),yt.now()),Ch(i,g)&&(p=p.insert(m,g))})),p}))}}class X3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return ne.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ki(o.createTime)}})(i)),ne.resolve()}getNamedQuery(e,i){return ne.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:k3(o.bundledQuery),readTime:Ki(o.readTime)}})(i)),ne.resolve()}}class K3{constructor(){this.overlays=new St(Ie.comparator),this.qr=new Map}getOverlay(e,i){return ne.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ma();return ne.forEach(i,(o=>this.getOverlay(e,o).next((c=>{c!==null&&s.set(o,c)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,c)=>{this.St(e,i,c)})),ne.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,i,s){const o=ma(),c=i.length+1,u=new Ie(i.child("")),p=this.overlays.getIteratorFrom(u);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!i.isPrefixOf(g.path))break;g.path.length===c&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new St(((g,_)=>g-_));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===i&&g.largestBatchId>s){let _=c.get(g.largestBatchId);_===null&&(_=ma(),c=c.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const p=ma(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,_)=>p.set(g,_))),!(p.size()>=o)););return ne.resolve(p)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new f3(i,s));let c=this.qr.get(i);c===void 0&&(c=Xe(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}class Q3{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ne.resolve()}}class Vg{constructor(){this.Qr=new Ft(Kt.$r),this.Ur=new Ft(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Kt(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Kt(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new Ie(new Tt([])),s=new Kt(i,e),o=new Kt(i,e+1),c=[];return this.Ur.forEachInRange([s,o],(u=>{this.Gr(u),c.push(u.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Ie(new Tt([])),s=new Kt(i,e),o=new Kt(i,e+1);let c=Xe();return this.Ur.forEachInRange([s,o],(u=>{c=c.add(u.key)})),c}containsKey(e){const i=new Kt(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Kt{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Ie.comparator(e.key,i.key)||Ye(e.Yr,i.Yr)}static Kr(e,i){return Ye(e.Yr,i.Yr)||Ie.comparator(e.key,i.key)}}class W3{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Kt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new h3(c,i,s,o);this.mutationQueue.push(u);for(const p of o)this.Zr=this.Zr.add(new Kt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,i){return ne.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),c=o<0?0:o;return ne.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?wg:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Kt(i,0),o=new Kt(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],(u=>{const p=this.Xr(u.Yr);c.push(p)})),ne.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ft(Ye);return i.forEach((o=>{const c=new Kt(o,0),u=new Kt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,u],(p=>{s=s.add(p.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;Ie.isDocumentKey(c)||(c=c.child(""));const u=new Kt(new Ie(c),0);let p=new Ft(Ye);return this.Zr.forEachWhile((m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Yr)),!0)}),u),ne.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){at(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(i.mutations,(o=>{const c=new Kt(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Kt(i,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class J3{constructor(e){this.ri=e,this.docs=(function(){return new St(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,u=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:u}),this.size+=u-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return ne.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(i))}getEntries(e,i){let s=Dr();return i.forEach((o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():mn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=Dr();const u=i.path,p=new Ie(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||x4(w4(_),s)<=0||(o.has(_.key)||Ch(i,_))&&(c=c.insert(_.key,_.mutableCopy()))}return ne.resolve(c)}getAllFromCollectionGroup(e,i,s,o){Ne(9500)}ii(e,i){return ne.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new Z3(this)}getSize(e){return ne.resolve(this.size)}}class Z3 extends F3{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class eP{constructor(e){this.persistence=e,this.si=new wa((i=>Cg(i)),Ig),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Vg,this.targetCount=0,this.ai=Uo.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),ne.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Uo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,ne.resolve()}updateTargetData(e,i){return this.Pr(i),ne.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.si.forEach(((u,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(u),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ne.waitFor(c).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return ne.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),ne.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((u=>{c.push(o.markPotentiallyOrphaned(e,u))})),ne.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),ne.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return ne.resolve(s)}containsKey(e,i){return ne.resolve(this._i.containsKey(i))}}class FA{constructor(e,i){this.ui={},this.overlays={},this.ci=new Sh(0),this.li=!1,this.li=!0,this.hi=new Q3,this.referenceDelegate=e(this),this.Pi=new eP(this),this.indexManager=new j3,this.remoteDocumentCache=(function(o){return new J3(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new L3(i),this.Ii=new X3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new K3,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new W3(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ve("MemoryPersistence","Starting transaction:",e);const o=new tP(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(e,i){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class tP extends C4{constructor(e){super(),this.currentSequenceNumber=e}}class Lg{constructor(e){this.persistence=e,this.Ri=new Vg,this.Vi=null}static mi(e){return new Lg(e)}get fi(){if(this.Vi)return this.Vi;throw Ne(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),ne.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=Ie.fromPath(s);return this.gi(e,o).next((c=>{c||i.removeEntry(o,Pe.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return ne.or([()=>ne.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class sh{constructor(e,i){this.persistence=e,this.pi=new wa((s=>N4(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=q3(this,i)}static mi(e,i){return new sh(e,i)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((c=>c?ne.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,i).next((p=>{p||(s++,c.removeEntry(u,Pe.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),ne.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),ne.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Id(e.data.value)),i}br(e,i,s){return ne.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class kg{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Xe(),o=Xe();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new kg(e,i.fromCache,s,o)}}class nP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class iP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $D()?8:I4(gn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.ys(e,i).next((u=>{c.result=u})).next((()=>{if(!c.result)return this.ws(e,i,o,s).next((u=>{c.result=u}))})).next((()=>{if(c.result)return;const u=new nP;return this.Ss(e,i,u).next((p=>{if(c.result=p,this.Vs)return this.bs(e,i,u,p.size)}))})).next((()=>c.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(bo()<=$e.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Eo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(bo()<=$e.DEBUG&&ve("QueryEngine","Query:",Eo(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(bo()<=$e.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Eo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xi(i))):ne.resolve())}ys(e,i){if(rE(i))return ne.resolve(null);let s=Xi(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Nm(i,null,"F"),s=Xi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const u=Xe(...c);return this.ps.getDocuments(e,u).next((p=>this.indexManager.getMinOffset(e,s).next((m=>{const g=this.Ds(i,p);return this.Cs(i,g,u,m.readTime)?this.ys(e,Nm(i,null,"F")):this.vs(e,g,i,m)}))))})))))}ws(e,i,s,o){return rE(i)||o.isEqual(Pe.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((c=>{const u=this.Ds(i,c);return this.Cs(i,u,s,o)?ne.resolve(null):(bo()<=$e.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Eo(i)),this.vs(e,u,i,A4(o,xc)).next((p=>p)))}))}Ds(e,i){let s=new Ft(TA(e));return i.forEach(((o,c)=>{Ch(e,c)&&(s=s.add(c))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,s){return bo()<=$e.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Eo(i)),this.ps.getDocumentsMatchingQuery(e,i,Cs.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((c=>(i.forEach((u=>{c=c.insert(u.key,u)})),c)))}}const jg="LocalStore",rP=3e8;class sP{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new St(Ye),this.xs=new wa((c=>Cg(c)),Ig),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function aP(n,e,i,s){return new sP(n,e,i,s)}async function $A(n,e){const i=Le(n);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const u=[],p=[];let m=Xe();for(const g of o){u.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of c){p.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return i.localDocuments.getDocuments(s,m).next((g=>({Ls:g,removedBatchIds:u,addedBatchIds:p})))}))}))}function oP(n,e){const i=Le(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,m,g,_){const y=g.batch,T=y.keys();let w=ne.resolve();return T.forEach((C=>{w=w.next((()=>_.getEntry(m,C))).next((k=>{const L=g.docVersions.get(C);at(L!==null,48541),k.version.compareTo(L)<0&&(y.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),_.addEntry(k)))}))})),w.next((()=>p.mutationQueue.removeMutationBatch(m,y)))})(i,s,e,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let m=Xe();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function YA(n){const e=Le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function lP(n,e){const i=Le(n),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const u=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((_,y)=>{const T=o.get(y);if(!T)return;p.push(i.Pi.removeMatchingKeys(c,_.removedDocuments,y).next((()=>i.Pi.addMatchingKeys(c,_.addedDocuments,y))));let w=T.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(y)!==null?w=w.withResumeToken(cn.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):_.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(_.resumeToken,s)),o=o.insert(y,w),(function(k,L,K){return k.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=rP?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(T,w,_)&&p.push(i.Pi.updateTargetData(c,w))}));let m=Dr(),g=Xe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,_))})),p.push(cP(c,u,e.documentUpdates).next((_=>{m=_.ks,g=_.qs}))),!s.isEqual(Pe.min())){const _=i.Pi.getLastRemoteSnapshotVersion(c).next((y=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));p.push(_)}return ne.waitFor(p).next((()=>u.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,m,g))).next((()=>m))})).then((c=>(i.Ms=o,c)))}function cP(n,e,i){let s=Xe(),o=Xe();return i.forEach((c=>s=s.add(c))),e.getEntries(n,s).next((c=>{let u=Dr();return i.forEach(((p,m)=>{const g=c.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Pe.min())?(e.removeEntry(p,m.readTime),u=u.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(p,m)):ve(jg,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)})),{ks:u,qs:o}}))}function uP(n,e){const i=Le(n);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=wg),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function dP(n,e){const i=Le(n);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((c=>c?(o=c,ne.resolve(o)):i.Pi.allocateTargetId(s).next((u=>(o=new gs(e,u,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function Lm(n,e,i){const s=Le(n),o=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(u=>s.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Ko(u))throw u;ve(jg,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function yE(n,e,i){const s=Le(n);let o=Pe.min(),c=Xe();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,_){const y=Le(m),T=y.xs.get(_);return T!==void 0?ne.resolve(y.Ms.get(T)):y.Pi.getTargetData(g,_)})(s,u,Xi(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,p.targetId).next((m=>{c=m}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,i?o:Pe.min(),i?c:Xe()))).next((p=>(hP(s,W4(e),p),{documents:p,Qs:c})))))}function hP(n,e,i){let s=n.Os.get(e)||Pe.min();i.forEach(((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),n.Os.set(e,s)}class vE{constructor(){this.activeTargetIds=i3()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fP{constructor(){this.Mo=new vE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new vE,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pP{Oo(e){}shutdown(){}}const _E="ConnectivityMonitor";class bE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ve(_E,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ve(_E,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ed=null;function km(){return Ed===null?Ed=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ed++,"0x"+Ed.toString(16)}const sm="RestConnection",mP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gP{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Jd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,c){const u=km(),p=this.zo(e,i.toUriEncodedString());ve(sm,`Sending RPC '${e}' ${u}:`,p,s);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,o,c);const{host:g}=new URL(p),_=qo(g);return this.Jo(e,p,m,s,_).then((y=>(ve(sm,`Received RPC '${e}' ${u}: `,y),y)),(y=>{throw Vo(sm,`RPC '${e}' ${u} failed with error: `,y,"url: ",p,"request:",s),y}))}Ho(e,i,s,o,c,u){return this.Go(e,i,s,o,c)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>e[c]=o)),s&&s.headers.forEach(((o,c)=>e[c]=o))}zo(e,i){const s=mP[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}class yP{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const fn="WebChannelConnection";class vP extends gP{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,c){const u=km();return new Promise(((p,m)=>{const g=new WS;g.setWithCredentials(!0),g.listenOnce(JS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Cd.NO_ERROR:const y=g.getResponseJson();ve(fn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(y)),p(y);break;case Cd.TIMEOUT:ve(fn,`RPC '${e}' ${u} timed out`),m(new we(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Cd.HTTP_ERROR:const T=g.getStatus();if(ve(fn,`RPC '${e}' ${u} failed with status:`,T,"response text:",g.getResponseText()),T>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w?.error;if(C&&C.status&&C.message){const k=(function(K){const W=K.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(W)>=0?W:ae.UNKNOWN})(C.status);m(new we(k,C.message))}else m(new we(ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new we(ae.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ve(fn,`RPC '${e}' ${u} completed.`)}}));const _=JSON.stringify(o);ve(fn,`RPC '${e}' ${u} sending request:`,o),g.send(i,"POST",_,s,15)}))}T_(e,i,s){const o=km(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=tA(),p=eA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,i,s),m.encodeInitMessageHeaders=!0;const _=c.join("");ve(fn,`Creating RPC '${e}' stream ${o}: ${_}`,m);const y=u.createWebChannel(_,m);this.I_(y);let T=!1,w=!1;const C=new yP({Yo:L=>{w?ve(fn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(T||(ve(fn,`Opening RPC '${e}' stream ${o} transport.`),y.open(),T=!0),ve(fn,`RPC '${e}' stream ${o} sending:`,L),y.send(L))},Zo:()=>y.close()}),k=(L,K,W)=>{L.listen(K,(ie=>{try{W(ie)}catch(se){setTimeout((()=>{throw se}),0)}}))};return k(y,rc.EventType.OPEN,(()=>{w||(ve(fn,`RPC '${e}' stream ${o} transport opened.`),C.o_())})),k(y,rc.EventType.CLOSE,(()=>{w||(w=!0,ve(fn,`RPC '${e}' stream ${o} transport closed`),C.a_(),this.E_(y))})),k(y,rc.EventType.ERROR,(L=>{w||(w=!0,Vo(fn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),C.a_(new we(ae.UNAVAILABLE,"The operation could not be completed")))})),k(y,rc.EventType.MESSAGE,(L=>{if(!w){const K=L.data[0];at(!!K,16349);const W=K,ie=W?.error||W[0]?.error;if(ie){ve(fn,`RPC '${e}' stream ${o} received error:`,ie);const se=ie.status;let le=(function(R){const D=Bt[R];if(D!==void 0)return PA(D)})(se),ce=ie.message;le===void 0&&(le=ae.INTERNAL,ce="Unknown error status: "+se+" with message "+ie.message),w=!0,C.a_(new we(le,ce)),y.close()}else ve(fn,`RPC '${e}' stream ${o} received:`,K),C.u_(K)}})),k(p,ZS.STAT_EVENT,(L=>{L.stat===wm.PROXY?ve(fn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===wm.NOPROXY&&ve(fn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function am(){return typeof document<"u"?document:null}function Oh(n){return new T3(n,!0)}class XA{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const EE="PersistentStream";class KA{constructor(e,i,s,o,c,u,p,m){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XA(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ae.RESOURCE_EXHAUSTED?(Ir(i.toString()),Ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new we(ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(EE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ve(EE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _P extends KA{constructor(e,i,s,o,c,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,u),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=w3(this.serializer,e),s=(function(c){if(!("targetChange"in c))return Pe.min();const u=c.targetChange;return u.targetIds&&u.targetIds.length?Pe.min():u.readTime?Ki(u.readTime):Pe.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=Vm(this.serializer),i.addTarget=(function(c,u){let p;const m=u.target;if(p=Dm(m)?{documents:C3(c,m)}:{query:I3(c,m).ft},p.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){p.resumeToken=kA(c,u.resumeToken);const g=Om(c,u.expectedCount);g!==null&&(p.expectedCount=g)}else if(u.snapshotVersion.compareTo(Pe.min())>0){p.readTime=rh(c,u.snapshotVersion.toTimestamp());const g=Om(c,u.expectedCount);g!==null&&(p.expectedCount=g)}return p})(this.serializer,e);const s=N3(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=Vm(this.serializer),i.removeTarget=e,this.q_(i)}}class bP extends KA{constructor(e,i,s,o,c,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,u),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=R3(e.writeResults,e.commitTime),s=Ki(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=Vm(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>x3(this.serializer,s)))};this.q_(i)}}class EP{}class TP extends EP{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new we(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Go(e,Mm(i,s),o,c,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new we(ae.UNKNOWN,c.toString())}))}Ho(e,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,p])=>this.connection.Ho(e,Mm(i,s),o,u,p,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new we(ae.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class SP{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ir(i),this.aa=!1):ve("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Sa="RemoteStore";class AP{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{Ra(this)&&(ve(Sa,"Restarting streams for network reachability change."),await(async function(m){const g=Le(m);g.Ea.add(4),await Hc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Mh(g)})(this))}))})),this.Ra=new SP(s,o)}}async function Mh(n){if(Ra(n))for(const e of n.da)await e(!0)}async function Hc(n){for(const e of n.da)await e(!1)}function QA(n,e){const i=Le(n);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Gg(i)?zg(i):Qo(i).O_()&&Bg(i,e))}function Ug(n,e){const i=Le(n),s=Qo(i);i.Ia.delete(e),s.O_()&&WA(i,e),i.Ia.size===0&&(s.O_()?s.L_():Ra(i)&&i.Ra.set("Unknown"))}function Bg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const i=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Qo(n).Y_(e)}function WA(n,e){n.Va.Ue(e),Qo(n).Z_(e)}function zg(n){n.Va=new v3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Qo(n).start(),n.Ra.ua()}function Gg(n){return Ra(n)&&!Qo(n).x_()&&n.Ia.size>0}function Ra(n){return Le(n).Ea.size===0}function JA(n){n.Va=void 0}async function wP(n){n.Ra.set("Online")}async function xP(n){n.Ia.forEach(((e,i)=>{Bg(n,e)}))}async function RP(n,e){JA(n),Gg(n)?(n.Ra.ha(e),zg(n)):n.Ra.set("Unknown")}async function CP(n,e,i){if(n.Ra.set("Online"),e instanceof LA&&e.state===2&&e.cause)try{await(async function(o,c){const u=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,u),o.Ia.delete(p),o.Va.removeTarget(p))})(n,e)}catch(s){ve(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ah(n,s)}else if(e instanceof Od?n.Va.Ze(e):e instanceof VA?n.Va.st(e):n.Va.tt(e),!i.isEqual(Pe.min()))try{const s=await YA(n.localStore);i.compareTo(s)>=0&&await(function(c,u){const p=c.Va.Tt(u);return p.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=c.Ia.get(g);_&&c.Ia.set(g,_.withResumeToken(m.resumeToken,u))}})),p.targetMismatches.forEach(((m,g)=>{const _=c.Ia.get(m);if(!_)return;c.Ia.set(m,_.withResumeToken(cn.EMPTY_BYTE_STRING,_.snapshotVersion)),WA(c,m);const y=new gs(_.target,m,g,_.sequenceNumber);Bg(c,y)})),c.remoteSyncer.applyRemoteEvent(p)})(n,i)}catch(s){ve(Sa,"Failed to raise snapshot:",s),await ah(n,s)}}async function ah(n,e,i){if(!Ko(e))throw e;n.Ea.add(1),await Hc(n),n.Ra.set("Offline"),i||(i=()=>YA(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ve(Sa,"Retrying IndexedDB access"),await i(),n.Ea.delete(1),await Mh(n)}))}function ZA(n,e){return e().catch((i=>ah(n,i,e)))}async function Ph(n){const e=Le(n),i=Os(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wg;for(;IP(e);)try{const o=await uP(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,DP(e,o)}catch(o){await ah(e,o)}e1(e)&&t1(e)}function IP(n){return Ra(n)&&n.Ta.length<10}function DP(n,e){n.Ta.push(e);const i=Os(n);i.O_()&&i.X_&&i.ea(e.mutations)}function e1(n){return Ra(n)&&!Os(n).x_()&&n.Ta.length>0}function t1(n){Os(n).start()}async function NP(n){Os(n).ra()}async function OP(n){const e=Os(n);for(const i of n.Ta)e.ea(i.mutations)}async function MP(n,e,i){const s=n.Ta.shift(),o=Og.from(s,e,i);await ZA(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Ph(n)}async function PP(n,e){e&&Os(n).X_&&await(async function(s,o){if((function(u){return m3(u)&&u!==ae.ABORTED})(o.code)){const c=s.Ta.shift();Os(s).B_(),await ZA(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ph(s)}})(n,e),e1(n)&&t1(n)}async function TE(n,e){const i=Le(n);i.asyncQueue.verifyOperationInProgress(),ve(Sa,"RemoteStore received new credentials");const s=Ra(i);i.Ea.add(3),await Hc(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Mh(i)}async function VP(n,e){const i=Le(n);e?(i.Ea.delete(2),await Mh(i)):e||(i.Ea.add(2),await Hc(i),i.Ra.set("Unknown"))}function Qo(n){return n.ma||(n.ma=(function(i,s,o){const c=Le(i);return c.sa(),new _P(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Xo:wP.bind(null,n),t_:xP.bind(null,n),r_:RP.bind(null,n),H_:CP.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Gg(n)?zg(n):n.Ra.set("Unknown")):(await n.ma.stop(),JA(n))}))),n.ma}function Os(n){return n.fa||(n.fa=(function(i,s,o){const c=Le(i);return c.sa(),new bP(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:NP.bind(null,n),r_:PP.bind(null,n),ta:OP.bind(null,n),na:MP.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Ph(n)):(await n.fa.stop(),n.Ta.length>0&&(ve(Sa,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Hg{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new ga,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const u=Date.now()+s,p=new Hg(e,i,u,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qg(n,e){if(Ir("AsyncQueue",`${e}: ${n}`),Ko(n))return new we(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class Io{static emptySet(e){return new Io(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||Ie.comparator(i.key,s.key):(i,s)=>Ie.comparator(i.key,s.key),this.keyedMap=sc(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Io)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class SE{constructor(){this.ga=new St(Ie.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ne(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Bo{constructor(e,i,s,o,c,u,p,m,g){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=u,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,i,s,o,c){const u=[];return i.forEach((p=>{u.push({type:0,doc:p})})),new Bo(e,i,Io.emptySet(i),u,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}class LP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class kP{constructor(){this.queries=AE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Le(i),c=o.queries;o.queries=AE(),c.forEach(((u,p)=>{for(const m of p.Sa)m.onError(s)}))})(this,new we(ae.ABORTED,"Firestore shutting down"))}}function AE(){return new wa((n=>EA(n)),Rh)}async function jP(n,e){const i=Le(n);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new LP,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(u){const p=qg(u,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&Fg(i)}async function UP(n,e){const i=Le(n),s=e.query;let o=3;const c=i.queries.get(s);if(c){const u=c.Sa.indexOf(e);u>=0&&(c.Sa.splice(u,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function BP(n,e){const i=Le(n);let s=!1;for(const o of e){const c=o.query,u=i.queries.get(c);if(u){for(const p of u.Sa)p.Fa(o)&&(s=!0);u.wa=o}}s&&Fg(i)}function zP(n,e,i){const s=Le(n),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);s.queries.delete(e)}function Fg(n){n.Ca.forEach((e=>{e.next()}))}var jm,wE;(wE=jm||(jm={})).Ma="default",wE.Cache="cache";class GP{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Bo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jm.Cache}}class n1{constructor(e){this.key=e}}class i1{constructor(e){this.key=e}}class HP{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=TA(e),this.tu=new Io(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new SE,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,u=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,y)=>{const T=o.get(_),w=Ch(this.query,y)?y:null,C=!!T&&this.mutatedKeys.has(T.key),k=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let L=!1;T&&w?T.data.isEqual(w.data)?C!==k&&(s.track({type:3,doc:w}),L=!0):this.su(T,w)||(s.track({type:2,doc:w}),L=!0,(m&&this.eu(w,m)>0||g&&this.eu(w,g)<0)&&(p=!0)):!T&&w?(s.track({type:0,doc:w}),L=!0):T&&!w&&(s.track({type:1,doc:T}),L=!0,(m||g)&&(p=!0)),L&&(w?(u=u.add(w),c=k?c.add(_):c.delete(_)):(u=u.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),c=c.delete(_.key),s.track({type:1,doc:_})}return{tu:u,iu:s,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((_,y)=>(function(w,C){const k=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Rt:L})}};return k(w)-k(C)})(_.type,y.type)||this.eu(_.doc,y.doc))),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],m=this.Xa.size===0&&this.current&&!o?1:0,g=m!==this.Za;return this.Za=m,u.length!==0||g?{snapshot:new Bo(this.query,e.tu,c,u,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new SE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new i1(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new n1(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Xe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $g="SyncEngine";class qP{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class FP{constructor(e){this.key=e,this.hu=!1}}class $P{constructor(e,i,s,o,c,u){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new wa((p=>EA(p)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new St(Ie.comparator),this.Au=new Map,this.Ru=new Vg,this.Vu={},this.mu=new Map,this.fu=Uo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YP(n,e,i=!0){const s=c1(n);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await r1(s,e,i,!0),o}async function XP(n,e){const i=c1(n);await r1(i,e,!0,!1)}async function r1(n,e,i,s){const o=await dP(n.localStore,Xi(e)),c=o.targetId,u=n.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await KP(n,e,c,u==="current",o.resumeToken)),n.isPrimaryClient&&i&&QA(n.remoteStore,o),p}async function KP(n,e,i,s,o){n.pu=(y,T,w)=>(async function(k,L,K,W){let ie=L.view.ru(K);ie.Cs&&(ie=await yE(k.localStore,L.query,!1).then((({documents:I})=>L.view.ru(I,ie))));const se=W&&W.targetChanges.get(L.targetId),le=W&&W.targetMismatches.get(L.targetId)!=null,ce=L.view.applyChanges(ie,k.isPrimaryClient,se,le);return RE(k,L.targetId,ce.au),ce.snapshot})(n,y,T,w);const c=await yE(n.localStore,e,!0),u=new HP(e,c.Qs),p=u.ru(c.documents),m=Gc.createSynthesizedTargetChangeForCurrentChange(i,s&&n.onlineState!=="Offline",o),g=u.applyChanges(p,n.isPrimaryClient,m);RE(n,i,g.au);const _=new qP(e,i,u);return n.Tu.set(e,_),n.Iu.has(i)?n.Iu.get(i).push(e):n.Iu.set(i,[e]),g.snapshot}async function QP(n,e,i){const s=Le(n),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter((u=>!Rh(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Lm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Ug(s.remoteStore,o.targetId),Um(s,o.targetId)})).catch(Xo)):(Um(s,o.targetId),await Lm(s.localStore,o.targetId,!0))}async function WP(n,e){const i=Le(n),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Ug(i.remoteStore,s.targetId))}async function JP(n,e,i){const s=sV(n);try{const o=await(function(u,p){const m=Le(u),g=yt.now(),_=p.reduce(((w,C)=>w.add(C.key)),Xe());let y,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let C=Dr(),k=Xe();return m.Ns.getEntries(w,_).next((L=>{C=L,C.forEach(((K,W)=>{W.isValidDocument()||(k=k.add(K))}))})).next((()=>m.localDocuments.getOverlayedDocuments(w,C))).next((L=>{y=L;const K=[];for(const W of p){const ie=u3(W,y.get(W.key).overlayedDocument);ie!=null&&K.push(new xa(W.key,ie,pA(ie.value.mapValue),wr.exists(!0)))}return m.mutationQueue.addMutationBatch(w,g,K,p)})).next((L=>{T=L;const K=L.applyToLocalDocumentSet(y,k);return m.documentOverlayCache.saveOverlays(w,L.batchId,K)}))})).then((()=>({batchId:T.batchId,changes:AA(y)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(u,p,m){let g=u.Vu[u.currentUser.toKey()];g||(g=new St(Ye)),g=g.insert(p,m),u.Vu[u.currentUser.toKey()]=g})(s,o.batchId,i),await qc(s,o.changes),await Ph(s.remoteStore)}catch(o){const c=qg(o,"Failed to persist write");i.reject(c)}}async function s1(n,e){const i=Le(n);try{const s=await lP(i.localStore,e);e.targetChanges.forEach(((o,c)=>{const u=i.Au.get(c);u&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?at(u.hu,14607):o.removedDocuments.size>0&&(at(u.hu,42227),u.hu=!1))})),await qc(i,s,e)}catch(s){await Xo(s)}}function xE(n,e,i){const s=Le(n);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((c,u)=>{const p=u.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(u,p){const m=Le(u);m.onlineState=p;let g=!1;m.queries.forEach(((_,y)=>{for(const T of y.Sa)T.va(p)&&(g=!0)})),g&&Fg(m)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ZP(n,e,i){const s=Le(n);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),c=o&&o.key;if(c){let u=new St(Ie.comparator);u=u.insert(c,mn.newNoDocument(c,Pe.min()));const p=Xe().add(c),m=new Nh(Pe.min(),new Map,new St(Ye),u,p);await s1(s,m),s.du=s.du.remove(c),s.Au.delete(e),Yg(s)}else await Lm(s.localStore,e,!1).then((()=>Um(s,e,i))).catch(Xo)}async function eV(n,e){const i=Le(n),s=e.batch.batchId;try{const o=await oP(i.localStore,e);o1(i,s,null),a1(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await qc(i,o)}catch(o){await Xo(o)}}async function tV(n,e,i){const s=Le(n);try{const o=await(function(u,p){const m=Le(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return m.mutationQueue.lookupMutationBatch(g,p).next((y=>(at(y!==null,37113),_=y.keys(),m.mutationQueue.removeMutationBatch(g,y)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,p))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>m.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);o1(s,e,i),a1(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await qc(s,o)}catch(o){await Xo(o)}}function a1(n,e){(n.mu.get(e)||[]).forEach((i=>{i.resolve()})),n.mu.delete(e)}function o1(n,e,i){const s=Le(n);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Um(n,e,i=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),i&&n.Pu.yu(s,i);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||l1(n,s)}))}function l1(n,e){n.Eu.delete(e.path.canonicalString());const i=n.du.get(e);i!==null&&(Ug(n.remoteStore,i),n.du=n.du.remove(e),n.Au.delete(i),Yg(n))}function RE(n,e,i){for(const s of i)s instanceof n1?(n.Ru.addReference(s.key,e),nV(n,s)):s instanceof i1?(ve($g,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||l1(n,s.key)):Ne(19791,{wu:s})}function nV(n,e){const i=e.key,s=i.path.canonicalString();n.du.get(i)||n.Eu.has(s)||(ve($g,"New document in limbo: "+i),n.Eu.add(s),Yg(n))}function Yg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const i=new Ie(Tt.fromString(e)),s=n.fu.next();n.Au.set(s,new FP(i)),n.du=n.du.insert(i,s),QA(n.remoteStore,new gs(Xi(Dg(i.path)),s,"TargetPurposeLimboResolution",Sh.ce))}}async function qc(n,e,i){const s=Le(n),o=[],c=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,m)=>{u.push(s.pu(m,e,i).then((g=>{if((g||i)&&s.isPrimaryClient){const _=g?!g.fromCache:i?.targetChanges.get(m.targetId)?.current;s.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){o.push(g);const _=kg.As(m.targetId,g);c.push(_)}})))})),await Promise.all(u),s.Pu.H_(o),await(async function(m,g){const _=Le(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>ne.forEach(g,(T=>ne.forEach(T.Es,(w=>_.persistence.referenceDelegate.addReference(y,T.targetId,w))).next((()=>ne.forEach(T.ds,(w=>_.persistence.referenceDelegate.removeReference(y,T.targetId,w)))))))))}catch(y){if(!Ko(y))throw y;ve(jg,"Failed to update sequence numbers: "+y)}for(const y of g){const T=y.targetId;if(!y.fromCache){const w=_.Ms.get(T),C=w.snapshotVersion,k=w.withLastLimboFreeSnapshotVersion(C);_.Ms=_.Ms.insert(T,k)}}})(s.localStore,c))}async function iV(n,e){const i=Le(n);if(!i.currentUser.isEqual(e)){ve($g,"User change. New user:",e.toKey());const s=await $A(i.localStore,e);i.currentUser=e,(function(c,u){c.mu.forEach((p=>{p.forEach((m=>{m.reject(new we(ae.CANCELLED,u))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await qc(i,s.Ls)}}function rV(n,e){const i=Le(n),s=i.Au.get(e);if(s&&s.hu)return Xe().add(s.key);{let o=Xe();const c=i.Iu.get(e);if(!c)return o;for(const u of c){const p=i.Tu.get(u);o=o.unionWith(p.view.nu)}return o}}function c1(n){const e=Le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=s1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZP.bind(null,e),e.Pu.H_=BP.bind(null,e.eventManager),e.Pu.yu=zP.bind(null,e.eventManager),e}function sV(n){const e=Le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tV.bind(null,e),e}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return aP(this.persistence,new iP,e.initialUser,this.serializer)}Cu(e){return new FA(Lg.mi,this.serializer)}Du(e){return new fP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class aV extends oh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){at(this.persistence.referenceDelegate instanceof sh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new G3(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new FA((s=>sh.mi(s,i)),this.serializer)}}class Bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>xE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=iV.bind(null,this.syncEngine),await VP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kP})()}createDatastore(e){const i=Oh(e.databaseInfo.databaseId),s=(function(c){return new vP(c)})(e.databaseInfo);return(function(c,u,p,m){return new TP(c,u,p,m)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,c,u,p){return new AP(s,o,c,u,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>xE(this.syncEngine,i,0)),(function(){return bE.v()?new bE:new pP})())}createSyncEngine(e,i){return(function(o,c,u,p,m,g,_){const y=new $P(o,c,u,p,m,g);return _&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=Le(i);ve(Sa,"RemoteStore shutting down."),s.Ea.add(5),await Hc(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Bm.provider={build:()=>new Bm};class oV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ir("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ms="FirestoreClient";class lV{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=pn.UNAUTHENTICATED,this.clientId=Sg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async u=>{ve(Ms,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(ve(Ms,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ga;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=qg(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function om(n,e){n.asyncQueue.verifyOperationInProgress(),ve(Ms,"Initializing OfflineComponentProvider");const i=n.configuration;await e.initialize(i);let s=i.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await $A(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function CE(n,e){n.asyncQueue.verifyOperationInProgress();const i=await cV(n);ve(Ms,"Initializing OnlineComponentProvider"),await e.initialize(i,n.configuration),n.setCredentialChangeListener((s=>TE(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>TE(e.remoteStore,o))),n._onlineComponents=e}async function cV(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve(Ms,"Using user provided OfflineComponentProvider");try{await om(n,n._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Vo("Error using user provided cache. Falling back to memory cache: "+i),await om(n,new oh)}}else ve(Ms,"Using default OfflineComponentProvider"),await om(n,new aV(void 0));return n._offlineComponents}async function u1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve(Ms,"Using user provided OnlineComponentProvider"),await CE(n,n._uninitializedComponentsProvider._online)):(ve(Ms,"Using default OnlineComponentProvider"),await CE(n,new Bm))),n._onlineComponents}function uV(n){return u1(n).then((e=>e.syncEngine))}async function IE(n){const e=await u1(n),i=e.eventManager;return i.onListen=YP.bind(null,e.syncEngine),i.onUnlisten=QP.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=XP.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=WP.bind(null,e.syncEngine),i}function d1(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const DE=new Map;const h1="firestore.googleapis.com",NE=!0;class OE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h1,this.ssl=NE}else this.host=e.host,this.ssl=e.ssl??NE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B3)throw new we(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}S4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new we(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new we(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new we(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xg{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new h4;switch(s.type){case"firstParty":return new g4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new we(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=DE.get(i);s&&(ve("ComponentProvider","Removing Datastore"),DE.delete(i),s.terminate())})(this),Promise.resolve()}}function dV(n,e,i,s={}){n=Co(n,Xg);const o=qo(e),c=n._getSettings(),u={...c,emulatorOptions:n._getEmulatorOptions()},p=`${e}:${i}`;o&&(uS(`https://${p}`),dS("Firestore",!0)),c.host!==h1&&c.host!==p&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...c,host:p,ssl:o,emulatorOptions:s};if(!_a(m,u)&&(n._setSettings(m),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=pn.MOCK_USER;else{g=kD(s.mockUserToken,n._app?.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new we(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new pn(y)}n._authCredentials=new f4(new iA(g,_))}}class Vh{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vh(this.firestore,e,this._query)}}class Qt{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}toJSON(){return{type:Qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Bc(i,Qt._jsonSchema))return new Qt(e,s||null,new Ie(Tt.fromString(i.referencePath)))}}Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:zt("string",Qt._jsonSchemaVersion),referencePath:zt("string")};class Oc extends Vh{constructor(e,i,s){super(e,i,Dg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new Ie(e))}withConverter(e){return new Oc(this.firestore,e,this._path)}}function ME(n,e,...i){if(n=di(n),arguments.length===1&&(e=Sg.newId()),T4("doc","path",e),n instanceof Xg){const s=Tt.fromString(e,...i);return F0(s),new Qt(n,null,new Ie(s))}{if(!(n instanceof Qt||n instanceof Oc))throw new we(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Tt.fromString(e,...i));return F0(s),new Qt(n.firestore,n instanceof Oc?n.converter:null,new Ie(s))}}const PE="AsyncQueue";class VE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XA(this,"async_queue_retry"),this._c=()=>{const s=am();s&&ve(PE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=am();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=am();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new ga;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ko(e))throw e;ve(PE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ir("INTERNAL UNHANDLED ERROR: ",LE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Hg.createAndSchedule(this,e,i,s,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Ne(47125,{Pc:LE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function LE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function kE(n){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1})(n,["next","error","complete"])}class lh extends Xg{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new VE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VE(e),this._firestoreClient=void 0,await e}}}function hV(n,e){const i=typeof n=="object"?n:mS(),s=typeof n=="string"?n:Jd,o=pg(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=VD("firestore");c&&dV(o,...c)}return o}function f1(n){if(n._terminated)throw new we(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||fV(n),n._firestoreClient}function fV(n){const e=n._freezeSettings(),i=(function(o,c,u,p){return new P4(o,c,u,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,d1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new lV(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(n._componentsProvider))}class li{constructor(e){this._byteString=e}static fromBase64String(e){try{return new li(cn.fromBase64String(e))}catch(i){throw new we(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new li(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Bc(e,li._jsonSchema))return li.fromBase64String(e.bytes)}}li._jsonSchemaVersion="firestore/bytes/1.0",li._jsonSchema={type:zt("string",li._jsonSchemaVersion),bytes:zt("string")};class Kg{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new we(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class p1{constructor(e){this._methodName=e}}class Qi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new we(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new we(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(e){if(Bc(e,Qi._jsonSchema))return new Qi(e.latitude,e.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:zt("string",Qi._jsonSchemaVersion),latitude:zt("number"),longitude:zt("number")};class Wi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Bc(e,Wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Wi(e.vectorValues);throw new we(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Wi._jsonSchemaVersion="firestore/vectorValue/1.0",Wi._jsonSchema={type:zt("string",Wi._jsonSchemaVersion),vectorValues:zt("object")};const pV=/^__.*__$/;class mV{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new xa(e,this.data,this.fieldMask,i,this.fieldTransforms):new zc(e,this.data,i,this.fieldTransforms)}}function m1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ac:n})}}class Qg{constructor(e,i,s,o,c,u){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ch(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(m1(this.Ac)&&pV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class gV{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Oh(e)}Cc(e,i,s,o=!1){return new Qg({Ac:e,methodName:i,Dc:s,path:on.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yV(n){const e=n._freezeSettings(),i=Oh(n._databaseId);return new gV(n._databaseId,!!e.ignoreUndefinedProperties,i)}function vV(n,e,i,s,o,c={}){const u=n.Cc(c.merge||c.mergeFields?2:0,e,i,o);_1("Data must be an object, but it was:",u,s);const p=y1(s,u);let m,g;if(c.merge)m=new xi(u.fieldMask),g=u.fieldTransforms;else if(c.mergeFields){const _=[];for(const y of c.mergeFields){const T=_V(e,y,i);if(!u.contains(T))throw new we(ae.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);EV(_,T)||_.push(T)}m=new xi(_),g=u.fieldTransforms.filter((y=>m.covers(y.field)))}else m=null,g=u.fieldTransforms;return new mV(new oi(p),m,g)}function g1(n,e){if(v1(n=di(n)))return _1("Unsupported field value:",e,n),y1(n,e);if(n instanceof p1)return(function(s,o){if(!m1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const c=[];let u=0;for(const p of s){let m=g1(p,o.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),u++}return{arrayValue:{values:c}}})(n,e)}return(function(s,o){if((s=di(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return r3(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=yt.fromDate(s);return{timestampValue:rh(o.serializer,c)}}if(s instanceof yt){const c=new yt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:rh(o.serializer,c)}}if(s instanceof Qi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof li)return{bytesValue:kA(o.serializer,s._byteString)};if(s instanceof Qt){const c=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(c))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Pg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Wi)return(function(u,p){return{mapValue:{fields:{[hA]:{stringValue:fA},[Zd]:{arrayValue:{values:u.toArray().map((g=>{if(typeof g!="number")throw p.Sc("VectorValues must only contain numeric values.");return Ng(p.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ag(s)}`)})(n,e)}function y1(n,e){const i={};return aA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Aa(n,((s,o)=>{const c=g1(o,e.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function v1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yt||n instanceof Qi||n instanceof li||n instanceof Qt||n instanceof p1||n instanceof Wi)}function _1(n,e,i){if(!v1(i)||!rA(i)){const s=Ag(i);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function _V(n,e,i){if((e=di(e))instanceof Kg)return e._internalPath;if(typeof e=="string")return b1(n,e);throw ch("Field path arguments must be of type string or ",n,!1,void 0,i)}const bV=new RegExp("[~\\*/\\[\\]]");function b1(n,e,i){if(e.search(bV)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new Kg(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function ch(n,e,i,s,o){const c=s&&!s.isEmpty(),u=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(c||u)&&(m+=" (found",c&&(m+=` in field ${s}`),u&&(m+=` in document ${o}`),m+=")"),new we(ae.INVALID_ARGUMENT,p+n+m)}function EV(n,e){return n.some((i=>i.isEqual(e)))}class E1{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(T1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class TV extends E1{data(){return super.data()}}function T1(n,e){return typeof e=="string"?b1(n,e):e instanceof Kg?e._internalPath:e._delegate._internalPath}function SV(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new we(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AV{convertValue(e,i="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Aa(e,((o,c)=>{s[o]=this.convertValue(c,i)})),s}convertVectorValue(e){const i=e.fields?.[Zd].arrayValue?.values?.map((s=>Nt(s.doubleValue)));return new Wi(i)}convertGeoPoint(e){return new Qi(Nt(e.latitude),Nt(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=wh(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Rc(e));default:return null}}convertTimestamp(e){const i=Is(e);return new yt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Tt.fromString(e);at(HA(s),9688,{name:e});const o=new Cc(s.get(1),s.get(3)),c=new Ie(s.popFirst(5));return o.isEqual(i)||Ir(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function wV(n,e,i){let s;return s=n?i&&(i.merge||i.mergeFields)?n.toFirestore(e,i):n.toFirestore(e):e,s}class oc{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ya extends E1{constructor(e,i,s,o,c,u){super(e,i,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(T1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ya._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",ya._jsonSchema={type:zt("string",ya._jsonSchemaVersion),bundleSource:zt("string","DocumentSnapshot"),bundleName:zt("string"),bundle:zt("string")};class Md extends ya{data(e={}){return super.data(e)}}class Do{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new oc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Md(this._firestore,this._userDataWriter,s.key,s,new oc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new we(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((p=>{const m=new Md(o._firestore,o._userDataWriter,p.doc.key,p.doc,new oc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const m=new Md(o._firestore,o._userDataWriter,p.doc.key,p.doc,new oc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return p.type!==0&&(g=u.indexOf(p.doc.key),u=u.delete(p.doc.key)),p.type!==1&&(u=u.add(p.doc),_=u.indexOf(p.doc.key)),{type:xV(p.type),doc:m,oldIndex:g,newIndex:_}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Do._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Sg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:n})}}Do._jsonSchemaVersion="firestore/querySnapshot/1.0",Do._jsonSchema={type:zt("string",Do._jsonSchemaVersion),bundleSource:zt("string","QuerySnapshot"),bundleName:zt("string"),bundle:zt("string")};class S1 extends AV{constructor(e){super(),this.firestore=e}convertBytes(e){return new li(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,i)}}function jE(n,e,i){n=Co(n,Qt);const s=Co(n.firestore,lh),o=wV(n.converter,e,i);return RV(s,[vV(yV(s),"setDoc",n._key,o,n.converter!==null,i).toMutation(n._key,wr.none())])}function UE(n,...e){n=di(n);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||kE(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(kE(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let c,u,p;if(n instanceof Qt)u=Co(n.firestore,lh),p=Dg(n._key.path),c={next:m=>{e[s]&&e[s](CV(u,n,m))},error:e[s+1],complete:e[s+2]};else{const m=Co(n,Vh);u=Co(m.firestore,lh),p=m._query;const g=new S1(u);c={next:_=>{e[s]&&e[s](new Do(u,g,m,_))},error:e[s+1],complete:e[s+2]},SV(n._query)}return(function(g,_,y,T){const w=new oV(T),C=new GP(_,w,y);return g.asyncQueue.enqueueAndForget((async()=>jP(await IE(g),C))),()=>{w.Nu(),g.asyncQueue.enqueueAndForget((async()=>UP(await IE(g),C)))}})(f1(u),p,o,c)}function RV(n,e){return(function(s,o){const c=new ga;return s.asyncQueue.enqueueAndForget((async()=>JP(await uV(s),o,c))),c.promise})(f1(n),e)}function CV(n,e,i){const s=i.docs.get(e._key),o=new S1(n);return new ya(n,o,e._key,s,new oc(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Yo=o})(Fo),Po(new ba("firestore",((s,{instanceIdentifier:o,options:c})=>{const u=s.getProvider("app").getImmediate(),p=new lh(new p4(s.getProvider("auth-internal")),new y4(u,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new we(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cc(g.options.projectId,_)})(u,o),u);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Es(z0,G0,e),Es(z0,G0,"esm2020")})();const BE="Asia/Taipei",zE="Europe/Vienna",P={BG_CANVAS:"bg-[#0a0a0a]",GLASS_BG:"bg-slate-800/20 backdrop-blur-xl",GLASS_BORDER:"border border-slate-700/30",GLASS_SHADOW:"shadow-[0_8px_32px_0_rgba(0,0,0,0.6)]",GLASS_HOVER:"hover:bg-slate-700/30 hover:border-slate-600/40 transition-all duration-300",TEXT_PRIMARY:"text-slate-100",TEXT_SECONDARY:"text-slate-300",TEXT_MUTED:"text-slate-500",BTN_PRIMARY:"bg-slate-700/50 hover:bg-slate-600/60 text-white shadow-lg shadow-black/30 border border-slate-600/50 transition-all duration-300",BTN_INACTIVE:"bg-slate-800/30 hover:bg-slate-700/40 text-slate-300 border border-slate-700/30 transition-all duration-300",BTN_SECONDARY:"bg-slate-800/30 hover:bg-slate-700/40 text-slate-200 border border-slate-700/30 transition-all duration-300",BTN_ACCENT:"bg-slate-600/50 hover:bg-slate-500/60 text-white shadow-lg shadow-black/30 transition-all duration-300",BTN_GHOST:"hover:bg-slate-800/30 text-slate-400 hover:text-slate-200 transition-all duration-200",SELECTED:"bg-slate-700/50 border-slate-600/70 text-white"},Td=n=>new Date().toLocaleTimeString("zh-TW",{timeZone:n,hour:"2-digit",minute:"2-digit",hour12:!1}),A1=n=>{if(!n)return"";const e=new Date(n);return isNaN(e)?"":new Date(e.getTime()+e.getTimezoneOffset()*6e4).toLocaleDateString("zh-TW",{month:"2-digit",day:"2-digit"})},IV=n=>n?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(n)}`:"#",lc=()=>Math.random().toString(36).substring(2,9),DV=n=>E.jsxs("svg",{...n,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}),E.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),As=n=>E.jsx("svg",{...n,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:E.jsx("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"})}),NV=n=>E.jsxs("svg",{...n,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("circle",{cx:"12",cy:"12",r:"10"}),E.jsx("polyline",{points:"12 6 12 12 16 14"})]}),OV=n=>E.jsxs("svg",{...n,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M17 14h.01"}),E.jsx("path",{d:"M7 7h10"}),E.jsx("path",{d:"M5 21V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16l-3.5-2-3.5 2-3.5-2L5 21z"})]}),Ji=n=>E.jsxs("svg",{...n,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M3 6h18"}),E.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),MV=n=>E.jsxs("svg",{...n,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("circle",{cx:"9",cy:"5",r:"1"}),E.jsx("circle",{cx:"9",cy:"12",r:"1"}),E.jsx("circle",{cx:"9",cy:"19",r:"1"}),E.jsx("circle",{cx:"15",cy:"5",r:"1"}),E.jsx("circle",{cx:"15",cy:"12",r:"1"}),E.jsx("circle",{cx:"15",cy:"19",r:"1"})]}),PV=n=>E.jsxs("svg",{...n,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),E.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),ws=n=>E.jsxs("svg",{...n,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),E.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),VV=n=>E.jsxs("svg",{...n,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("circle",{cx:"12",cy:"12",r:"10"}),E.jsx("path",{d:"M16.2 7.8L7.8 16.2"}),E.jsx("path",{d:"M13 3v2M13 19v2M3 11h2M19 11h2"})]}),lm=n=>E.jsx("svg",{...n,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:E.jsx("path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"})}),LV=n=>E.jsxs("svg",{...n,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"23"}),E.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),kV=n=>E.jsxs("svg",{...n,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),E.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),E.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),E.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),jV=n=>E.jsxs("svg",{...n,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("circle",{cx:"12",cy:"12",r:"3"}),E.jsx("path",{d:"M12 1v6m0 6v10M1 12h6m6 0h10"})]}),UV=n=>E.jsxs("svg",{...n,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),E.jsx("polyline",{points:"7 10 12 15 17 10"}),E.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),BV=n=>E.jsxs("svg",{...n,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("circle",{cx:"9",cy:"21",r:"1"}),E.jsx("circle",{cx:"20",cy:"21",r:"1"}),E.jsx("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})]}),zV=n=>E.jsxs("svg",{...n,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("line",{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}),E.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),E.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),E.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),GV=n=>E.jsxs("svg",{...n,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),E.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),HV=()=>E.jsxs("div",{className:"flex flex-col items-center gap-4",children:[E.jsxs("div",{className:"relative w-16 h-16",children:[E.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-slate-700/30"}),E.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-t-slate-400 animate-spin"})]}),E.jsx("div",{className:"text-slate-400 text-sm font-medium tracking-wider animate-pulse",children:"LOADING..."})]}),Wo=({isOpen:n,onClose:e,title:i,children:s})=>n?E.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[E.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm transition-opacity",onClick:e}),E.jsxs("div",{className:`relative w-full max-w-md ${P.GLASS_BG} ${P.GLASS_BORDER} rounded-2xl p-6 ${P.GLASS_SHADOW} animate-in fade-in zoom-in-95 duration-200`,children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h3",{className:"text-xl font-bold text-slate-100",children:i}),E.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-slate-800/50 transition-colors text-slate-400 hover:text-slate-200",children:E.jsx(GV,{className:"w-5 h-5"})})]}),s]})]}):null,qV={tripName:"Central Europe 2026",startDate:"2026-03-29",endDate:"2026-04-07",flightInfo:{outbound:{airline:"China Airlines",flightNumber:"CI0063",departure:{code:"TPE",time:"2026-03-29 23:40"},arrival:{code:"VIE",time:"2026-03-30 06:30"}},inbound:{airline:"China Airlines",flightNumber:"CI0064",departure:{code:"VIE",time:"2026-04-07 11:25"},arrival:{code:"TPE",time:"2026-04-08 06:00"}}},days:[{index:0,date:"2026-03-29",activities:[{id:"d1_a1",time:"20:00",description:"",type:"transport",location:"TPE Airport",note:"",expenses:[]},{id:"d1_a2",time:"23:40",description:" (CI0063)",type:"flight",location:"TPE -> VIE",note:"",expenses:[]}]},{index:1,date:"2026-03-30",activities:[{id:"d2_a1",time:"11:00",description:" (VIE)",type:"transport",location:"Vienna International Airport",note:"Neubau (7)",expenses:[]},{id:"d2_a2",time:"12:30",description:" Check-in",type:"transport",location:"Vienna City Center",note:" S-Bahn (S7 )",expenses:[{id:"e_d2_1",amount:4.5,currency:"EUR",category:"Transport",description:"S-Bahn S7",payer:""}]},{id:"d2_a3",time:"14:30",description:" / 7 Neubau ",type:"sightseeing",location:"Mariahilfer Strae",note:"",expenses:[]},{id:"d2_a4",time:"17:30",description:" (MQ) ",type:"sightseeing",location:"MuseumsQuartier",note:"",expenses:[]},{id:"d2_a5",time:"19:30",description:"",type:"meal",location:"Donaukanal",note:"Strandbar Herrmann  Badeschiff",expenses:[]}]},{index:2,date:"2026-03-31",activities:[{id:"d3_a1",time:"08:00",description:"  ",type:"transport",location:"Vienna -> Hallstatt",note:" BB  SparSchiene",expenses:[{id:"e_d3_1",amount:30,currency:"EUR",category:"Transport",description:"BB Train",payer:""}]},{id:"d3_a2",time:"12:00",description:" Hallstatt",type:"transport",location:"Hallstatt",note:"",expenses:[{id:"e_d3_2",amount:3.5,currency:"EUR",category:"Transport",description:"Ferry",payer:""}]},{id:"d3_a3",time:"14:00",description:" & Skywalk",type:"sightseeing",location:"Salzwelten Hallstatt",note:"",expenses:[{id:"e_d3_3",amount:22,currency:"EUR",category:"Ticket",description:"Funicular Roundtrip",payer:""}]},{id:"d3_a4",time:"17:00",description:"",type:"sightseeing",location:"Hallstatt Lake",note:"Hallstatt Lahn ",expenses:[]},{id:"d3_a5",time:"19:30",description:"Gasthof Zauner",type:"meal",location:"Gasthof Zauner",note:"",expenses:[]}]},{index:3,date:"2026-04-01",activities:[{id:"d4_a1",time:"09:00",description:"",type:"transport",location:"Hallstatt Dock",note:"",expenses:[{id:"e_d4_1",amount:3.5,currency:"EUR",category:"Transport",description:"Ferry",payer:""}]},{id:"d4_a2",time:"10:00",description:"  ",type:"transport",location:"Hallstatt -> Salzburg",note:"Schallmoos ",expenses:[{id:"e_d4_2",amount:22.5,currency:"EUR",category:"Transport",description:"Bus + Train",payer:""}]},{id:"d4_a3",time:"13:00",description:" Check-in",type:"accommodation",location:"Salzburg",note:"",expenses:[]},{id:"d4_a4",time:"15:00",description:"",type:"sightseeing",location:"Mirabell Palace",note:"",expenses:[]},{id:"d4_a5",time:"17:00",description:"",type:"sightseeing",location:"Hohensalzburg Fortress",note:"",expenses:[{id:"e_d4_3",amount:16.6,currency:"EUR",category:"Ticket",description:"Fortress + Funicular",payer:""}]},{id:"d4_a6",time:"19:30",description:"Die Weisse",type:"meal",location:"Die Weisse",note:"",expenses:[]}]},{index:4,date:"2026-04-02",activities:[{id:"d5_a1",time:"08:30",description:"  ",type:"transport",location:"Salzburg Hbf",note:" Bus 840/841 (RVO Day Ticket)",expenses:[{id:"e_d5_1",amount:12,currency:"EUR",category:"Transport",description:"RVO Day Ticket",payer:""}]},{id:"d5_a2",time:"09:30",description:"",type:"sightseeing",location:"Knigssee",note:" Salet",expenses:[{id:"e_d5_2",amount:22,currency:"EUR",category:"Ticket",description:"Boat Roundtrip",payer:""}]},{id:"d5_a3",time:"11:00",description:" (Obersee) ",type:"sightseeing",location:"Obersee",note:"",expenses:[]},{id:"d5_a4",time:"18:00",description:"",type:"transport",location:"Knigssee -> Salzburg",note:"",expenses:[]},{id:"d5_a5",time:"20:00",description:"",type:"meal",location:"Apartment",note:"",expenses:[]}]},{index:5,date:"2026-04-03",activities:[{id:"d6_a1",time:"09:00",description:"",type:"sightseeing",location:"Salzburg Old Town",note:"",expenses:[]},{id:"d6_a2",time:"11:30",description:"  CK ",type:"transport",location:"Salzburg -> esk Krumlov",note:" (4)",expenses:[{id:"e_d6_1",amount:40,currency:"EUR",category:"Transport",description:"Shuttle Bus",payer:""}]},{id:"d6_a3",time:"15:30",description:" CK  Check-in",type:"accommodation",location:"esk Krumlov",note:"Penzion ",expenses:[]},{id:"d6_a4",time:"17:00",description:" & ",type:"sightseeing",location:"CK Castle",note:"Vltava ",expenses:[]},{id:"d6_a5",time:"19:30",description:"Hospoda 99",type:"meal",location:"Hospoda 99",note:" Goulash ",expenses:[]}]},{index:6,date:"2026-04-04",activities:[{id:"d7_a1",time:"09:00",description:" / ",type:"sightseeing",location:"Castle Tower",note:"",expenses:[{id:"e_d7_1",amount:8,currency:"EUR",category:"Ticket",description:"Tower Entrance",payer:""}]},{id:"d7_a2",time:"14:00",description:"CK   ",type:"transport",location:"CK -> Prague",note:" (RegioJet / FlixBus)",expenses:[{id:"e_d7_2",amount:12.5,currency:"EUR",category:"Transport",description:"Bus Ticket",payer:""}]},{id:"d7_a3",time:"17:30",description:" Check-in",type:"accommodation",location:"Prague",note:"Vinohrady  Karln ",expenses:[{id:"e_d7_3",amount:4,currency:"EUR",category:"Transport",description:"City Transport Ticket",payer:""}]},{id:"d7_a4",time:"20:00",description:"Local Hospoda",type:"meal",location:"Vinohrady/Karln",note:"",expenses:[]}]},{index:7,date:"2026-04-05",activities:[{id:"d8_a1",time:"09:30",description:"Kampa Museum  ",type:"sightseeing",location:"Kampa Museum",note:"",expenses:[{id:"e_d8_1",amount:12,currency:"EUR",category:"Ticket",description:"Museum Entrance",payer:""}]},{id:"d8_a2",time:"12:30",description:"Letn Park ",type:"meal",location:"Letn Park",note:"",expenses:[]},{id:"d8_a3",time:"15:00",description:" & ",type:"sightseeing",location:"Letn Park",note:"",expenses:[]},{id:"d8_a4",time:"17:00",description:" (Dancing House)",type:"sightseeing",location:"Dancing House",note:"",expenses:[]},{id:"d8_a5",time:"20:00",description:"Vtopna Railway Restaurant",type:"meal",location:"Vtopna",note:"",expenses:[]}]},{index:8,date:"2026-04-06",activities:[{id:"d9_a1",time:"09:00",description:" & ",type:"sightseeing",location:"Charles Bridge",note:"",expenses:[]},{id:"d9_a2",time:"12:00",description:"  ",type:"transport",location:"Prague -> Vienna",note:"/ 17:00 ",expenses:[{id:"e_d9_1",amount:27.5,currency:"EUR",category:"Transport",description:"Train/Bus Ticket",payer:""}]},{id:"d9_a3",time:"17:00",description:" Check-in",type:"accommodation",location:"Vienna",note:" Day 2 ",expenses:[]},{id:"d9_a4",time:"20:00",description:"Heuriger",type:"meal",location:"Grinzing",note:"",expenses:[]}]},{index:9,date:"2026-04-07",activities:[{id:"d10_a1",time:"08:00",description:"",type:"other",location:"Hotel",note:"",expenses:[]},{id:"d10_a2",time:"08:30",description:" (VIE)",type:"transport",location:"Vienna Airport",note:" S-Bahn S7",expenses:[{id:"e_d10_1",amount:4.5,currency:"EUR",category:"Transport",description:"S-Bahn Ticket",payer:""}]},{id:"d10_a3",time:"11:25",description:" CI0064 ",type:"flight",location:"VIE -> TPE",note:"",expenses:[]}]}],shoppingList:[{id:"s1",item:"",assignedTo:"",quantity:5,purchased:!1,location:"",note:" Mirabell "},{id:"s2",item:"",assignedTo:"",quantity:1,purchased:!1,location:"",note:""}],packingList:[{id:"p1",item:"",category:"",packed:!1},{id:"p2",item:"",category:"",packed:!1},{id:"p3",item:"",category:"",packed:!1},{id:"p4",item:"",category:"",packed:!1},{id:"p5",item:"",category:"",packed:!1},{id:"p6",item:"",category:"",packed:!1},{id:"p7",item:"",category:"",packed:!1},{id:"p8",item:"",category:"",packed:!1},{id:"p9",item:"",category:"",packed:!1}],independentExpenses:[]},GE={currency:"EUR",timezone:"Europe/Vienna",currencies:[{code:"EUR",name:""},{code:"TWD",name:""}],familyMembers:["","","A","B"],categories:["","","","","",""]},FV=()=>{const[n,e]=F.useState(Td(BE)),[i,s]=F.useState(Td(zE));return F.useEffect(()=>{const o=setInterval(()=>{e(Td(BE)),s(Td(zE))},1e3);return()=>clearInterval(o)},[]),E.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[E.jsxs("div",{className:"flex items-center gap-1.5",children:[E.jsx("span",{className:P.TEXT_MUTED,children:""}),E.jsx("span",{className:`font-mono font-semibold ${P.TEXT_SECONDARY}`,children:n})]}),E.jsx("div",{className:"w-px h-4 bg-slate-300"}),E.jsxs("div",{className:"flex items-center gap-1.5",children:[E.jsx("span",{className:P.TEXT_MUTED,children:""}),E.jsx("span",{className:`font-mono font-semibold ${P.TEXT_SECONDARY}`,children:i})]})]})},$V=({flightInfo:n,syncStatus:e,onOpenStatus:i,onUpdateFlight:s})=>{const[o,c]=F.useState(null),[u,p]=F.useState(""),m=(T,w,C)=>{c(`${T}-${w}`),p(C||"")},g=(T,w)=>{s&&s(T,w,u),c(null),p("")},_=()=>{c(null),p("")},y=(T,w,C,k="")=>{const L=`${T}-${w}`;return o===L?E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("input",{type:"text",value:u,onChange:W=>p(W.target.value),className:`${P.GLASS_BG} ${P.GLASS_BORDER} ${P.TEXT_PRIMARY} rounded px-2 py-1 text-xs flex-1 min-w-0 focus:outline-none focus:ring-1 focus:ring-amber-500`,autoFocus:!0,onKeyDown:W=>{W.key==="Enter"&&g(T,w),W.key==="Escape"&&_()}}),E.jsx("button",{onClick:()=>g(T,w),className:"text-emerald-500 hover:text-emerald-400 px-1 text-base",type:"button",children:""}),E.jsx("button",{onClick:_,className:"text-rose-500 hover:text-rose-400 px-1 text-base",type:"button",children:""})]}):E.jsx("div",{onClick:()=>m(T,w,C),className:`${k} cursor-pointer hover:bg-white/5 rounded px-1 transition-colors`,title:"",children:C||""})};return E.jsx("div",{className:`relative ${P.GLASS_BG} ${P.GLASS_BORDER} border-b ${P.GLASS_SHADOW}`,children:E.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-3",children:[E.jsxs("div",{className:"flex items-center justify-between mb-2",children:[E.jsxs("h1",{className:`text-lg font-bold ${P.TEXT_PRIMARY} flex items-center gap-2`,children:[E.jsx(lm,{className:"w-5 h-5"}),"",e&&E.jsx("button",{onClick:i,className:`flex h-2 w-2 rounded-full cursor-pointer transition-transform hover:scale-150 ${e==="connected"?"bg-emerald-500 shadow-[0_0_8px_rgba(16,185,129,0.6)]":e==="error"?"bg-rose-500 animate-pulse":"bg-amber-500 animate-pulse"}`,title:e==="connected"?" ()":" ()"})]}),E.jsx(FV,{})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[E.jsxs("div",{className:`${P.GLASS_BG} ${P.GLASS_BORDER} rounded-lg p-2`,children:[E.jsxs("div",{className:`${P.TEXT_MUTED} mb-0.5 flex items-center gap-1`,children:[E.jsx(lm,{className:"w-3 h-3"}),"  (",n?.outbound?.airline," ",n?.outbound?.flightNumber,")"]}),y("outbound","time",n?.outbound?.departure?.time,`${P.TEXT_PRIMARY} font-semibold`),E.jsxs("div",{className:P.TEXT_SECONDARY,children:[n?.outbound?.departure?.code,"  ",n?.outbound?.arrival?.code]}),y("outbound","note",n?.outbound?.note,`${P.TEXT_MUTED} mt-1 text-[10px] italic`)]}),E.jsxs("div",{className:`${P.GLASS_BG} ${P.GLASS_BORDER} rounded-lg p-2`,children:[E.jsxs("div",{className:`${P.TEXT_MUTED} mb-0.5 flex items-center gap-1`,children:[E.jsx(lm,{className:"w-3 h-3"}),"  (",n?.inbound?.airline," ",n?.inbound?.flightNumber,")"]}),y("inbound","time",n?.inbound?.departure?.time,`${P.TEXT_PRIMARY} font-semibold`),E.jsxs("div",{className:P.TEXT_SECONDARY,children:[n?.inbound?.departure?.code,"  ",n?.inbound?.arrival?.code]}),y("inbound","note",n?.inbound?.note,`${P.TEXT_MUTED} mt-1 text-[10px] italic`)]})]})]})})},YV=({days:n,selectedDayIndex:e,onSelectDay:i})=>E.jsx("div",{className:`sticky top-0 z-20 ${P.GLASS_BG} ${P.GLASS_BORDER} border-b ${P.GLASS_SHADOW} touch-pan-x`,children:E.jsx("div",{className:"max-w-6xl mx-auto px-2 py-3 overflow-x-auto scrollbar-hide",children:E.jsx("div",{className:"flex gap-3 min-w-max",children:n.map(s=>{const o=new Date(s.date),c=`${o.getMonth()+1}/${o.getDate()}`,u=e===s.index,p=s.activities&&s.activities.length>0?s.activities.find(g=>g.type==="sightseeing"||g.type==="accommodation")?.location?.split(",")[0]?.split(" ")[0]:"",m=s.city||p||"";return E.jsxs("button",{onClick:()=>i(s.index),className:`px-5 py-3 rounded-xl text-sm font-medium transition-all duration-200 whitespace-nowrap flex flex-col items-center min-w-[110px] active:scale-95 ${u?`${P.BTN_PRIMARY} shadow-xl`:`${P.BTN_INACTIVE} hover:scale-105`}`,children:[E.jsxs("div",{className:"font-bold text-base mb-0.5",children:["Day ",s.index+1]}),E.jsx("div",{className:`text-xs ${u?"text-slate-300":"text-slate-500"}`,children:c}),m&&E.jsx("div",{className:`text-xs mt-0.5 ${u?"text-slate-400":"text-slate-600"}`,children:m.length>10?m.slice(0,10)+"...":m})]},s.index)})})})}),XV=({activity:n,dayIndex:e,onEdit:i,onDelete:s,onAddExpense:o,onEditExpense:c,onDeleteExpense:u,provided:p})=>{const[m,g]=F.useState(!1),[_,y]=F.useState(n),T=()=>{i(e,_),g(!1)},w=F.useMemo(()=>!n.expenses||n.expenses.length===0?{}:n.expenses.reduce((C,k)=>(C[k.currency]=(C[k.currency]||0)+k.amount,C),{}),[n.expenses]);return m?E.jsx("div",{ref:p.innerRef,...p.draggableProps,className:`${P.GLASS_BG} ${P.GLASS_BORDER} rounded-xl p-4 mb-3 ${P.GLASS_SHADOW}`,children:E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsxs("div",{children:[E.jsx("label",{className:`text-xs ${P.TEXT_MUTED} mb-1 block`,children:""}),E.jsx("input",{type:"time",value:_.time,onChange:C=>y({..._,time:C.target.value}),className:`w-full px-3 py-2 rounded-lg border ${P.GLASS_BORDER} ${P.TEXT_PRIMARY}`})]}),E.jsxs("div",{children:[E.jsx("label",{className:`text-xs ${P.TEXT_MUTED} mb-1 block`,children:""}),E.jsx("input",{type:"text",value:_.location,onChange:C=>y({..._,location:C.target.value}),className:`w-full px-3 py-2 rounded-lg border ${P.GLASS_BORDER} ${P.TEXT_PRIMARY}`})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:`text-xs ${P.TEXT_MUTED} mb-1 block`,children:""}),E.jsx("input",{type:"text",value:_.name,onChange:C=>y({..._,name:C.target.value}),className:`w-full px-3 py-2 rounded-lg border ${P.GLASS_BORDER} ${P.TEXT_PRIMARY}`})]}),E.jsxs("div",{children:[E.jsx("label",{className:`text-xs ${P.TEXT_MUTED} mb-1 block`,children:""}),E.jsx("textarea",{value:_.note||"",onChange:C=>y({..._,note:C.target.value}),className:`w-full px-3 py-2 rounded-lg border ${P.GLASS_BORDER} ${P.TEXT_PRIMARY}`,rows:2})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:T,className:`flex-1 py-2 rounded-lg ${P.BTN_ACCENT}`,children:""}),E.jsx("button",{onClick:()=>g(!1),className:`flex-1 py-2 rounded-lg ${P.BTN_PRIMARY}`,children:""})]})]})}):E.jsx("div",{ref:p.innerRef,...p.draggableProps,className:`${P.GLASS_BG} ${P.GLASS_BORDER} rounded-xl p-4 mb-3 ${P.GLASS_SHADOW} ${P.GLASS_HOVER}`,children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{...p.dragHandleProps,className:`${P.TEXT_MUTED} cursor-grab active:cursor-grabbing`,children:E.jsx(MV,{className:"w-5 h-5"})}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("div",{className:"flex items-start justify-between mb-2",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(NV,{className:`w-4 h-4 ${P.TEXT_MUTED}`}),E.jsx("span",{className:`font-bold ${P.TEXT_PRIMARY}`,children:n.time})]}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx("a",{href:IV(n.location),target:"_blank",rel:"noopener noreferrer",className:`p-1.5 rounded-lg ${P.BTN_GHOST}`,children:E.jsx(DV,{className:"w-4 h-4"})}),E.jsx("button",{onClick:()=>g(!0),className:`p-1.5 rounded-lg ${P.BTN_GHOST}`,children:E.jsx(As,{className:"w-4 h-4"})}),E.jsx("button",{onClick:()=>s(e,n.id),className:`p-1.5 rounded-lg ${P.BTN_GHOST} text-rose-600`,children:E.jsx(Ji,{className:"w-4 h-4"})})]})]}),E.jsx("h4",{className:`font-semibold ${P.TEXT_PRIMARY} mb-1`,children:n.name}),E.jsx("p",{className:`text-sm ${P.TEXT_MUTED} mb-2`,children:n.location}),n.note&&E.jsx("p",{className:`text-sm ${P.TEXT_SECONDARY} mb-2`,children:n.note}),n.expenses&&n.expenses.length>0&&E.jsxs("div",{className:`mt-3 pt-3 border-t ${P.GLASS_BORDER}`,children:[E.jsxs("div",{className:"flex items-center justify-between mb-3 bg-slate-800/40 p-2 rounded-lg",children:[E.jsx("span",{className:`text-xs font-semibold ${P.TEXT_MUTED}`,children:""}),E.jsx("div",{className:"flex gap-3",children:Object.entries(w).map(([C,k])=>E.jsx("div",{className:"text-right",children:E.jsxs("span",{className:`text-sm font-bold block leading-none ${C==="EUR"?"text-emerald-400":C==="TWD"?"text-blue-400":P.TEXT_PRIMARY}`,children:[k.toFixed(C==="TWD"?0:2)," ",E.jsx("span",{className:"text-[10px] opacity-70",children:C})]})},C))})]}),E.jsx("div",{className:"space-y-1 pl-1",children:n.expenses.map(C=>E.jsxs("div",{className:"flex justify-between items-center text-xs group py-1 border-b border-white/5 last:border-0 hover:bg-white/5 px-1 rounded transition-colors",children:[E.jsxs("div",{className:"flex-1 flex justify-between items-center mr-2",children:[E.jsx("span",{className:`${P.TEXT_SECONDARY} truncate mr-2`,children:C.description||""}),E.jsxs("span",{className:`font-mono ${C.currency==="EUR"?"text-emerald-300":C.currency==="TWD"?"text-blue-300":P.TEXT_PRIMARY}`,children:[C.amount," ",E.jsx("span",{className:"text-[10px] opacity-50",children:C.currency})]})]}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:k=>{k.stopPropagation(),c({...C,activityId:n.id,dayIndex:e})},className:"p-1 hover:bg-white/10 rounded text-amber-400",title:"",children:E.jsx(As,{className:"w-3 h-3"})}),E.jsx("button",{onClick:k=>{k.stopPropagation(),u({...C,activityId:n.id,dayIndex:e})},className:"p-1 hover:bg-white/10 rounded text-rose-500",title:"",children:E.jsx(Ji,{className:"w-3 h-3"})})]})]},C.id))})]}),E.jsxs("button",{onClick:()=>o(e,n.id),className:`mt-3 w-full py-2 rounded-lg ${P.BTN_PRIMARY} text-sm`,children:[E.jsx(ws,{className:"w-4 h-4 inline mr-1"})," "]})]})]})})},KV=({isOpen:n,onClose:e,syncStatus:i,lastSyncTime:s,authUser:o,authError:c,dbError:u,firebaseEnabled:p})=>E.jsx(Wo,{isOpen:n,onClose:e,title:"",children:E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{className:`${P.GLASS_BG} ${P.GLASS_BORDER} rounded-xl p-4`,children:[E.jsx("h4",{className:`text-sm font-bold ${P.TEXT_MUTED} mb-2 uppercase tracking-wider`,children:"Firebase "}),E.jsxs("div",{className:"flex justify-between items-center mb-1",children:[E.jsx("span",{className:P.TEXT_PRIMARY,children:":"}),E.jsx("span",{className:p?"text-emerald-400 font-bold":"text-rose-400 font-bold",children:p?" (Initialized)":" (Failed)"})]})]}),E.jsxs("div",{className:`${P.GLASS_BG} ${P.GLASS_BORDER} rounded-xl p-4`,children:[E.jsx("h4",{className:`text-sm font-bold ${P.TEXT_MUTED} mb-2 uppercase tracking-wider`,children:" (Auth)"}),E.jsxs("div",{className:"space-y-1",children:[E.jsxs("div",{className:"flex justify-between",children:[E.jsx("span",{className:P.TEXT_PRIMARY,children:":"}),E.jsx("span",{className:"text-slate-300 font-mono text-xs",children:o?o.uid.slice(0,8)+"...":""})]}),c&&E.jsx("div",{className:"mt-2 p-2 bg-rose-500/10 border border-rose-500/20 rounded text-rose-400 text-xs break-all",children:c})]})]}),E.jsxs("div",{className:`${P.GLASS_BG} ${P.GLASS_BORDER} rounded-xl p-4`,children:[E.jsx("h4",{className:`text-sm font-bold ${P.TEXT_MUTED} mb-2 uppercase tracking-wider`,children:" (Firestore)"}),E.jsxs("div",{className:"space-y-1",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("span",{className:P.TEXT_PRIMARY,children:":"}),E.jsx("span",{className:`font-bold ${i==="connected"?"text-emerald-400":i==="error"?"text-rose-400":"text-amber-400"}`,children:i==="connected"?" (Connected)":i==="error"?" (Error)":" (Connecting...)"})]}),E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("span",{className:P.TEXT_PRIMARY,children:":"}),E.jsx("span",{className:"text-slate-300 text-xs",children:s?s.toLocaleTimeString():""})]}),u&&E.jsx("div",{className:"mt-2 p-2 bg-rose-500/10 border border-rose-500/20 rounded text-rose-400 text-xs break-all",children:u})]})]}),E.jsxs("div",{className:"text-xs text-slate-500 text-center",children:[E.jsx("p",{children:" Permission Denied Firebase Console  Rules"}),E.jsx("p",{children:" Network Error"})]})]})}),QV=({isOpen:n,onClose:e,onSave:i,expense:s,familyMembers:o=[],currencies:c=[],categories:u=[],isIndependent:p=!1})=>{const[m,g]=F.useState(s||{amount:"",description:"",currency:c[0]?.code||"EUR",payer:o[0]||"",category:u[0]||"Food",date:new Date().toISOString().split("T")[0]});F.useEffect(()=>{g(s||{amount:"",description:"",currency:c[0]?.code||"EUR",payer:o[0]||"",category:u[0]||"Food",date:new Date().toISOString().split("T")[0]})},[s,c,o,u]);const _=y=>{y.preventDefault(),i({...m,id:m.id||lc(),amount:parseFloat(m.amount)}),e()};return E.jsx(Wo,{isOpen:n,onClose:e,title:s?"":"",children:E.jsxs("form",{onSubmit:_,className:"space-y-4",children:[p&&E.jsxs("div",{children:[E.jsx("label",{className:`text-sm font-medium ${P.TEXT_PRIMARY} block mb-1`,children:""}),E.jsx("input",{type:"date",value:m.date,onChange:y=>g({...m,date:y.target.value}),required:!0,className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsxs("div",{children:[E.jsx("label",{className:`text-sm font-medium ${P.TEXT_PRIMARY} block mb-1`,children:""}),E.jsx("select",{value:m.currency,onChange:y=>g({...m,currency:y.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500",children:c.map(y=>E.jsx("option",{value:y.code,className:"text-slate-900 bg-white",children:y.code},y.code))})]}),E.jsxs("div",{children:[E.jsx("label",{className:`text-sm font-medium ${P.TEXT_PRIMARY} block mb-1`,children:""}),E.jsx("input",{type:"number",step:"0.01",value:m.amount,onChange:y=>g({...m,amount:y.target.value}),required:!0,className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:`text-sm font-medium ${P.TEXT_PRIMARY} block mb-1`,children:""}),E.jsx("input",{type:"text",value:m.description,onChange:y=>g({...m,description:y.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500"})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsxs("div",{children:[E.jsx("label",{className:`text-sm font-medium ${P.TEXT_PRIMARY} block mb-1`,children:""}),E.jsx("select",{value:m.payer,onChange:y=>g({...m,payer:y.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500",children:o.map(y=>E.jsx("option",{value:y,className:"text-slate-900 bg-white",children:y},y))})]}),E.jsxs("div",{children:[E.jsx("label",{className:`text-sm font-medium ${P.TEXT_PRIMARY} block mb-1`,children:""}),E.jsx("select",{value:m.category,onChange:y=>g({...m,category:y.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500",children:u.map(y=>E.jsx("option",{value:y,className:"text-slate-900 bg-white",children:y},y))})]})]}),E.jsx("button",{type:"submit",className:`w-full py-3 rounded-lg ${P.BTN_ACCENT}`,children:s?"":""})]})})},WV=({isOpen:n,onClose:e,onSave:i,defaultLocation:s=""})=>{const[o,c]=F.useState({time:"09:00",name:"",location:"",note:""});F.useEffect(()=>{n&&s&&c(m=>({...m,location:s}))},[n,s]);const u=m=>{m.preventDefault(),i(o),c({time:"09:00",name:"",location:"",note:""})},p=()=>{c({time:"09:00",name:"",location:"",note:""}),e()};return E.jsx(Wo,{isOpen:n,onClose:p,title:"",children:E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:`text-sm font-medium ${P.TEXT_PRIMARY} block mb-1`,children:""}),E.jsx("input",{type:"time",value:o.time,onChange:m=>c({...o,time:m.target.value}),required:!0,className:"w-full px-3 py-2 rounded-lg bg-white/5 border-2 border-white/10 text-white placeholder-slate-500"})]}),E.jsxs("div",{children:[E.jsx("label",{className:`text-sm font-medium ${P.TEXT_PRIMARY} block mb-1`,children:""}),E.jsx("input",{type:"text",value:o.name,onChange:m=>c({...o,name:m.target.value}),required:!0,className:"w-full px-3 py-2 rounded-lg bg-white/5 border-2 border-white/10 text-white placeholder-slate-500",placeholder:": "})]}),E.jsxs("div",{children:[E.jsx("label",{className:`text-sm font-medium ${P.TEXT_PRIMARY} block mb-1`,children:""}),E.jsx("input",{type:"text",value:o.location,onChange:m=>c({...o,location:m.target.value}),required:!0,className:"w-full px-3 py-2 rounded-lg bg-white/5 border-2 border-white/10 text-white placeholder-slate-500",placeholder:": "})]}),E.jsxs("div",{children:[E.jsx("label",{className:`text-sm font-medium ${P.TEXT_PRIMARY} block mb-1`,children:""}),E.jsx("textarea",{value:o.note,onChange:m=>c({...o,note:m.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border-2 border-white/10 text-white placeholder-slate-500",rows:3,placeholder:": "})]}),E.jsx("button",{onClick:u,className:`w-full py-3 rounded-lg ${P.BTN_ACCENT}`,children:""})]})})},JV=({isOpen:n,onClose:e,onSave:i,category:s,items:o})=>{const[c,u]=F.useState(""),[p,m]=F.useState([]);F.useEffect(()=>{n&&s&&(u(s),m(JSON.parse(JSON.stringify(o))))},[n,s,o]);const g=C=>{if(!C.destination)return;const k=Array.from(p),[L]=k.splice(C.source.index,1);k.splice(C.destination.index,0,L),m(k)},_=(C,k,L)=>{m(p.map(K=>K.id===C?{...K,[k]:L}:K))},y=C=>{m(p.filter(k=>k.id!==C))},T=()=>{const C={id:`temp-${Date.now()}`,item:"",category:c,packed:!1};m([...p,C])},w=()=>{i(s,c,p),e()};return E.jsx(Wo,{isOpen:n,onClose:e,title:"",children:E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:`text-sm font-medium ${P.TEXT_PRIMARY} block mb-1`,children:""}),E.jsx("input",{type:"text",value:c,onChange:C=>u(C.target.value),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500"})]}),E.jsxs("div",{children:[E.jsxs("div",{className:"flex justify-between items-center mb-2",children:[E.jsx("label",{className:`text-sm font-medium ${P.TEXT_PRIMARY}`,children:" ()"}),E.jsx("button",{onClick:T,className:`text-xs px-2 py-1 rounded ${P.BTN_SECONDARY}`,children:"+ "})]}),E.jsx("div",{className:"max-h-60 overflow-y-auto pr-1",children:E.jsx(YT,{onDragEnd:g,children:E.jsx(iS,{droppableId:"category-items",children:C=>E.jsxs("div",{ref:C.innerRef,...C.droppableProps,className:"space-y-2",children:[p.map((k,L)=>E.jsx(JT,{draggableId:k.id,index:L,children:K=>E.jsxs("div",{ref:K.innerRef,...K.draggableProps,...K.dragHandleProps,className:`${P.GLASS_BG} border border-white/5 rounded-lg p-2 flex items-center gap-2`,children:[E.jsx("div",{className:"text-slate-500 cursor-grab",children:""}),E.jsx("input",{type:"text",value:k.item,onChange:W=>_(k.id,"item",W.target.value),className:"flex-1 bg-transparent border-none text-white focus:ring-0 text-sm",placeholder:""}),E.jsx("button",{onClick:()=>y(k.id),className:"text-rose-500 hover:bg-white/10 p-1 rounded",children:E.jsx(Ji,{className:"w-4 h-4"})})]})},k.id)),C.placeholder]})})})})]}),E.jsx("button",{onClick:w,className:`w-full py-3 rounded-lg ${P.BTN_ACCENT}`,children:""})]})})},ZV=({isOpen:n,onClose:e,onSave:i,item:s,familyMembers:o=[]})=>{const[c,u]=F.useState({item:"",assignedTo:o[0]||"",quantity:"1",location:"",note:""});F.useEffect(()=>{u(s||{item:"",assignedTo:o[0]||"",quantity:"1",location:"",note:""})},[s,o]);const p=m=>{m.preventDefault(),i(c),u({item:"",assignedTo:o[0]||"",quantity:"1",location:"",note:""}),e()};return E.jsx(Wo,{isOpen:n,onClose:e,title:s?"":"",children:E.jsxs("form",{onSubmit:p,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:`text-sm font-medium ${P.TEXT_PRIMARY} block mb-1`,children:""}),E.jsx("input",{type:"text",value:c.item,onChange:m=>u({...c,item:m.target.value}),required:!0,className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500",placeholder:": "})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[E.jsxs("div",{children:[E.jsx("label",{className:`text-sm font-medium ${P.TEXT_PRIMARY} block mb-1`,children:""}),E.jsx("select",{value:c.assignedTo,onChange:m=>u({...c,assignedTo:m.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white",children:o.map(m=>E.jsx("option",{value:m,className:"text-slate-900 bg-white",children:m},m))})]}),E.jsxs("div",{children:[E.jsx("label",{className:`text-sm font-medium ${P.TEXT_PRIMARY} block mb-1`,children:""}),E.jsx("input",{type:"number",min:"1",value:c.quantity,onChange:m=>u({...c,quantity:m.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500"})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:`text-sm font-medium ${P.TEXT_PRIMARY} block mb-1`,children:""}),E.jsx("input",{type:"text",value:c.location,onChange:m=>u({...c,location:m.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500",placeholder:": "})]}),E.jsxs("div",{children:[E.jsx("label",{className:`text-sm font-medium ${P.TEXT_PRIMARY} block mb-1`,children:""}),E.jsx("textarea",{value:c.note,onChange:m=>u({...c,note:m.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500",rows:2})]}),E.jsx("button",{type:"submit",className:`w-full py-3 rounded-lg ${P.BTN_ACCENT}`,children:s?"":""})]})})},eL=({isOpen:n,onClose:e,onSave:i,existingCategories:s})=>{const[o,c]=F.useState({item:"",category:s[0]||"",isNewCategory:!1,newCategoryName:""}),u=p=>{p.preventDefault();const m=o.isNewCategory?o.newCategoryName:o.category;m&&(i({item:o.item,category:m}),c({item:"",category:s[0]||"",isNewCategory:!1,newCategoryName:""}))};return E.jsx(Wo,{isOpen:n,onClose:e,title:"",children:E.jsxs("form",{onSubmit:u,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:`text-sm font-medium ${P.TEXT_PRIMARY} block mb-1`,children:""}),E.jsx("input",{type:"text",value:o.item,onChange:p=>c({...o,item:p.target.value}),required:!0,className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500",placeholder:": "})]}),E.jsxs("div",{children:[E.jsx("label",{className:`text-sm font-medium ${P.TEXT_PRIMARY} block mb-1`,children:""}),E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("input",{type:"radio",id:"existing",checked:!o.isNewCategory,onChange:()=>c({...o,isNewCategory:!1}),className:"text-blue-500"}),E.jsx("label",{htmlFor:"existing",className:P.TEXT_PRIMARY,children:""})]}),!o.isNewCategory&&E.jsx("select",{value:o.category,onChange:p=>c({...o,category:p.target.value}),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white",children:s.map(p=>E.jsx("option",{value:p,className:"text-slate-900 bg-white",children:p},p))}),E.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[E.jsx("input",{type:"radio",id:"new",checked:o.isNewCategory,onChange:()=>c({...o,isNewCategory:!0}),className:"text-blue-500"}),E.jsx("label",{htmlFor:"new",className:P.TEXT_PRIMARY,children:""})]}),o.isNewCategory&&E.jsx("input",{type:"text",value:o.newCategoryName,onChange:p=>c({...o,newCategoryName:p.target.value}),placeholder:"",className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500"})]})]}),E.jsx("button",{type:"submit",className:`w-full py-3 rounded-lg ${P.BTN_ACCENT}`,children:""})]})})},tL=({tripData:n,settings:e,onAddIndependentExpense:i,onEditExpense:s,onDeleteExpense:o})=>{const c=F.useMemo(()=>{const g=[];n.days.forEach(y=>{y.activities.forEach(T=>{T.expenses&&T.expenses.forEach(w=>{g.push({...w,date:y.date,activityName:T.name,source:"activity",dayIndex:y.index,activityId:T.id})})})});const _=(n.independentExpenses||[]).map(y=>({...y,source:"independent"}));return[...g,..._].sort((y,T)=>new Date(y.date)-new Date(T.date))},[n]),u=F.useMemo(()=>{const g={};return c.forEach(_=>{g[_.currency]=(g[_.currency]||0)+_.amount}),g},[c]),p=F.useMemo(()=>{const g={};return e.currencies.forEach(({code:_})=>{const y=c.filter(se=>se.currency===_);if(y.length===0)return;const T=y.reduce((se,le)=>se+le.amount,0),w=T/e.familyMembers.length,C={};e.familyMembers.forEach(se=>{const le=y.filter(ce=>ce.payer===se).reduce((ce,I)=>ce+I.amount,0);C[se]=le-w});const k=Object.entries(C).filter(([se,le])=>le<0).sort((se,le)=>se[1]-le[1]),L=Object.entries(C).filter(([se,le])=>le>0).sort((se,le)=>le[1]-se[1]),K=[];let W=0,ie=0;for(;W<k.length&&ie<L.length;){const[se,le]=k[W],[ce,I]=L[ie],R=Math.min(-le,I);R>.01&&K.push({from:se,to:ce,amount:R}),k[W][1]+=R,L[ie][1]-=R,Math.abs(k[W][1])<.01&&W++,Math.abs(L[ie][1])<.01&&ie++}g[_]={total:T,perPerson:w,transactions:K}}),g},[c,e]),m=()=>{const g=window.open("","_blank");if(!g){alert(" PDF");return}const _=`
            <!DOCTYPE html>
            <html>
                <head>
                    <title> - ${new Date().toLocaleDateString()}</title>
                    <style>
                        body { font-family: Arial, sans-serif; padding: 20px; color: #333; }
                        h1 { text-align: center; color: #333; margin-bottom: 30px; }
                        h2 { border-bottom: 2px solid #666; padding-bottom: 10px; margin-top: 30px; font-size: 18px; }
                        table { width: 100%; border-collapse: collapse; margin-bottom: 20px; font-size: 12px; }
                        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
                        th { bg-color: #f2f2f2; font-weight: bold; background-color: #eee; }
                        .amount { text-align: right; font-family: 'Courier New', monospace; }
                        .summary-box { display: flex; gap: 20px; margin-bottom: 20px; }
                        .summary-item { border: 1px solid #ddd; padding: 15px; border-radius: 8px; flex: 1; text-align: center; }
                        .summary-amount { font-size: 24px; font-weight: bold; margin-bottom: 5px; }
                        .footer { margin-top: 50px; text-align: center; font-size: 10px; color: #999; }
                        @media print {
                            body { -webkit-print-color-adjust: exact; }
                            button { display: none; }
                        }
                    </style>
                </head>
                <body>
                    <h1></h1>
                    
                    <h2>1. </h2>
                    <div class="summary-box">
                        ${Object.entries(u).map(([y,T])=>`
                            <div class="summary-item">
                                <div class="summary-amount">${T.toFixed(y==="TWD"?0:2)} ${y}</div>
                            </div>
                        `).join("")}
                    </div>

                    <h2>2. </h2>
                    ${Object.entries(p).map(([y,T])=>`
                        <h3>${y} (: ${T.perPerson.toFixed(2)})</h3>
                        <table>
                            <thead>
                                <tr><th></th><th></th><th class="amount"> (${y})</th></tr>
                            </thead>
                            <tbody>
                                ${T.transactions.length>0?T.transactions.map(w=>`
                                    <tr>
                                        <td>${w.from}</td>
                                        <td>${w.to}</td>
                                        <td class="amount">${w.amount.toFixed(2)}</td>
                                    </tr>
                                `).join(""):'<tr><td colspan="3" style="text-align:center"></td></tr>'}
                            </tbody>
                        </table>
                    `).join("")}

                    <h2>3. </h2>
                    <table>
                        <thead>
                            <tr>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th class="amount"></th>
                                <th></th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            ${c.map(y=>`
                                <tr>
                                    <td>${new Date(y.date).toLocaleDateString()}</td>
                                    <td>${y.description} ${y.activityName?`(${y.activityName})`:""}</td>
                                    <td>${y.category||"-"}</td>
                                    <td>${y.payer}</td>
                                    <td class="amount">${y.amount}</td>
                                    <td>${y.currency}</td>
                                    <td>${y.note||""}</td>
                                </tr>
                            `).join("")}
                        </tbody>
                    </table>

                    <div class="footer">
                        : ${new Date().toLocaleString()}
                    </div>
                    
                    <script>
                        window.onload = () => { window.print(); };
                    <\/script>
                </body>
            </html>
        `;g.document.write(_),g.document.close()};return E.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-4 pb-24",children:[E.jsx("h2",{className:`text-2xl font-bold ${P.TEXT_PRIMARY} mb-4`,children:""}),E.jsxs("div",{className:`${P.GLASS_BG} ${P.GLASS_BORDER} rounded-xl p-4 ${P.GLASS_SHADOW}`,children:[E.jsx("h3",{className:`text-lg font-bold ${P.TEXT_PRIMARY} mb-3`,children:""}),E.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(u).map(([g,_])=>E.jsxs("div",{className:`${P.GLASS_BG} ${P.GLASS_BORDER} rounded-lg p-3 text-center`,children:[E.jsx("div",{className:`text-2xl font-bold ${g==="EUR"?"text-emerald-400":g==="TWD"?"text-blue-400":P.TEXT_PRIMARY}`,children:_.toFixed(g==="TWD"?0:2)}),E.jsx("div",{className:`text-sm ${P.TEXT_MUTED}`,children:g})]},g))})]}),E.jsxs("div",{className:`${P.GLASS_BG} ${P.GLASS_BORDER} rounded-xl p-4 ${P.GLASS_SHADOW}`,children:[E.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.jsx("h3",{className:`text-lg font-bold ${P.TEXT_PRIMARY}`,children:""}),E.jsxs("button",{onClick:m,className:`px-3 py-1.5 rounded-lg ${P.BTN_PRIMARY} text-sm`,children:[E.jsx(UV,{className:"w-4 h-4 inline mr-1"})," "]})]}),Object.entries(p).map(([g,_])=>E.jsxs("div",{className:"mb-4 last:mb-0",children:[E.jsxs("div",{className:`font-bold ${P.TEXT_PRIMARY} mb-2`,children:[g," "]}),E.jsxs("div",{className:`text-sm ${P.TEXT_SECONDARY} mb-2`,children:[": ",_.perPerson.toFixed(g==="TWD"?0:2)," ",g]}),E.jsx("div",{className:"space-y-1",children:_.transactions.map((y,T)=>E.jsxs("div",{className:`text-sm ${P.TEXT_PRIMARY} bg-white/5 rounded px-2 py-1`,children:[y.from,"  ",y.to,": ",y.amount.toFixed(g==="TWD"?0:2)," ",g]},T))})]},g))]}),E.jsxs("div",{className:`${P.GLASS_BG} ${P.GLASS_BORDER} rounded-xl p-4 ${P.GLASS_SHADOW}`,children:[E.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.jsx("h3",{className:`text-lg font-bold ${P.TEXT_PRIMARY}`,children:""}),E.jsxs("button",{onClick:i,className:`px-3 py-1.5 rounded-lg ${P.BTN_ACCENT} text-sm`,children:[E.jsx(ws,{className:"w-4 h-4 inline mr-1"})," "]})]}),E.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:c.map(g=>E.jsx("div",{className:`${P.GLASS_BG} ${P.GLASS_BORDER} rounded-lg p-3`,children:E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:`font-semibold ${P.TEXT_PRIMARY}`,children:g.description}),E.jsxs("div",{className:`text-xs ${P.TEXT_MUTED} mt-1`,children:[A1(g.date),"  ",g.payer,"  ",g.category,g.activityName&&`  ${g.activityName}`]})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("div",{className:`font-bold text-lg ${g.currency==="EUR"?"text-emerald-400":g.currency==="TWD"?"text-blue-400":P.TEXT_PRIMARY}`,children:[g.amount," ",g.currency]}),E.jsx("button",{onClick:()=>s(g),className:`p-1.5 rounded-lg ${P.BTN_GHOST}`,children:E.jsx(As,{className:"w-4 h-4"})}),E.jsx("button",{onClick:()=>o(g),className:`p-1.5 rounded-lg ${P.BTN_GHOST} text-rose-600`,children:E.jsx(Ji,{className:"w-4 h-4"})})]})]})},g.id))})]})]})},w1=({total:n,current:e,colorClass:i="bg-blue-500"})=>{const s=n===0?0:Math.round(e/n*100);return E.jsxs("div",{className:"mb-6",children:[E.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[E.jsx("span",{className:P.TEXT_MUTED,children:""}),E.jsxs("span",{className:P.TEXT_PRIMARY,children:[s,"% (",e,"/",n,")"]})]}),E.jsx("div",{className:"w-full bg-white/10 rounded-full h-2.5",children:E.jsx("div",{className:`h-2.5 rounded-full transition-all duration-500 ${i}`,style:{width:`${s}%`}})})]})},nL=({shoppingList:n,onTogglePurchased:e,onAddItem:i,onEditItem:s,onDeleteItem:o})=>{const c=n.length,u=n.filter(p=>p.purchased).length;return E.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-4 pb-24",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h2",{className:`text-2xl font-bold ${P.TEXT_PRIMARY}`,children:""}),E.jsxs("button",{onClick:i,className:`px-4 py-2 rounded-lg ${P.BTN_ACCENT}`,children:[E.jsx(ws,{className:"w-4 h-4 inline mr-1"})," "]})]}),E.jsx(w1,{total:c,current:u,colorClass:"bg-emerald-500"}),E.jsx("div",{className:"space-y-2",children:n.map(p=>E.jsx("div",{className:`${P.GLASS_BG} ${P.GLASS_BORDER} rounded-xl p-4 ${P.GLASS_SHADOW}`,children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("input",{type:"checkbox",checked:p.purchased,onChange:()=>e(p.id),className:"w-5 h-5 rounded border-slate-500 bg-slate-700"}),E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:`font-semibold ${p.purchased?"line-through opacity-50":""} ${P.TEXT_PRIMARY}`,children:p.item}),E.jsxs("div",{className:`text-sm ${P.TEXT_MUTED} flex flex-wrap gap-2 mt-1`,children:[E.jsxs("span",{children:[": ",p.assignedTo]}),E.jsxs("span",{children:[" : ",p.quantity]}),p.location&&E.jsxs("span",{children:[" : ",p.location]})]}),p.note&&E.jsxs("div",{className:`text-xs ${P.TEXT_SECONDARY} mt-1`,children:[": ",p.note]})]}),E.jsx("button",{onClick:()=>s(p),className:`p-2 rounded-lg ${P.BTN_GHOST}`,children:E.jsx(As,{className:"w-4 h-4"})}),E.jsx("button",{onClick:()=>o(p.id),className:`p-2 rounded-lg ${P.BTN_GHOST} text-rose-500 hover:bg-rose-500/10`,children:E.jsx(Ji,{className:"w-4 h-4"})})]})},p.id))})]})},iL=({packingList:n,onTogglePacked:e,onAddItem:i,onDeleteItem:s,onOpenCategoryEdit:o,onDeleteCategory:c})=>{const u=[...new Set(n.map(g=>g.category))],p=n.length,m=n.filter(g=>g.packed).length;return E.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-4 pb-24",children:[E.jsxs("div",{className:"flex items-center justify-between mb-4",children:[E.jsx("h2",{className:`text-2xl font-bold ${P.TEXT_PRIMARY}`,children:""}),E.jsxs("button",{onClick:i,className:`px-4 py-2 rounded-lg ${P.BTN_ACCENT}`,children:[E.jsx(ws,{className:"w-4 h-4 inline mr-1"})," "]})]}),E.jsx(w1,{total:p,current:m,colorClass:"bg-blue-500"}),u.map(g=>E.jsxs("div",{className:`${P.GLASS_BG} ${P.GLASS_BORDER} rounded-xl p-4 ${P.GLASS_SHADOW}`,children:[E.jsxs("div",{className:"flex items-center justify-between mb-3 border-b border-white/10 pb-2",children:[E.jsx("h3",{className:`font-bold ${P.TEXT_PRIMARY}`,children:g}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:()=>o(g),className:`p-1.5 rounded-lg ${P.BTN_GHOST}`,children:E.jsx(As,{className:"w-4 h-4"})}),E.jsx("button",{onClick:()=>{window.confirm(`${g}?`)&&c(g)},className:`p-1.5 rounded-lg ${P.BTN_GHOST} text-rose-500 hover:bg-rose-500/10`,children:E.jsx(Ji,{className:"w-4 h-4"})})]})]}),E.jsx("div",{className:"space-y-2",children:n.filter(_=>_.category===g).map(_=>E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("input",{type:"checkbox",checked:_.packed,onChange:()=>e(_.id),className:"w-5 h-5 rounded border-slate-500 bg-slate-700"}),E.jsx("div",{className:`flex-1 ${_.packed?"line-through opacity-50":""} ${P.TEXT_PRIMARY}`,children:_.item}),E.jsx("button",{onClick:()=>s(_.id),className:`p-2 rounded-lg ${P.BTN_GHOST} text-rose-500 hover:bg-rose-500/10`,children:E.jsx(Ji,{className:"w-4 h-4"})})]},_.id))})]},g))]})},rL=({settings:n,onUpdateSettings:e})=>{const[i,s]=F.useState(null),[o,c]=F.useState(""),[u,p]=F.useState(""),[m,g]=F.useState(""),[_,y]=F.useState(null),[T,w]=F.useState(null),[C,k]=F.useState(""),[L,K]=F.useState(""),W=()=>{if(!o.trim())return;const oe={...n,familyMembers:[...n.familyMembers,o.trim()]};e(oe),c(""),s(null)},ie=oe=>{if(!window.confirm(`${oe}`))return;const Se={...n,familyMembers:n.familyMembers.filter(Q=>Q!==oe)};e(Se)},se=oe=>{y("member"),w(oe),k(oe)},le=()=>{if(!C.trim()||C===T){y(null);return}const oe={...n,familyMembers:n.familyMembers.map(Se=>Se===T?C.trim():Se)};e(oe),y(null)},ce=()=>{if(!o.trim())return;const oe={...n,categories:[...n.categories,o.trim()]};e(oe),c(""),s(null)},I=oe=>{if(!window.confirm(`${oe}`))return;const Se={...n,categories:n.categories.filter(Q=>Q!==oe)};e(Se)},R=oe=>{y("category"),w(oe),k(oe)},D=()=>{if(!C.trim()||C===T){y(null);return}const oe={...n,categories:n.categories.map(Se=>Se===T?C.trim():Se)};e(oe),y(null)},V=()=>{if(!u.trim()||!m.trim())return;const oe={...n,currencies:[...n.currencies,{code:u.trim().toUpperCase(),name:m.trim()}]};e(oe),p(""),g(""),s(null)},M=oe=>{if(!window.confirm(`${oe}`))return;const Se={...n,currencies:n.currencies.filter(Q=>Q.code!==oe)};e(Se)},B=oe=>{y("currency"),w(oe.code),k(oe.code),K(oe.name)},N=()=>{if(!C.trim()||!L.trim()){y(null);return}const oe={...n,currencies:n.currencies.map(Se=>Se.code===T?{code:C.trim().toUpperCase(),name:L.trim()}:Se)};e(oe),y(null)};return E.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-4 pb-24",children:[E.jsx("h2",{className:`text-2xl font-bold ${P.TEXT_PRIMARY} mb-4`,children:""}),E.jsxs("div",{className:`${P.GLASS_BG} ${P.GLASS_BORDER} rounded-xl p-4 ${P.GLASS_SHADOW}`,children:[E.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.jsxs("h3",{className:`text-lg font-bold ${P.TEXT_PRIMARY} flex items-center gap-2`,children:[E.jsx(PV,{className:"w-5 h-5"})," "]}),E.jsxs("button",{onClick:()=>s(i==="members"?null:"members"),className:`px-3 py-1.5 rounded-lg ${P.BTN_ACCENT} text-sm`,children:[E.jsx(ws,{className:"w-4 h-4 inline mr-1"})," "]})]}),i==="members"&&E.jsxs("div",{className:"mb-3 flex gap-2",children:[E.jsx("input",{type:"text",value:o,onChange:oe=>c(oe.target.value),placeholder:": ",className:"flex-1 px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500",onKeyPress:oe=>oe.key==="Enter"&&W()}),E.jsx("button",{onClick:W,className:`px-4 py-2 rounded-lg ${P.BTN_ACCENT}`,children:""})]}),E.jsx("div",{className:"space-y-2",children:n.familyMembers.map(oe=>E.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg ${P.GLASS_BG} ${P.GLASS_BORDER}`,children:_==="member"&&T===oe?E.jsxs("div",{className:"flex-1 flex gap-2 mr-2",children:[E.jsx("input",{type:"text",value:C,onChange:Se=>k(Se.target.value),className:"flex-1 px-2 py-1 rounded bg-white/10 border border-white/20 text-white"}),E.jsx("button",{onClick:le,className:`px-3 py-1 rounded ${P.BTN_ACCENT} text-xs`,children:""}),E.jsx("button",{onClick:()=>y(null),className:`px-3 py-1 rounded ${P.BTN_PRIMARY} text-xs`,children:""})]}):E.jsxs(E.Fragment,{children:[E.jsx("span",{className:P.TEXT_PRIMARY,children:oe}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:()=>se(oe),className:`p-1.5 rounded-lg ${P.BTN_GHOST}`,children:E.jsx(As,{className:"w-4 h-4"})}),E.jsx("button",{onClick:()=>ie(oe),className:`p-1.5 rounded-lg ${P.BTN_GHOST} text-rose-500`,children:E.jsx(Ji,{className:"w-4 h-4"})})]})]})},oe))})]}),E.jsxs("div",{className:`${P.GLASS_BG} ${P.GLASS_BORDER} rounded-xl p-4 ${P.GLASS_SHADOW}`,children:[E.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.jsxs("h3",{className:`text-lg font-bold ${P.TEXT_PRIMARY} flex items-center gap-2`,children:[E.jsx(OV,{className:"w-5 h-5"})," "]}),E.jsxs("button",{onClick:()=>s(i==="categories"?null:"categories"),className:`px-3 py-1.5 rounded-lg ${P.BTN_ACCENT} text-sm`,children:[E.jsx(ws,{className:"w-4 h-4 inline mr-1"})," "]})]}),i==="categories"&&E.jsxs("div",{className:"mb-3 flex gap-2",children:[E.jsx("input",{type:"text",value:o,onChange:oe=>c(oe.target.value),placeholder:": ",className:"flex-1 px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500",onKeyPress:oe=>oe.key==="Enter"&&ce()}),E.jsx("button",{onClick:ce,className:`px-4 py-2 rounded-lg ${P.BTN_ACCENT}`,children:""})]}),E.jsx("div",{className:"space-y-2",children:n.categories.map(oe=>E.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg ${P.GLASS_BG} ${P.GLASS_BORDER}`,children:_==="category"&&T===oe?E.jsxs("div",{className:"flex-1 flex gap-2 mr-2",children:[E.jsx("input",{type:"text",value:C,onChange:Se=>k(Se.target.value),className:"flex-1 px-2 py-1 rounded bg-white/10 border border-white/20 text-white"}),E.jsx("button",{onClick:D,className:`px-3 py-1 rounded ${P.BTN_ACCENT} text-xs`,children:""}),E.jsx("button",{onClick:()=>y(null),className:`px-3 py-1 rounded ${P.BTN_PRIMARY} text-xs`,children:""})]}):E.jsxs(E.Fragment,{children:[E.jsx("span",{className:P.TEXT_PRIMARY,children:oe}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:()=>R(oe),className:`p-1.5 rounded-lg ${P.BTN_GHOST}`,children:E.jsx(As,{className:"w-4 h-4"})}),E.jsx("button",{onClick:()=>I(oe),className:`p-1.5 rounded-lg ${P.BTN_GHOST} text-rose-500`,children:E.jsx(Ji,{className:"w-4 h-4"})})]})]})},oe))})]}),E.jsxs("div",{className:`${P.GLASS_BG} ${P.GLASS_BORDER} rounded-xl p-4 ${P.GLASS_SHADOW}`,children:[E.jsxs("div",{className:"flex items-center justify-between mb-3",children:[E.jsxs("h3",{className:`text-lg font-bold ${P.TEXT_PRIMARY} flex items-center gap-2`,children:[E.jsx(VV,{className:"w-5 h-5"})," "]}),E.jsxs("button",{onClick:()=>s(i==="currencies"?null:"currencies"),className:`px-3 py-1.5 rounded-lg ${P.BTN_ACCENT} text-sm`,children:[E.jsx(ws,{className:"w-4 h-4 inline mr-1"})," "]})]}),i==="currencies"&&E.jsxs("div",{className:"mb-3 space-y-2",children:[E.jsx("input",{type:"text",value:u,onChange:oe=>p(oe.target.value.toUpperCase()),placeholder:" (: USD)",maxLength:3,className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500"}),E.jsx("input",{type:"text",value:m,onChange:oe=>g(oe.target.value),placeholder:" (: )",className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-500"}),E.jsx("button",{onClick:V,className:`w-full py-2 rounded-lg ${P.BTN_ACCENT}`,children:""})]}),E.jsx("div",{className:"space-y-2",children:n.currencies.map(oe=>E.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg ${P.GLASS_BG} ${P.GLASS_BORDER}`,children:_==="currency"&&T===oe.code?E.jsxs("div",{className:"flex-1 flex gap-2 mr-2",children:[E.jsx("input",{type:"text",value:C,onChange:Se=>k(Se.target.value.toUpperCase()),maxLength:3,className:"w-16 px-2 py-1 rounded bg-white/10 border border-white/20 text-white text-center"}),E.jsx("input",{type:"text",value:L,onChange:Se=>K(Se.target.value),className:"flex-1 px-2 py-1 rounded bg-white/10 border border-white/20 text-white"}),E.jsx("button",{onClick:N,className:`px-3 py-1 rounded ${P.BTN_ACCENT} text-xs`,children:""}),E.jsx("button",{onClick:()=>y(null),className:`px-3 py-1 rounded ${P.BTN_PRIMARY} text-xs`,children:""})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{children:[E.jsx("span",{className:`${P.TEXT_PRIMARY} font-semibold`,children:oe.code}),E.jsxs("span",{className:`${P.TEXT_SECONDARY} text-sm ml-2`,children:["(",oe.name,")"]})]}),E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:()=>B(oe),className:`p-1.5 rounded-lg ${P.BTN_GHOST}`,children:E.jsx(As,{className:"w-4 h-4"})}),E.jsx("button",{onClick:()=>M(oe.code),className:`p-1.5 rounded-lg ${P.BTN_GHOST} text-rose-500`,children:E.jsx(Ji,{className:"w-4 h-4"})})]})]})},oe.code))})]})]})},sL={apiKey:"AIzaSyC8kuPhbcCwDvkyPX2psh48MZkAr4HaSQQ",authDomain:"teavel-plan.firebaseapp.com",projectId:"teavel-plan",storageBucket:"teavel-plan.firebasestorage.app",messagingSenderId:"774661526446",appId:"1:774661526446:web:611723c1a725956bbc2e3f",measurementId:"G-JNHQ7DPDPH"};let zm,Gm,ds=!1;try{const n=pS(sL);zm=hV(n),Gm=u4(n),ds=!0,console.log("Firebase initialized successfully")}catch(n){console.error("Firebase Initialization Error:",n),ds=!1}const aL=()=>{const[n,e]=F.useState(()=>{const re=localStorage.getItem("tripData_v3");return re?JSON.parse(re):qV}),[i,s]=F.useState(()=>{const re=localStorage.getItem("settings_v3");return re?{...GE,...JSON.parse(re)}:GE}),[o,c]=F.useState(!0),[u,p]=F.useState(null),[m,g]=F.useState("itinerary"),[_,y]=F.useState(1),[T,w]=F.useState(!1),[C,k]=F.useState(!1),[L,K]=F.useState(!1),[W,ie]=F.useState(!1),[se,le]=F.useState(!1),[ce,I]=F.useState(null),[R,D]=F.useState(null),[V,M]=F.useState(null),[B,N]=F.useState(null),[oe,Se]=F.useState(!1),[Q,he]=F.useState(!1),[Ee,Ue]=F.useState(!1),[Ke,j]=F.useState(""),[Z,ue]=F.useState("init"),[ge,Ce]=F.useState(null),[Oe,Be]=F.useState(null),[bt,We]=F.useState(null),un=ds?ME(zm,"trips","vienna-2026"):null,Fn=ds?ME(zm,"trips","settings-vienna-2026"):null;F.useEffect(()=>{if(!ds){c(!1),ue("error");return}const re=ZO(Gm,me=>{p(me),me?(console.log("User authenticated:",me.uid),Be(null)):Be("User not logged in")});YO(Gm).catch(me=>{console.error("Auth Error:",me),Be(me.message),ue("error")});const pe=UE(un,me=>{if(ue("connected"),Ce(new Date),We(null),me.exists()){console.log("Received remote trip data update");const be=me.data();e(et=>JSON.stringify(et)!==JSON.stringify(be)?be:et),localStorage.setItem("tripData_v3",JSON.stringify(be))}},me=>{console.error("Trip Data Sync Error:",me),We(me.message),ue("error")}),ye=UE(Fn,me=>{if(me.exists()){console.log("Received remote settings update");const be=me.data();s(be),localStorage.setItem("settings_v3",JSON.stringify(be))}},me=>{console.error("Settings Sync Error:",me),We(be=>be||me.message)});return c(!1),()=>{re(),pe(),ye()}},[]);const xe=F.useCallback(re=>{e(re),localStorage.setItem("tripData_v3",JSON.stringify(re)),ds&&un&&jE(un,re,{merge:!0}).catch(pe=>{console.error("Save Error:",pe),We("Save failed: "+pe.message),ue("error")})},[un]),yn=F.useCallback((re,pe)=>{const ye=n.days.map(me=>me.index===re?{...me,city:pe}:me);xe({...n,days:ye})},[n,xe]),$n=F.useCallback((re,pe,ye)=>{const me={...n.flightInfo};pe==="time"?me[re]={...me[re],departure:{...me[re].departure,time:ye}}:pe==="note"&&(me[re]={...me[re],note:ye}),xe({...n,flightInfo:me})},[n,xe]),Ps=F.useCallback((re,pe)=>{const ye=n.days.map(me=>me.index===re?{...me,activities:me.activities.map(be=>be.id===pe.id?pe:be)}:me);xe({...n,days:ye})},[n,xe]),tr=F.useCallback((re,pe)=>{if(!window.confirm("?"))return;const ye=n.days.map(me=>me.index===re?{...me,activities:me.activities.filter(be=>be.id!==pe)}:me);xe({...n,days:ye})},[n,xe]);F.useCallback(()=>{k(!0)},[]);const Vs=F.useCallback(re=>{const pe={id:lc(),...re,expenses:[]},ye=n.days.map(me=>me.index===_?{...me,activities:[...me.activities,pe]}:me);xe({...n,days:ye}),k(!1)},[n,_,xe]),Ls=F.useCallback((re,pe)=>{M(pe),D(null),Se(!1),w(!0)},[]),At=F.useCallback(()=>{M(null),D(null),Se(!0),w(!0)},[]),wt=F.useCallback(re=>{D(re),Se(re.source==="independent"),M(re.activityId||null),w(!0)},[]),hi=F.useCallback(re=>{if(window.confirm("?"))if(re.source==="independent"){const pe=(n.independentExpenses||[]).filter(ye=>ye.id!==re.id);xe({...n,independentExpenses:pe})}else{const pe=n.days.map(ye=>ye.index===re.dayIndex?{...ye,activities:ye.activities.map(me=>me.id===re.activityId?{...me,expenses:(me.expenses||[]).filter(be=>be.id!==re.id)}:me)}:ye);xe({...n,days:pe})}},[n,xe]),Jo=F.useCallback(re=>{if(oe){const pe=n.independentExpenses||[],ye=pe.findIndex(me=>me.id===re.id);ye>=0?pe[ye]=re:pe.push(re),xe({...n,independentExpenses:pe})}else{const pe=n.days.map(ye=>{const me=ye.activities.some(be=>be.expenses?.some(et=>et.id===re.id));return ye.index===_||me?{...ye,activities:ye.activities.map(be=>{if(be.id===V){const et=be.expenses||[],ir=et.findIndex(Sn=>Sn.id===re.id);return ir>=0?et[ir]=re:et.push(re),{...be,expenses:et}}return be})}:ye});xe({...n,days:pe})}},[n,_,V,oe,xe]),Ca=F.useCallback(re=>{if(!re.destination)return;const pe=_,ye=n.days.map(me=>{if(me.index===pe){const be=Array.from(me.activities),[et]=be.splice(re.source.index,1);return be.splice(re.destination.index,0,et),{...me,activities:be}}return me});xe({...n,days:ye})},[n,_,xe]),Zt=F.useCallback(re=>{const pe=n.shoppingList.map(ye=>ye.id===re?{...ye,purchased:!ye.purchased}:ye);xe({...n,shoppingList:pe})},[n,xe]),nr=F.useCallback(re=>{const pe=n.packingList.map(ye=>ye.id===re?{...ye,packed:!ye.packed}:ye);xe({...n,packingList:pe})},[n,xe]),ks=F.useCallback(()=>{N(null),K(!0)},[]),js=F.useCallback(re=>{N(re),K(!0)},[]),Ri=F.useCallback(re=>{if(re.id){const pe=(n.shoppingList||[]).map(ye=>ye.id===re.id?re:ye);xe({...n,shoppingList:pe})}else{const pe={id:lc(),...re,purchased:!1};xe({...n,shoppingList:[...n.shoppingList||[],pe]})}K(!1)},[n,xe]),Zo=F.useCallback(re=>{if(!window.confirm("?"))return;const pe=(n.shoppingList||[]).filter(ye=>ye.id!==re);xe({...n,shoppingList:pe})},[n,xe]),Ia=F.useCallback(()=>{ie(!0)},[]),Da=F.useCallback(re=>{const pe={id:lc(),...re,packed:!1};xe({...n,packingList:[...n.packingList||[],pe]}),ie(!1)},[n,xe]),Na=F.useCallback(re=>{if(!window.confirm("?"))return;const pe=(n.packingList||[]).filter(ye=>ye.id!==re);xe({...n,packingList:pe})},[n,xe]),On=F.useCallback(re=>{I(re),le(!0)},[]),Gt=F.useCallback((re,pe,ye)=>{const me=(n.packingList||[]).filter(et=>et.category!==re),be=ye.map(et=>({...et,category:pe,id:et.id.startsWith("temp-")?lc():et.id}));xe({...n,packingList:[...me,...be]})},[n,xe]),Tn=F.useCallback(re=>{const pe=(n.packingList||[]).filter(ye=>ye.category!==re);xe({...n,packingList:pe})},[n,xe]),Et=F.useCallback(re=>{s(re),localStorage.setItem("settings_v3",JSON.stringify(re)),ds&&Fn&&jE(Fn,re,{merge:!0}).catch(pe=>console.error("Settings Save Error:",pe))},[Fn]),dn=F.useMemo(()=>{const re=n.days.find(ye=>ye.index===_);if(!re)return null;const pe=[...re.activities].sort((ye,me)=>{const be=ye.time||"00:00",et=me.time||"00:00";return be.localeCompare(et)});return{...re,activities:pe}},[n.days,_]),Or=F.useMemo(()=>{if(!dn)return{};const re={};return dn.activities.forEach(pe=>{pe.expenses&&pe.expenses.forEach(ye=>{re[ye.currency]=(re[ye.currency]||0)+ye.amount})}),re},[dn]);if(o)return E.jsx("div",{className:`min-h-screen ${P.BG_CANVAS} flex justify-center items-center`,children:E.jsx(HV,{})});const Oa=()=>{switch(m){case"finance":return E.jsx(tL,{tripData:n,settings:i,onAddIndependentExpense:At,onEditExpense:wt,onDeleteExpense:hi});case"shopping":return E.jsx(nL,{shoppingList:n.shoppingList||[],onTogglePurchased:Zt,onAddItem:ks,onEditItem:js,onDeleteItem:Zo});case"packing":return E.jsx(iL,{packingList:n.packingList||[],onTogglePacked:nr,onAddItem:Ia,onDeleteItem:Na,onOpenCategoryEdit:On,onDeleteCategory:Tn});case"settings":return E.jsx(rL,{settings:i,onUpdateSettings:Et});default:{const re=()=>{const be=dn.city||dn.activities.find(et=>et.type==="sightseeing"||et.type==="accommodation")?.location?.split(",")[0]||"";j(be),Ue(!0)},pe=()=>{yn(dn.index,Ke),Ue(!1)},ye=dn?.activities?.find(be=>be.type==="sightseeing"||be.type==="accommodation")?.location?.split(",")[0],me=dn?.city||ye||"";return E.jsxs(E.Fragment,{children:[E.jsx(YV,{days:n.days,selectedDayIndex:_,onSelectDay:y,onUpdateDayCity:yn}),E.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6 pb-24",children:[E.jsx("div",{className:`${P.GLASS_BG} ${P.GLASS_BORDER} rounded-xl p-4 mb-4 ${P.GLASS_SHADOW}`,children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("h2",{className:`text-lg font-bold ${P.TEXT_PRIMARY}`,children:dn?.date?A1(dn.date):""}),Ee?E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("input",{type:"text",value:Ke,onChange:be=>j(be.target.value),className:`${P.GLASS_BG} ${P.GLASS_BORDER} ${P.TEXT_PRIMARY} rounded px-2 py-1 text-sm focus:outline-none focus:ring-1 focus:ring-amber-500`,autoFocus:!0,onKeyDown:be=>{be.key==="Enter"&&pe(),be.key==="Escape"&&Ue(!1)}}),E.jsx("button",{onClick:pe,className:"text-emerald-500 hover:text-emerald-400",children:""}),E.jsx("button",{onClick:()=>Ue(!1),className:"text-rose-500 hover:text-rose-400",children:""})]}):E.jsxs("span",{onClick:re,className:`text-base font-normal ${P.TEXT_SECONDARY} cursor-pointer hover:bg-white/5 rounded px-1 transition-colors`,title:"",children:[" ",me||""]})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"flex gap-3",children:Object.entries(Or).map(([be,et])=>E.jsxs("div",{className:"text-right",children:[E.jsx("div",{className:`text-xs ${P.TEXT_MUTED}`,children:be}),E.jsx("div",{className:`text-lg font-bold ${be==="EUR"?"text-emerald-400":be==="TWD"?"text-blue-400":P.TEXT_PRIMARY}`,children:et.toFixed(be==="TWD"?0:2)})]},be))}),E.jsxs("button",{onClick:()=>{k(!0)},className:`px-3 py-2 rounded-lg ${P.BTN_SECONDARY} text-sm flex items-center gap-1`,children:[E.jsx(ws,{className:"w-4 h-4"}),""]})]})]})}),E.jsx(YT,{onDragEnd:Ca,children:E.jsx(iS,{droppableId:"activities",children:be=>E.jsxs("div",{ref:be.innerRef,...be.droppableProps,className:"space-y-4",children:[dn?.activities.map((et,ir)=>E.jsx(JT,{draggableId:et.id,index:ir,children:Sn=>E.jsx(XV,{activity:et,dayIndex:_,onEdit:Ps,onDelete:tr,onAddExpense:Ls,onEditExpense:wt,onDeleteExpense:hi,provided:Sn})},et.id)),be.placeholder]})})})]})]})}}},Yn=[{id:"itinerary",name:"",icon:kV},{id:"finance",name:"",icon:LV},{id:"shopping",name:"",icon:BV},{id:"packing",name:"",icon:zV},{id:"settings",name:"",icon:jV}];return E.jsxs("div",{className:`min-h-screen ${P.BG_CANVAS}`,children:[E.jsx($V,{flightInfo:n.flightInfo,syncStatus:Z,onOpenStatus:()=>he(!0),onUpdateFlight:$n}),E.jsx(KV,{isOpen:Q,onClose:()=>he(!1),syncStatus:Z,lastSyncTime:ge,authUser:u,authError:Oe,dbError:bt,firebaseEnabled:ds}),Oa(),E.jsx("div",{className:`fixed bottom-0 left-0 right-0 ${P.GLASS_BG} ${P.GLASS_BORDER} border-t ${P.GLASS_SHADOW}`,children:E.jsx("div",{className:"max-w-6xl mx-auto flex justify-around items-center h-16",children:Yn.map(re=>E.jsxs("button",{onClick:()=>g(re.id),className:`flex flex-col items-center justify-center flex-1 h-full transition-all duration-200 ${m===re.id?`${P.SELECTED} border-t-2 border-amber-600`:"opacity-60 hover:opacity-100"}`,children:[typeof re.icon=="string"?E.jsx("span",{className:"text-2xl mb-1",children:re.icon}):E.jsx(re.icon,{className:`w-6 h-6 ${P.TEXT_PRIMARY} mb-1`}),E.jsx("span",{className:`text-xs ${P.TEXT_PRIMARY} font-semibold`,children:re.name})]},re.id))})}),E.jsx(QV,{isOpen:T,onClose:()=>w(!1),onSave:Jo,expense:R,familyMembers:i.familyMembers,currencies:i.currencies,categories:i.categories,isIndependent:oe}),E.jsx(WV,{isOpen:C,onClose:()=>k(!1),onSave:Vs}),E.jsx(ZV,{isOpen:L,onClose:()=>K(!1),onSave:Ri,item:B,familyMembers:i.familyMembers}),E.jsx(eL,{isOpen:W,onClose:()=>ie(!1),onSave:Da,existingCategories:[...new Set((n.packingList||[]).map(re=>re.category))]}),E.jsx(JV,{isOpen:se,onClose:()=>le(!1),onSave:Gt,category:ce,items:(n.packingList||[]).filter(re=>re.category===ce)})]})};ux.createRoot(document.getElementById("root")).render(E.jsx(F.StrictMode,{children:E.jsx(aL,{})}));
